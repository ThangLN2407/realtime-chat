const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-wZXqpeMJ.js","assets/AuthForm-CYGEpAuT.js","assets/index-Dl5d7Ti2.js","assets/index-BfHKtjz0.js","assets/Register-BGnYz-76.js","assets/Home-AeO-hTDd.js","assets/Avatar-Bt4tKcM3.js","assets/ChatRoom-yZhzDi-V.js"])))=>i.map(i=>d[i]);
function cE(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Fm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tp={exports:{}},Vl={},np={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function wC(){if(g_)return Xe;g_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,D={};function C(B,ee,pe){this.props=B,this.context=ee,this.refs=D,this.updater=pe||I}C.prototype.isReactComponent={},C.prototype.setState=function(B,ee){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ee,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function O(){}O.prototype=C.prototype;function z(B,ee,pe){this.props=B,this.context=ee,this.refs=D,this.updater=pe||I}var W=z.prototype=new O;W.constructor=z,P(W,C.prototype),W.isPureReactComponent=!0;var X=Array.isArray,Y=Object.prototype.hasOwnProperty,L={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(B,ee,pe){var ke,Ve={},$e=null,qe=null;if(ee!=null)for(ke in ee.ref!==void 0&&(qe=ee.ref),ee.key!==void 0&&($e=""+ee.key),ee)Y.call(ee,ke)&&!k.hasOwnProperty(ke)&&(Ve[ke]=ee[ke]);var tt=arguments.length-2;if(tt===1)Ve.children=pe;else if(1<tt){for(var lt=Array(tt),Je=0;Je<tt;Je++)lt[Je]=arguments[Je+2];Ve.children=lt}if(B&&B.defaultProps)for(ke in tt=B.defaultProps,tt)Ve[ke]===void 0&&(Ve[ke]=tt[ke]);return{$$typeof:n,type:B,key:$e,ref:qe,props:Ve,_owner:L.current}}function A(B,ee){return{$$typeof:n,type:B.type,key:ee,ref:B.ref,props:B.props,_owner:B._owner}}function N(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function V(B){var ee={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(pe){return ee[pe]})}var U=/\/+/g;function b(B,ee){return typeof B=="object"&&B!==null&&B.key!=null?V(""+B.key):ee.toString(36)}function de(B,ee,pe,ke,Ve){var $e=typeof B;($e==="undefined"||$e==="boolean")&&(B=null);var qe=!1;if(B===null)qe=!0;else switch($e){case"string":case"number":qe=!0;break;case"object":switch(B.$$typeof){case n:case e:qe=!0}}if(qe)return qe=B,Ve=Ve(qe),B=ke===""?"."+b(qe,0):ke,X(Ve)?(pe="",B!=null&&(pe=B.replace(U,"$&/")+"/"),de(Ve,ee,pe,"",function(Je){return Je})):Ve!=null&&(N(Ve)&&(Ve=A(Ve,pe+(!Ve.key||qe&&qe.key===Ve.key?"":(""+Ve.key).replace(U,"$&/")+"/")+B)),ee.push(Ve)),1;if(qe=0,ke=ke===""?".":ke+":",X(B))for(var tt=0;tt<B.length;tt++){$e=B[tt];var lt=ke+b($e,tt);qe+=de($e,ee,pe,lt,Ve)}else if(lt=E(B),typeof lt=="function")for(B=lt.call(B),tt=0;!($e=B.next()).done;)$e=$e.value,lt=ke+b($e,tt++),qe+=de($e,ee,pe,lt,Ve);else if($e==="object")throw ee=String(B),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return qe}function xe(B,ee,pe){if(B==null)return B;var ke=[],Ve=0;return de(B,ke,"","",function($e){return ee.call(pe,$e,Ve++)}),ke}function _e(B){if(B._status===-1){var ee=B._result;ee=ee(),ee.then(function(pe){(B._status===0||B._status===-1)&&(B._status=1,B._result=pe)},function(pe){(B._status===0||B._status===-1)&&(B._status=2,B._result=pe)}),B._status===-1&&(B._status=0,B._result=ee)}if(B._status===1)return B._result.default;throw B._result}var Se={current:null},re={transition:null},ce={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:re,ReactCurrentOwner:L};function le(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:xe,forEach:function(B,ee,pe){xe(B,function(){ee.apply(this,arguments)},pe)},count:function(B){var ee=0;return xe(B,function(){ee++}),ee},toArray:function(B){return xe(B,function(ee){return ee})||[]},only:function(B){if(!N(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Xe.Component=C,Xe.Fragment=t,Xe.Profiler=s,Xe.PureComponent=z,Xe.StrictMode=r,Xe.Suspense=d,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Xe.act=le,Xe.cloneElement=function(B,ee,pe){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ke=P({},B.props),Ve=B.key,$e=B.ref,qe=B._owner;if(ee!=null){if(ee.ref!==void 0&&($e=ee.ref,qe=L.current),ee.key!==void 0&&(Ve=""+ee.key),B.type&&B.type.defaultProps)var tt=B.type.defaultProps;for(lt in ee)Y.call(ee,lt)&&!k.hasOwnProperty(lt)&&(ke[lt]=ee[lt]===void 0&&tt!==void 0?tt[lt]:ee[lt])}var lt=arguments.length-2;if(lt===1)ke.children=pe;else if(1<lt){tt=Array(lt);for(var Je=0;Je<lt;Je++)tt[Je]=arguments[Je+2];ke.children=tt}return{$$typeof:n,type:B.type,key:Ve,ref:$e,props:ke,_owner:qe}},Xe.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Xe.createElement=R,Xe.createFactory=function(B){var ee=R.bind(null,B);return ee.type=B,ee},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(B){return{$$typeof:f,render:B}},Xe.isValidElement=N,Xe.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:_e}},Xe.memo=function(B,ee){return{$$typeof:p,type:B,compare:ee===void 0?null:ee}},Xe.startTransition=function(B){var ee=re.transition;re.transition={};try{B()}finally{re.transition=ee}},Xe.unstable_act=le,Xe.useCallback=function(B,ee){return Se.current.useCallback(B,ee)},Xe.useContext=function(B){return Se.current.useContext(B)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(B){return Se.current.useDeferredValue(B)},Xe.useEffect=function(B,ee){return Se.current.useEffect(B,ee)},Xe.useId=function(){return Se.current.useId()},Xe.useImperativeHandle=function(B,ee,pe){return Se.current.useImperativeHandle(B,ee,pe)},Xe.useInsertionEffect=function(B,ee){return Se.current.useInsertionEffect(B,ee)},Xe.useLayoutEffect=function(B,ee){return Se.current.useLayoutEffect(B,ee)},Xe.useMemo=function(B,ee){return Se.current.useMemo(B,ee)},Xe.useReducer=function(B,ee,pe){return Se.current.useReducer(B,ee,pe)},Xe.useRef=function(B){return Se.current.useRef(B)},Xe.useState=function(B){return Se.current.useState(B)},Xe.useSyncExternalStore=function(B,ee,pe){return Se.current.useSyncExternalStore(B,ee,pe)},Xe.useTransition=function(){return Se.current.useTransition()},Xe.version="18.3.1",Xe}var y_;function Um(){return y_||(y_=1,np.exports=wC()),np.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function EC(){if(v_)return Vl;v_=1;var n=Um(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,p){var v,w={},E=null,I=null;p!==void 0&&(E=""+p),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(I=d.ref);for(v in d)r.call(d,v)&&!a.hasOwnProperty(v)&&(w[v]=d[v]);if(f&&f.defaultProps)for(v in d=f.defaultProps,d)w[v]===void 0&&(w[v]=d[v]);return{$$typeof:e,type:f,key:E,ref:I,props:w,_owner:s.current}}return Vl.Fragment=t,Vl.jsx=u,Vl.jsxs=u,Vl}var __;function TC(){return __||(__=1,tp.exports=EC()),tp.exports}var mt=TC(),j=Um();const $r=Fm(j),hE=cE({__proto__:null,default:$r},[j]);var Bc={},rp={exports:{}},jn={},ip={exports:{}},sp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function SC(){return w_||(w_=1,function(n){function e(re,ce){var le=re.length;re.push(ce);e:for(;0<le;){var B=le-1>>>1,ee=re[B];if(0<s(ee,ce))re[B]=ce,re[le]=ee,le=B;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ce=re[0],le=re.pop();if(le!==ce){re[0]=le;e:for(var B=0,ee=re.length,pe=ee>>>1;B<pe;){var ke=2*(B+1)-1,Ve=re[ke],$e=ke+1,qe=re[$e];if(0>s(Ve,le))$e<ee&&0>s(qe,Ve)?(re[B]=qe,re[$e]=le,B=$e):(re[B]=Ve,re[ke]=le,B=ke);else if($e<ee&&0>s(qe,le))re[B]=qe,re[$e]=le,B=$e;else break e}}return ce}function s(re,ce){var le=re.sortIndex-ce.sortIndex;return le!==0?le:re.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var d=[],p=[],v=1,w=null,E=3,I=!1,P=!1,D=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(re){for(var ce=t(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=re)r(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=t(p)}}function X(re){if(D=!1,W(re),!P)if(t(d)!==null)P=!0,_e(Y);else{var ce=t(p);ce!==null&&Se(X,ce.startTime-re)}}function Y(re,ce){P=!1,D&&(D=!1,O(R),R=-1),I=!0;var le=E;try{for(W(ce),w=t(d);w!==null&&(!(w.expirationTime>ce)||re&&!V());){var B=w.callback;if(typeof B=="function"){w.callback=null,E=w.priorityLevel;var ee=B(w.expirationTime<=ce);ce=n.unstable_now(),typeof ee=="function"?w.callback=ee:w===t(d)&&r(d),W(ce)}else r(d);w=t(d)}if(w!==null)var pe=!0;else{var ke=t(p);ke!==null&&Se(X,ke.startTime-ce),pe=!1}return pe}finally{w=null,E=le,I=!1}}var L=!1,k=null,R=-1,A=5,N=-1;function V(){return!(n.unstable_now()-N<A)}function U(){if(k!==null){var re=n.unstable_now();N=re;var ce=!0;try{ce=k(!0,re)}finally{ce?b():(L=!1,k=null)}}else L=!1}var b;if(typeof z=="function")b=function(){z(U)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,xe=de.port2;de.port1.onmessage=U,b=function(){xe.postMessage(null)}}else b=function(){C(U,0)};function _e(re){k=re,L||(L=!0,b())}function Se(re,ce){R=C(function(){re(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){P||I||(P=!0,_e(Y))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var le=E;E=ce;try{return re()}finally{E=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ce){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=E;E=re;try{return ce()}finally{E=le}},n.unstable_scheduleCallback=function(re,ce,le){var B=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,re){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,re={id:v++,callback:ce,priorityLevel:re,startTime:le,expirationTime:ee,sortIndex:-1},le>B?(re.sortIndex=le,e(p,re),t(d)===null&&re===t(p)&&(D?(O(R),R=-1):D=!0,Se(X,le-B))):(re.sortIndex=ee,e(d,re),P||I||(P=!0,_e(Y))),re},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(re){var ce=E;return function(){var le=E;E=ce;try{return re.apply(this,arguments)}finally{E=le}}}}(sp)),sp}var E_;function IC(){return E_||(E_=1,ip.exports=SC()),ip.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function RC(){if(T_)return jn;T_=1;var n=Um(),e=IC();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(i){return d.call(w,i)?!0:d.call(v,i)?!1:p.test(i)?w[i]=!0:(v[i]=!0,!1)}function I(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,l,h){if(o===null||typeof o>"u"||I(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,l,h,m,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(O,z);C[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(O,z);C[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(O,z);C[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function W(i,o,l,h){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,l,m,h)&&(l=null),h||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),L=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),re=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,B;function ee(i){if(B===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var pe=!1;function ke(i,o){if(!i||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var h=J}Reflect.construct(i,[],o)}else{try{o.call()}catch(J){h=J}i.call(o.prototype)}else{try{throw Error()}catch(J){h=J}i()}}catch(J){if(J&&h&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),y=h.stack.split(`
`),T=m.length-1,x=y.length-1;1<=T&&0<=x&&m[T]!==y[x];)x--;for(;1<=T&&0<=x;T--,x--)if(m[T]!==y[x]){if(T!==1||x!==1)do if(T--,x--,0>x||m[T]!==y[x]){var F=`
`+m[T].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=T&&0<=x);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?ee(i):""}function Ve(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=ke(i.type,!1),i;case 11:return i=ke(i.type.render,!1),i;case 1:return i=ke(i.type,!0),i;default:return""}}function $e(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case L:return"Portal";case A:return"Profiler";case R:return"StrictMode";case b:return"Suspense";case de:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case xe:return o=i.displayName||null,o!==null?o:$e(i.type)||"Memo";case _e:o=i._payload,i=i._init;try{return $e(i(o))}catch{}}return null}function qe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function tt(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function lt(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Je(i){var o=lt(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Kt(i){i._valueTracker||(i._valueTracker=Je(i))}function Cr(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=lt(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function qn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Rn(i,o){var l=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Xi(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=tt(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function so(i,o){o=o.checked,o!=null&&W(i,"checked",o,!1)}function Yi(i,o){so(i,o);var l=tt(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Ji(i,o.type,l):o.hasOwnProperty("defaultValue")&&Ji(i,o.type,tt(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Wo(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Ji(i,o,l){(o!=="number"||qn(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Ar=Array.isArray;function Pr(i,o,l,h){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+tt(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Gn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function or(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Ar(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:tt(l)}}function _i(i,o){var l=tt(o.value),h=tt(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function wi(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function dt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?dt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ar,Ei=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ar.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Kr(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qr=["Webkit","ms","Moz","O"];Object.keys(mn).forEach(function(i){Qr.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),mn[o]=mn[i]})});function Zi(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||mn.hasOwnProperty(i)&&mn[i]?(""+o).trim():o+"px"}function es(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=Zi(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var oo=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ts(i,o){if(o){if(oo[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Xr(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function Jr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ns=null,Cn=null,lr=null;function Ti(i){if(i=Tl(i)){if(typeof ns!="function")throw Error(t(280));var o=i.stateNode;o&&(o=ic(o),ns(i.stateNode,i.type,o))}}function An(i){Cn?lr?lr.push(i):lr=[i]:Cn=i}function Zr(){if(Cn){var i=Cn,o=lr;if(lr=Cn=null,Ti(i),o)for(i=0;i<o.length;i++)Ti(o[i])}}function Si(i,o){return i(o)}function ao(){}var M=!1;function H(i,o,l){if(M)return i(o,l);M=!0;try{return Si(i,o,l)}finally{M=!1,(Cn!==null||lr!==null)&&(ao(),Zr())}}function K(i,o){var l=i.stateNode;if(l===null)return null;var h=ic(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var oe=!1;if(f)try{var he={};Object.defineProperty(he,"passive",{get:function(){oe=!0}}),window.addEventListener("test",he,he),window.removeEventListener("test",he,he)}catch{oe=!1}function Ie(i,o,l,h,m,y,T,x,F){var J=Array.prototype.slice.call(arguments,3);try{o.apply(l,J)}catch(se){this.onError(se)}}var be=!1,me=null,Ee=!1,Pe=null,Fe={onError:function(i){be=!0,me=i}};function Ce(i,o,l,h,m,y,T,x,F){be=!1,me=null,Ie.apply(Fe,arguments)}function ze(i,o,l,h,m,y,T,x,F){if(Ce.apply(this,arguments),be){if(be){var J=me;be=!1,me=null}else throw Error(t(198));Ee||(Ee=!0,Pe=J)}}function Ke(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function gt(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function pt(i){if(Ke(i)!==i)throw Error(t(188))}function Qt(i){var o=i.alternate;if(!o){if(o=Ke(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return pt(m),i;if(y===h)return pt(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var T=!1,x=m.child;x;){if(x===l){T=!0,l=m,h=y;break}if(x===h){T=!0,h=m,l=y;break}x=x.sibling}if(!T){for(x=y.child;x;){if(x===l){T=!0,l=y,h=m;break}if(x===h){T=!0,h=y,l=m;break}x=x.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Qe(i){return i=Qt(i),i!==null?ur(i):null}function ur(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=ur(i);if(o!==null)return o;i=i.sibling}return null}var Nn=e.unstable_scheduleCallback,kr=e.unstable_cancelCallback,sn=e.unstable_shouldYield,Ii=e.unstable_requestPaint,ot=e.unstable_now,rs=e.unstable_getCurrentPriorityLevel,Pn=e.unstable_ImmediatePriority,Kn=e.unstable_UserBlockingPriority,We=e.unstable_NormalPriority,Xt=e.unstable_LowPriority,Qn=e.unstable_IdlePriority,cr=null,on=null;function Et(i){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(cr,i,void 0,(i.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Mu,is=Math.log,qo=Math.LN2;function Mu(i){return i>>>=0,i===0?32:31-(is(i)/qo|0)|0}var Go=64,Ko=4194304;function ss(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function lo(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var x=T&~m;x!==0?h=ss(x):(y&=T,y!==0&&(h=ss(y)))}else T=l&~m,T!==0?h=ss(T):y!==0&&(h=ss(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-xt(o),m=1<<l,h|=i[l],o&=~m;return h}function xf(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ri(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-xt(y),x=1<<T,F=m[T];F===-1?((x&l)===0||(x&h)!==0)&&(m[T]=xf(x,o)):F<=o&&(i.expiredLanes|=x),y&=~x}}function Xn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function uo(){var i=Go;return Go<<=1,(Go&4194240)===0&&(Go=64),i}function os(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function as(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-xt(o),i[o]=l}function yt(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-xt(l),y=1<<m;o[m]=0,h[m]=-1,i[m]=-1,l&=~y}}function ls(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-xt(l),m=1<<h;m&o|i[h]&o&&(i[h]|=o),l&=~m}}var nt=0;function us(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Vu,Qo,Fu,Uu,zu,al=!1,ei=[],an=null,br=null,xr=null,cs=new Map,hr=new Map,ti=[],Df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ju(i,o){switch(i){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":cs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(o.pointerId)}}function On(i,o,l,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Tl(o),o!==null&&Qo(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Nf(i,o,l,h,m){switch(o){case"focusin":return an=On(an,i,o,l,h,m),!0;case"dragenter":return br=On(br,i,o,l,h,m),!0;case"mouseover":return xr=On(xr,i,o,l,h,m),!0;case"pointerover":var y=m.pointerId;return cs.set(y,On(cs.get(y)||null,i,o,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,hr.set(y,On(hr.get(y)||null,i,o,l,h,m)),!0}return!1}function $u(i){var o=mo(i.target);if(o!==null){var l=Ke(o);if(l!==null){if(o=l.tag,o===13){if(o=gt(l),o!==null){i.blockedOn=o,zu(i.priority,function(){Fu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ci(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Xo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Yr=h,l.target.dispatchEvent(h),Yr=null}else return o=Tl(l),o!==null&&Qo(o),i.blockedOn=l,!1;o.shift()}return!0}function co(i,o,l){Ci(i)&&l.delete(o)}function Bu(){al=!1,an!==null&&Ci(an)&&(an=null),br!==null&&Ci(br)&&(br=null),xr!==null&&Ci(xr)&&(xr=null),cs.forEach(co),hr.forEach(co)}function Dr(i,o){i.blockedOn===o&&(i.blockedOn=null,al||(al=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bu)))}function Nr(i){function o(m){return Dr(m,i)}if(0<ei.length){Dr(ei[0],i);for(var l=1;l<ei.length;l++){var h=ei[l];h.blockedOn===i&&(h.blockedOn=null)}}for(an!==null&&Dr(an,i),br!==null&&Dr(br,i),xr!==null&&Dr(xr,i),cs.forEach(o),hr.forEach(o),l=0;l<ti.length;l++)h=ti[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<ti.length&&(l=ti[0],l.blockedOn===null);)$u(l),l.blockedOn===null&&ti.shift()}var Ai=X.ReactCurrentBatchConfig,hs=!0;function Rt(i,o,l,h){var m=nt,y=Ai.transition;Ai.transition=null;try{nt=1,ll(i,o,l,h)}finally{nt=m,Ai.transition=y}}function Of(i,o,l,h){var m=nt,y=Ai.transition;Ai.transition=null;try{nt=4,ll(i,o,l,h)}finally{nt=m,Ai.transition=y}}function ll(i,o,l,h){if(hs){var m=Xo(i,o,l,h);if(m===null)Wf(i,o,h,ho,l),ju(i,h);else if(Nf(m,i,o,l,h))h.stopPropagation();else if(ju(i,h),o&4&&-1<Df.indexOf(i)){for(;m!==null;){var y=Tl(m);if(y!==null&&Vu(y),y=Xo(i,o,l,h),y===null&&Wf(i,o,h,ho,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else Wf(i,o,h,null,l)}}var ho=null;function Xo(i,o,l,h){if(ho=null,i=Jr(h),i=mo(i),i!==null)if(o=Ke(i),o===null)i=null;else if(l=o.tag,l===13){if(i=gt(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ho=i,null}function ul(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rs()){case Pn:return 1;case Kn:return 4;case We:case Xt:return 16;case Qn:return 536870912;default:return 16}default:return 16}}var Yn=null,Yo=null,Ln=null;function cl(){if(Ln)return Ln;var i,o=Yo,l=o.length,h,m="value"in Yn?Yn.value:Yn.textContent,y=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(h=1;h<=T&&o[l-h]===m[y-h];h++);return Ln=m.slice(i,1<h?1-h:void 0)}function Jo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ni(){return!0}function hl(){return!1}function ln(i){function o(l,h,m,y,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(l=i[x],this[x]=l?l(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ni:hl,this.isPropagationStopped=hl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),o}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=ln(Or),ri=le({},Or,{view:0,detail:0}),Lf=ln(ri),ea,Pi,fs,fo=le({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ii,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fs&&(fs&&i.type==="mousemove"?(ea=i.screenX-fs.screenX,Pi=i.screenY-fs.screenY):Pi=ea=0,fs=i),ea)},movementY:function(i){return"movementY"in i?i.movementY:Pi}}),ta=ln(fo),fl=le({},fo,{dataTransfer:0}),Hu=ln(fl),na=le({},ri,{relatedTarget:0}),ra=ln(na),Wu=le({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),ki=ln(Wu),qu=le({},Or,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Gu=ln(qu),Ku=le({},Or,{data:0}),dl=ln(Ku),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Qu[i])?!!o[i]:!1}function ii(){return Xu}var c=le({},ri,{key:function(i){if(i.key){var o=ia[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Jo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ii,charCode:function(i){return i.type==="keypress"?Jo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Jo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=ln(c),_=le({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=ln(_),q=le({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ii}),Z=ln(q),fe=le({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),ft=ln(fe),Bt=le({},fo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=ln(Bt),Yt=[9,13,27,32],Ft=f&&"CompositionEvent"in window,fr=null;f&&"documentMode"in document&&(fr=document.documentMode);var Jn=f&&"TextEvent"in window&&!fr,po=f&&(!Ft||fr&&8<fr&&11>=fr),sa=" ",cy=!1;function hy(i,o){switch(i){case"keyup":return Yt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var oa=!1;function yR(i,o){switch(i){case"compositionend":return fy(o);case"keypress":return o.which!==32?null:(cy=!0,sa);case"textInput":return i=o.data,i===sa&&cy?null:i;default:return null}}function vR(i,o){if(oa)return i==="compositionend"||!Ft&&hy(i,o)?(i=cl(),Ln=Yo=Yn=null,oa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return po&&o.locale!=="ko"?null:o.data;default:return null}}var _R={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!_R[i.type]:o==="textarea"}function py(i,o,l,h){An(h),o=tc(o,"onChange"),0<o.length&&(l=new Zo("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var pl=null,ml=null;function wR(i){Dy(i,0)}function Yu(i){var o=ha(i);if(Cr(o))return i}function ER(i,o){if(i==="change")return o}var my=!1;if(f){var Mf;if(f){var Vf="oninput"in document;if(!Vf){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),Vf=typeof gy.oninput=="function"}Mf=Vf}else Mf=!1;my=Mf&&(!document.documentMode||9<document.documentMode)}function yy(){pl&&(pl.detachEvent("onpropertychange",vy),ml=pl=null)}function vy(i){if(i.propertyName==="value"&&Yu(ml)){var o=[];py(o,ml,i,Jr(i)),H(wR,o)}}function TR(i,o,l){i==="focusin"?(yy(),pl=o,ml=l,pl.attachEvent("onpropertychange",vy)):i==="focusout"&&yy()}function SR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yu(ml)}function IR(i,o){if(i==="click")return Yu(o)}function RR(i,o){if(i==="input"||i==="change")return Yu(o)}function CR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Lr=typeof Object.is=="function"?Object.is:CR;function gl(i,o){if(Lr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!d.call(o,m)||!Lr(i[m],o[m]))return!1}return!0}function _y(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function wy(i,o){var l=_y(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_y(l)}}function Ey(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Ey(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Ty(){for(var i=window,o=qn();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=qn(i.document)}return o}function Ff(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function AR(i){var o=Ty(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Ey(l.ownerDocument.documentElement,l)){if(h!==null&&Ff(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!i.extend&&y>h&&(m=h,h=y,y=m),m=wy(l,y);var T=wy(l,h);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var PR=f&&"documentMode"in document&&11>=document.documentMode,aa=null,Uf=null,yl=null,zf=!1;function Sy(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zf||aa==null||aa!==qn(h)||(h=aa,"selectionStart"in h&&Ff(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),yl&&gl(yl,h)||(yl=h,h=tc(Uf,"onSelect"),0<h.length&&(o=new Zo("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=aa)))}function Ju(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var la={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},jf={},Iy={};f&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Zu(i){if(jf[i])return jf[i];if(!la[i])return i;var o=la[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Iy)return jf[i]=o[l];return i}var Ry=Zu("animationend"),Cy=Zu("animationiteration"),Ay=Zu("animationstart"),Py=Zu("transitionend"),ky=new Map,by="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(i,o){ky.set(i,o),a(o,[i])}for(var $f=0;$f<by.length;$f++){var Bf=by[$f],kR=Bf.toLowerCase(),bR=Bf[0].toUpperCase()+Bf.slice(1);ds(kR,"on"+bR)}ds(Ry,"onAnimationEnd"),ds(Cy,"onAnimationIteration"),ds(Ay,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(Py,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xR=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function xy(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,ze(h,o,void 0,i),i.currentTarget=null}function Dy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var T=h.length-1;0<=T;T--){var x=h[T],F=x.instance,J=x.currentTarget;if(x=x.listener,F!==y&&m.isPropagationStopped())break e;xy(m,x,J),y=F}else for(T=0;T<h.length;T++){if(x=h[T],F=x.instance,J=x.currentTarget,x=x.listener,F!==y&&m.isPropagationStopped())break e;xy(m,x,J),y=F}}}if(Ee)throw i=Pe,Ee=!1,Pe=null,i}function Tt(i,o){var l=o[Yf];l===void 0&&(l=o[Yf]=new Set);var h=i+"__bubble";l.has(h)||(Ny(o,i,2,!1),l.add(h))}function Hf(i,o,l){var h=0;o&&(h|=4),Ny(l,i,h,o)}var ec="_reactListening"+Math.random().toString(36).slice(2);function _l(i){if(!i[ec]){i[ec]=!0,r.forEach(function(l){l!=="selectionchange"&&(xR.has(l)||Hf(l,!1,i),Hf(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ec]||(o[ec]=!0,Hf("selectionchange",!1,o))}}function Ny(i,o,l,h){switch(ul(o)){case 1:var m=Rt;break;case 4:m=Of;break;default:m=ll}l=m.bind(null,o,l,i),m=void 0,!oe||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Wf(i,o,l,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var x=h.stateNode.containerInfo;if(x===m||x.nodeType===8&&x.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;T=T.return}for(;x!==null;){if(T=mo(x),T===null)return;if(F=T.tag,F===5||F===6){h=y=T;continue e}x=x.parentNode}}h=h.return}H(function(){var J=y,se=Jr(l),ae=[];e:{var ie=ky.get(i);if(ie!==void 0){var ge=Zo,Te=i;switch(i){case"keypress":if(Jo(l)===0)break e;case"keydown":case"keyup":ge=g;break;case"focusin":Te="focus",ge=ra;break;case"focusout":Te="blur",ge=ra;break;case"beforeblur":case"afterblur":ge=ra;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=ta;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Z;break;case Ry:case Cy:case Ay:ge=ki;break;case Py:ge=ft;break;case"scroll":ge=Lf;break;case"wheel":ge=rt;break;case"copy":case"cut":case"paste":ge=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=S}var Re=(o&4)!==0,Lt=!Re&&i==="scroll",G=Re?ie!==null?ie+"Capture":null:ie;Re=[];for(var $=J,Q;$!==null;){Q=$;var ue=Q.stateNode;if(Q.tag===5&&ue!==null&&(Q=ue,G!==null&&(ue=K($,G),ue!=null&&Re.push(wl($,ue,Q)))),Lt)break;$=$.return}0<Re.length&&(ie=new ge(ie,Te,null,l,se),ae.push({event:ie,listeners:Re}))}}if((o&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",ie&&l!==Yr&&(Te=l.relatedTarget||l.fromElement)&&(mo(Te)||Te[bi]))break e;if((ge||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,ge?(Te=l.relatedTarget||l.toElement,ge=J,Te=Te?mo(Te):null,Te!==null&&(Lt=Ke(Te),Te!==Lt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(ge=null,Te=J),ge!==Te)){if(Re=ta,ue="onMouseLeave",G="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(Re=S,ue="onPointerLeave",G="onPointerEnter",$="pointer"),Lt=ge==null?ie:ha(ge),Q=Te==null?ie:ha(Te),ie=new Re(ue,$+"leave",ge,l,se),ie.target=Lt,ie.relatedTarget=Q,ue=null,mo(se)===J&&(Re=new Re(G,$+"enter",Te,l,se),Re.target=Q,Re.relatedTarget=Lt,ue=Re),Lt=ue,ge&&Te)t:{for(Re=ge,G=Te,$=0,Q=Re;Q;Q=ua(Q))$++;for(Q=0,ue=G;ue;ue=ua(ue))Q++;for(;0<$-Q;)Re=ua(Re),$--;for(;0<Q-$;)G=ua(G),Q--;for(;$--;){if(Re===G||G!==null&&Re===G.alternate)break t;Re=ua(Re),G=ua(G)}Re=null}else Re=null;ge!==null&&Oy(ae,ie,ge,Re,!1),Te!==null&&Lt!==null&&Oy(ae,Lt,Te,Re,!0)}}e:{if(ie=J?ha(J):window,ge=ie.nodeName&&ie.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ie.type==="file")var Ae=ER;else if(dy(ie))if(my)Ae=RR;else{Ae=SR;var Ne=TR}else(ge=ie.nodeName)&&ge.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ae=IR);if(Ae&&(Ae=Ae(i,J))){py(ae,Ae,l,se);break e}Ne&&Ne(i,ie,J),i==="focusout"&&(Ne=ie._wrapperState)&&Ne.controlled&&ie.type==="number"&&Ji(ie,"number",ie.value)}switch(Ne=J?ha(J):window,i){case"focusin":(dy(Ne)||Ne.contentEditable==="true")&&(aa=Ne,Uf=J,yl=null);break;case"focusout":yl=Uf=aa=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,Sy(ae,l,se);break;case"selectionchange":if(PR)break;case"keydown":case"keyup":Sy(ae,l,se)}var Oe;if(Ft)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else oa?hy(i,l)&&(Ue="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(po&&l.locale!=="ko"&&(oa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&oa&&(Oe=cl()):(Yn=se,Yo="value"in Yn?Yn.value:Yn.textContent,oa=!0)),Ne=tc(J,Ue),0<Ne.length&&(Ue=new dl(Ue,i,null,l,se),ae.push({event:Ue,listeners:Ne}),Oe?Ue.data=Oe:(Oe=fy(l),Oe!==null&&(Ue.data=Oe)))),(Oe=Jn?yR(i,l):vR(i,l))&&(J=tc(J,"onBeforeInput"),0<J.length&&(se=new dl("onBeforeInput","beforeinput",null,l,se),ae.push({event:se,listeners:J}),se.data=Oe))}Dy(ae,o)})}function wl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function tc(i,o){for(var l=o+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=K(i,l),y!=null&&h.unshift(wl(i,y,m)),y=K(i,o),y!=null&&h.push(wl(i,y,m))),i=i.return}return h}function ua(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Oy(i,o,l,h,m){for(var y=o._reactName,T=[];l!==null&&l!==h;){var x=l,F=x.alternate,J=x.stateNode;if(F!==null&&F===h)break;x.tag===5&&J!==null&&(x=J,m?(F=K(l,y),F!=null&&T.unshift(wl(l,F,x))):m||(F=K(l,y),F!=null&&T.push(wl(l,F,x)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var DR=/\r\n?/g,NR=/\u0000|\uFFFD/g;function Ly(i){return(typeof i=="string"?i:""+i).replace(DR,`
`).replace(NR,"")}function nc(i,o,l){if(o=Ly(o),Ly(i)!==o&&l)throw Error(t(425))}function rc(){}var qf=null,Gf=null;function Kf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,OR=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,LR=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(i){return My.resolve(null).then(i).catch(MR)}:Qf;function MR(i){setTimeout(function(){throw i})}function Xf(i,o){var l=o,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),Nr(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Nr(o)}function ps(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Vy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var ca=Math.random().toString(36).slice(2),si="__reactFiber$"+ca,El="__reactProps$"+ca,bi="__reactContainer$"+ca,Yf="__reactEvents$"+ca,VR="__reactListeners$"+ca,FR="__reactHandles$"+ca;function mo(i){var o=i[si];if(o)return o;for(var l=i.parentNode;l;){if(o=l[bi]||l[si]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Vy(i);i!==null;){if(l=i[si])return l;i=Vy(i)}return o}i=l,l=i.parentNode}return null}function Tl(i){return i=i[si]||i[bi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ha(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ic(i){return i[El]||null}var Jf=[],fa=-1;function ms(i){return{current:i}}function St(i){0>fa||(i.current=Jf[fa],Jf[fa]=null,fa--)}function wt(i,o){fa++,Jf[fa]=i.current,i.current=o}var gs={},gn=ms(gs),Mn=ms(!1),go=gs;function da(i,o){var l=i.type.contextTypes;if(!l)return gs;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Vn(i){return i=i.childContextTypes,i!=null}function sc(){St(Mn),St(gn)}function Fy(i,o,l){if(gn.current!==gs)throw Error(t(168));wt(gn,o),wt(Mn,l)}function Uy(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,qe(i)||"Unknown",m));return le({},l,h)}function oc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||gs,go=gn.current,wt(gn,i),wt(Mn,Mn.current),!0}function zy(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=Uy(i,o,go),h.__reactInternalMemoizedMergedChildContext=i,St(Mn),St(gn),wt(gn,i)):St(Mn),wt(Mn,l)}var xi=null,ac=!1,Zf=!1;function jy(i){xi===null?xi=[i]:xi.push(i)}function UR(i){ac=!0,jy(i)}function ys(){if(!Zf&&xi!==null){Zf=!0;var i=0,o=nt;try{var l=xi;for(nt=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}xi=null,ac=!1}catch(m){throw xi!==null&&(xi=xi.slice(i+1)),Nn(Pn,ys),m}finally{nt=o,Zf=!1}}return null}var pa=[],ma=0,lc=null,uc=0,dr=[],pr=0,yo=null,Di=1,Ni="";function vo(i,o){pa[ma++]=uc,pa[ma++]=lc,lc=i,uc=o}function $y(i,o,l){dr[pr++]=Di,dr[pr++]=Ni,dr[pr++]=yo,yo=i;var h=Di;i=Ni;var m=32-xt(h)-1;h&=~(1<<m),l+=1;var y=32-xt(o)+m;if(30<y){var T=m-m%5;y=(h&(1<<T)-1).toString(32),h>>=T,m-=T,Di=1<<32-xt(o)+m|l<<m|h,Ni=y+i}else Di=1<<y|l<<m|h,Ni=i}function ed(i){i.return!==null&&(vo(i,1),$y(i,1,0))}function td(i){for(;i===lc;)lc=pa[--ma],pa[ma]=null,uc=pa[--ma],pa[ma]=null;for(;i===yo;)yo=dr[--pr],dr[pr]=null,Ni=dr[--pr],dr[pr]=null,Di=dr[--pr],dr[pr]=null}var Zn=null,er=null,Ct=!1,Mr=null;function By(i,o){var l=vr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Hy(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Zn=i,er=ps(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Zn=i,er=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=yo!==null?{id:Di,overflow:Ni}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=vr(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Zn=i,er=null,!0):!1;default:return!1}}function nd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function rd(i){if(Ct){var o=er;if(o){var l=o;if(!Hy(i,o)){if(nd(i))throw Error(t(418));o=ps(l.nextSibling);var h=Zn;o&&Hy(i,o)?By(h,l):(i.flags=i.flags&-4097|2,Ct=!1,Zn=i)}}else{if(nd(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ct=!1,Zn=i}}}function Wy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Zn=i}function cc(i){if(i!==Zn)return!1;if(!Ct)return Wy(i),Ct=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Kf(i.type,i.memoizedProps)),o&&(o=er)){if(nd(i))throw qy(),Error(t(418));for(;o;)By(i,o),o=ps(o.nextSibling)}if(Wy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){er=ps(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}er=null}}else er=Zn?ps(i.stateNode.nextSibling):null;return!0}function qy(){for(var i=er;i;)i=ps(i.nextSibling)}function ga(){er=Zn=null,Ct=!1}function id(i){Mr===null?Mr=[i]:Mr.push(i)}var zR=X.ReactCurrentBatchConfig;function Sl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var x=m.refs;T===null?delete x[y]:x[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function hc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Gy(i){var o=i._init;return o(i._payload)}function Ky(i){function o(G,$){if(i){var Q=G.deletions;Q===null?(G.deletions=[$],G.flags|=16):Q.push($)}}function l(G,$){if(!i)return null;for(;$!==null;)o(G,$),$=$.sibling;return null}function h(G,$){for(G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function m(G,$){return G=Rs(G,$),G.index=0,G.sibling=null,G}function y(G,$,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<$?(G.flags|=2,$):Q):(G.flags|=2,$)):(G.flags|=1048576,$)}function T(G){return i&&G.alternate===null&&(G.flags|=2),G}function x(G,$,Q,ue){return $===null||$.tag!==6?($=Qd(Q,G.mode,ue),$.return=G,$):($=m($,Q),$.return=G,$)}function F(G,$,Q,ue){var Ae=Q.type;return Ae===k?se(G,$,Q.props.children,ue,Q.key):$!==null&&($.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===_e&&Gy(Ae)===$.type)?(ue=m($,Q.props),ue.ref=Sl(G,$,Q),ue.return=G,ue):(ue=Lc(Q.type,Q.key,Q.props,null,G.mode,ue),ue.ref=Sl(G,$,Q),ue.return=G,ue)}function J(G,$,Q,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==Q.containerInfo||$.stateNode.implementation!==Q.implementation?($=Xd(Q,G.mode,ue),$.return=G,$):($=m($,Q.children||[]),$.return=G,$)}function se(G,$,Q,ue,Ae){return $===null||$.tag!==7?($=Co(Q,G.mode,ue,Ae),$.return=G,$):($=m($,Q),$.return=G,$)}function ae(G,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Qd(""+$,G.mode,Q),$.return=G,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Y:return Q=Lc($.type,$.key,$.props,null,G.mode,Q),Q.ref=Sl(G,null,$),Q.return=G,Q;case L:return $=Xd($,G.mode,Q),$.return=G,$;case _e:var ue=$._init;return ae(G,ue($._payload),Q)}if(Ar($)||ce($))return $=Co($,G.mode,Q,null),$.return=G,$;hc(G,$)}return null}function ie(G,$,Q,ue){var Ae=$!==null?$.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ae!==null?null:x(G,$,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return Q.key===Ae?F(G,$,Q,ue):null;case L:return Q.key===Ae?J(G,$,Q,ue):null;case _e:return Ae=Q._init,ie(G,$,Ae(Q._payload),ue)}if(Ar(Q)||ce(Q))return Ae!==null?null:se(G,$,Q,ue,null);hc(G,Q)}return null}function ge(G,$,Q,ue,Ae){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return G=G.get(Q)||null,x($,G,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Y:return G=G.get(ue.key===null?Q:ue.key)||null,F($,G,ue,Ae);case L:return G=G.get(ue.key===null?Q:ue.key)||null,J($,G,ue,Ae);case _e:var Ne=ue._init;return ge(G,$,Q,Ne(ue._payload),Ae)}if(Ar(ue)||ce(ue))return G=G.get(Q)||null,se($,G,ue,Ae,null);hc($,ue)}return null}function Te(G,$,Q,ue){for(var Ae=null,Ne=null,Oe=$,Ue=$=0,en=null;Oe!==null&&Ue<Q.length;Ue++){Oe.index>Ue?(en=Oe,Oe=null):en=Oe.sibling;var at=ie(G,Oe,Q[Ue],ue);if(at===null){Oe===null&&(Oe=en);break}i&&Oe&&at.alternate===null&&o(G,Oe),$=y(at,$,Ue),Ne===null?Ae=at:Ne.sibling=at,Ne=at,Oe=en}if(Ue===Q.length)return l(G,Oe),Ct&&vo(G,Ue),Ae;if(Oe===null){for(;Ue<Q.length;Ue++)Oe=ae(G,Q[Ue],ue),Oe!==null&&($=y(Oe,$,Ue),Ne===null?Ae=Oe:Ne.sibling=Oe,Ne=Oe);return Ct&&vo(G,Ue),Ae}for(Oe=h(G,Oe);Ue<Q.length;Ue++)en=ge(Oe,G,Ue,Q[Ue],ue),en!==null&&(i&&en.alternate!==null&&Oe.delete(en.key===null?Ue:en.key),$=y(en,$,Ue),Ne===null?Ae=en:Ne.sibling=en,Ne=en);return i&&Oe.forEach(function(Cs){return o(G,Cs)}),Ct&&vo(G,Ue),Ae}function Re(G,$,Q,ue){var Ae=ce(Q);if(typeof Ae!="function")throw Error(t(150));if(Q=Ae.call(Q),Q==null)throw Error(t(151));for(var Ne=Ae=null,Oe=$,Ue=$=0,en=null,at=Q.next();Oe!==null&&!at.done;Ue++,at=Q.next()){Oe.index>Ue?(en=Oe,Oe=null):en=Oe.sibling;var Cs=ie(G,Oe,at.value,ue);if(Cs===null){Oe===null&&(Oe=en);break}i&&Oe&&Cs.alternate===null&&o(G,Oe),$=y(Cs,$,Ue),Ne===null?Ae=Cs:Ne.sibling=Cs,Ne=Cs,Oe=en}if(at.done)return l(G,Oe),Ct&&vo(G,Ue),Ae;if(Oe===null){for(;!at.done;Ue++,at=Q.next())at=ae(G,at.value,ue),at!==null&&($=y(at,$,Ue),Ne===null?Ae=at:Ne.sibling=at,Ne=at);return Ct&&vo(G,Ue),Ae}for(Oe=h(G,Oe);!at.done;Ue++,at=Q.next())at=ge(Oe,G,Ue,at.value,ue),at!==null&&(i&&at.alternate!==null&&Oe.delete(at.key===null?Ue:at.key),$=y(at,$,Ue),Ne===null?Ae=at:Ne.sibling=at,Ne=at);return i&&Oe.forEach(function(_C){return o(G,_C)}),Ct&&vo(G,Ue),Ae}function Lt(G,$,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:e:{for(var Ae=Q.key,Ne=$;Ne!==null;){if(Ne.key===Ae){if(Ae=Q.type,Ae===k){if(Ne.tag===7){l(G,Ne.sibling),$=m(Ne,Q.props.children),$.return=G,G=$;break e}}else if(Ne.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===_e&&Gy(Ae)===Ne.type){l(G,Ne.sibling),$=m(Ne,Q.props),$.ref=Sl(G,Ne,Q),$.return=G,G=$;break e}l(G,Ne);break}else o(G,Ne);Ne=Ne.sibling}Q.type===k?($=Co(Q.props.children,G.mode,ue,Q.key),$.return=G,G=$):(ue=Lc(Q.type,Q.key,Q.props,null,G.mode,ue),ue.ref=Sl(G,$,Q),ue.return=G,G=ue)}return T(G);case L:e:{for(Ne=Q.key;$!==null;){if($.key===Ne)if($.tag===4&&$.stateNode.containerInfo===Q.containerInfo&&$.stateNode.implementation===Q.implementation){l(G,$.sibling),$=m($,Q.children||[]),$.return=G,G=$;break e}else{l(G,$);break}else o(G,$);$=$.sibling}$=Xd(Q,G.mode,ue),$.return=G,G=$}return T(G);case _e:return Ne=Q._init,Lt(G,$,Ne(Q._payload),ue)}if(Ar(Q))return Te(G,$,Q,ue);if(ce(Q))return Re(G,$,Q,ue);hc(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,$!==null&&$.tag===6?(l(G,$.sibling),$=m($,Q),$.return=G,G=$):(l(G,$),$=Qd(Q,G.mode,ue),$.return=G,G=$),T(G)):l(G,$)}return Lt}var ya=Ky(!0),Qy=Ky(!1),fc=ms(null),dc=null,va=null,sd=null;function od(){sd=va=dc=null}function ad(i){var o=fc.current;St(fc),i._currentValue=o}function ld(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function _a(i,o){dc=i,sd=va=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Fn=!0),i.firstContext=null)}function mr(i){var o=i._currentValue;if(sd!==i)if(i={context:i,memoizedValue:o,next:null},va===null){if(dc===null)throw Error(t(308));va=i,dc.dependencies={lanes:0,firstContext:i}}else va=va.next=i;return o}var _o=null;function ud(i){_o===null?_o=[i]:_o.push(i)}function Xy(i,o,l,h){var m=o.interleaved;return m===null?(l.next=l,ud(o)):(l.next=m.next,m.next=l),o.interleaved=l,Oi(i,h)}function Oi(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var vs=!1;function cd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Li(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function _s(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(st&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Oi(i,l)}return m=h.interleaved,m===null?(o.next=o,ud(h)):(o.next=m.next,m.next=o),h.interleaved=o,Oi(i,l)}function pc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ls(i,l)}}function Jy(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function mc(i,o,l,h){var m=i.updateQueue;vs=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var F=x,J=F.next;F.next=null,T===null?y=J:T.next=J,T=F;var se=i.alternate;se!==null&&(se=se.updateQueue,x=se.lastBaseUpdate,x!==T&&(x===null?se.firstBaseUpdate=J:x.next=J,se.lastBaseUpdate=F))}if(y!==null){var ae=m.baseState;T=0,se=J=F=null,x=y;do{var ie=x.lane,ge=x.eventTime;if((h&ie)===ie){se!==null&&(se=se.next={eventTime:ge,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var Te=i,Re=x;switch(ie=o,ge=l,Re.tag){case 1:if(Te=Re.payload,typeof Te=="function"){ae=Te.call(ge,ae,ie);break e}ae=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Re.payload,ie=typeof Te=="function"?Te.call(ge,ae,ie):Te,ie==null)break e;ae=le({},ae,ie);break e;case 2:vs=!0}}x.callback!==null&&x.lane!==0&&(i.flags|=64,ie=m.effects,ie===null?m.effects=[x]:ie.push(x))}else ge={eventTime:ge,lane:ie,tag:x.tag,payload:x.payload,callback:x.callback,next:null},se===null?(J=se=ge,F=ae):se=se.next=ge,T|=ie;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;ie=x,x=ie.next,ie.next=null,m.lastBaseUpdate=ie,m.shared.pending=null}}while(!0);if(se===null&&(F=ae),m.baseState=F,m.firstBaseUpdate=J,m.lastBaseUpdate=se,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);To|=T,i.lanes=T,i.memoizedState=ae}}function Zy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Il={},oi=ms(Il),Rl=ms(Il),Cl=ms(Il);function wo(i){if(i===Il)throw Error(t(174));return i}function hd(i,o){switch(wt(Cl,o),wt(Rl,i),wt(oi,Il),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ht(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ht(o,i)}St(oi),wt(oi,o)}function wa(){St(oi),St(Rl),St(Cl)}function ev(i){wo(Cl.current);var o=wo(oi.current),l=ht(o,i.type);o!==l&&(wt(Rl,i),wt(oi,l))}function fd(i){Rl.current===i&&(St(oi),St(Rl))}var Pt=ms(0);function gc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var dd=[];function pd(){for(var i=0;i<dd.length;i++)dd[i]._workInProgressVersionPrimary=null;dd.length=0}var yc=X.ReactCurrentDispatcher,md=X.ReactCurrentBatchConfig,Eo=0,kt=null,Ht=null,Jt=null,vc=!1,Al=!1,Pl=0,jR=0;function yn(){throw Error(t(321))}function gd(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Lr(i[l],o[l]))return!1;return!0}function yd(i,o,l,h,m,y){if(Eo=y,kt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,yc.current=i===null||i.memoizedState===null?WR:qR,i=l(h,m),Al){y=0;do{if(Al=!1,Pl=0,25<=y)throw Error(t(301));y+=1,Jt=Ht=null,o.updateQueue=null,yc.current=GR,i=l(h,m)}while(Al)}if(yc.current=Ec,o=Ht!==null&&Ht.next!==null,Eo=0,Jt=Ht=kt=null,vc=!1,o)throw Error(t(300));return i}function vd(){var i=Pl!==0;return Pl=0,i}function ai(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?kt.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function gr(){if(Ht===null){var i=kt.alternate;i=i!==null?i.memoizedState:null}else i=Ht.next;var o=Jt===null?kt.memoizedState:Jt.next;if(o!==null)Jt=o,Ht=i;else{if(i===null)throw Error(t(310));Ht=i,i={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Jt===null?kt.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function kl(i,o){return typeof o=="function"?o(i):o}function _d(i){var o=gr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Ht,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var x=T=null,F=null,J=y;do{var se=J.lane;if((Eo&se)===se)F!==null&&(F=F.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),h=J.hasEagerState?J.eagerState:i(h,J.action);else{var ae={lane:se,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};F===null?(x=F=ae,T=h):F=F.next=ae,kt.lanes|=se,To|=se}J=J.next}while(J!==null&&J!==y);F===null?T=h:F.next=x,Lr(h,o.memoizedState)||(Fn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=F,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do y=m.lane,kt.lanes|=y,To|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function wd(i){var o=gr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=i(y,T.action),T=T.next;while(T!==m);Lr(y,o.memoizedState)||(Fn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function tv(){}function nv(i,o){var l=kt,h=gr(),m=o(),y=!Lr(h.memoizedState,m);if(y&&(h.memoizedState=m,Fn=!0),h=h.queue,Ed(sv.bind(null,l,h,i),[i]),h.getSnapshot!==o||y||Jt!==null&&Jt.memoizedState.tag&1){if(l.flags|=2048,bl(9,iv.bind(null,l,h,m,o),void 0,null),Zt===null)throw Error(t(349));(Eo&30)!==0||rv(l,o,m)}return m}function rv(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=kt.updateQueue,o===null?(o={lastEffect:null,stores:null},kt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function iv(i,o,l,h){o.value=l,o.getSnapshot=h,ov(o)&&av(i)}function sv(i,o,l){return l(function(){ov(o)&&av(i)})}function ov(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Lr(i,l)}catch{return!0}}function av(i){var o=Oi(i,1);o!==null&&zr(o,i,1,-1)}function lv(i){var o=ai();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:i},o.queue=i,i=i.dispatch=HR.bind(null,kt,i),[o.memoizedState,i]}function bl(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=kt.updateQueue,o===null?(o={lastEffect:null,stores:null},kt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function uv(){return gr().memoizedState}function _c(i,o,l,h){var m=ai();kt.flags|=i,m.memoizedState=bl(1|o,l,void 0,h===void 0?null:h)}function wc(i,o,l,h){var m=gr();h=h===void 0?null:h;var y=void 0;if(Ht!==null){var T=Ht.memoizedState;if(y=T.destroy,h!==null&&gd(h,T.deps)){m.memoizedState=bl(o,l,y,h);return}}kt.flags|=i,m.memoizedState=bl(1|o,l,y,h)}function cv(i,o){return _c(8390656,8,i,o)}function Ed(i,o){return wc(2048,8,i,o)}function hv(i,o){return wc(4,2,i,o)}function fv(i,o){return wc(4,4,i,o)}function dv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function pv(i,o,l){return l=l!=null?l.concat([i]):null,wc(4,4,dv.bind(null,o,i),l)}function Td(){}function mv(i,o){var l=gr();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&gd(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function gv(i,o){var l=gr();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&gd(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function yv(i,o,l){return(Eo&21)===0?(i.baseState&&(i.baseState=!1,Fn=!0),i.memoizedState=l):(Lr(l,o)||(l=uo(),kt.lanes|=l,To|=l,i.baseState=!0),o)}function $R(i,o){var l=nt;nt=l!==0&&4>l?l:4,i(!0);var h=md.transition;md.transition={};try{i(!1),o()}finally{nt=l,md.transition=h}}function vv(){return gr().memoizedState}function BR(i,o,l){var h=Ss(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},_v(i))wv(o,l);else if(l=Xy(i,o,l,h),l!==null){var m=xn();zr(l,i,h,m),Ev(l,o,h)}}function HR(i,o,l){var h=Ss(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(_v(i))wv(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,x=y(T,l);if(m.hasEagerState=!0,m.eagerState=x,Lr(x,T)){var F=o.interleaved;F===null?(m.next=m,ud(o)):(m.next=F.next,F.next=m),o.interleaved=m;return}}catch{}finally{}l=Xy(i,o,m,h),l!==null&&(m=xn(),zr(l,i,h,m),Ev(l,o,h))}}function _v(i){var o=i.alternate;return i===kt||o!==null&&o===kt}function wv(i,o){Al=vc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Ev(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ls(i,l)}}var Ec={readContext:mr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},WR={readContext:mr,useCallback:function(i,o){return ai().memoizedState=[i,o===void 0?null:o],i},useContext:mr,useEffect:cv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,_c(4194308,4,dv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return _c(4194308,4,i,o)},useInsertionEffect:function(i,o){return _c(4,2,i,o)},useMemo:function(i,o){var l=ai();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=ai();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=BR.bind(null,kt,i),[h.memoizedState,i]},useRef:function(i){var o=ai();return i={current:i},o.memoizedState=i},useState:lv,useDebugValue:Td,useDeferredValue:function(i){return ai().memoizedState=i},useTransition:function(){var i=lv(!1),o=i[0];return i=$R.bind(null,i[1]),ai().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=kt,m=ai();if(Ct){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Zt===null)throw Error(t(349));(Eo&30)!==0||rv(h,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,cv(sv.bind(null,h,y,i),[i]),h.flags|=2048,bl(9,iv.bind(null,h,y,l,o),void 0,null),l},useId:function(){var i=ai(),o=Zt.identifierPrefix;if(Ct){var l=Ni,h=Di;l=(h&~(1<<32-xt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=Pl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=jR++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},qR={readContext:mr,useCallback:mv,useContext:mr,useEffect:Ed,useImperativeHandle:pv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:gv,useReducer:_d,useRef:uv,useState:function(){return _d(kl)},useDebugValue:Td,useDeferredValue:function(i){var o=gr();return yv(o,Ht.memoizedState,i)},useTransition:function(){var i=_d(kl)[0],o=gr().memoizedState;return[i,o]},useMutableSource:tv,useSyncExternalStore:nv,useId:vv,unstable_isNewReconciler:!1},GR={readContext:mr,useCallback:mv,useContext:mr,useEffect:Ed,useImperativeHandle:pv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:gv,useReducer:wd,useRef:uv,useState:function(){return wd(kl)},useDebugValue:Td,useDeferredValue:function(i){var o=gr();return Ht===null?o.memoizedState=i:yv(o,Ht.memoizedState,i)},useTransition:function(){var i=wd(kl)[0],o=gr().memoizedState;return[i,o]},useMutableSource:tv,useSyncExternalStore:nv,useId:vv,unstable_isNewReconciler:!1};function Vr(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Sd(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:le({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Tc={isMounted:function(i){return(i=i._reactInternals)?Ke(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=xn(),m=Ss(i),y=Li(h,m);y.payload=o,l!=null&&(y.callback=l),o=_s(i,y,m),o!==null&&(zr(o,i,m,h),pc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=xn(),m=Ss(i),y=Li(h,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=_s(i,y,m),o!==null&&(zr(o,i,m,h),pc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=xn(),h=Ss(i),m=Li(l,h);m.tag=2,o!=null&&(m.callback=o),o=_s(i,m,h),o!==null&&(zr(o,i,h,l),pc(o,i,h))}};function Tv(i,o,l,h,m,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,T):o.prototype&&o.prototype.isPureReactComponent?!gl(l,h)||!gl(m,y):!0}function Sv(i,o,l){var h=!1,m=gs,y=o.contextType;return typeof y=="object"&&y!==null?y=mr(y):(m=Vn(o)?go:gn.current,h=o.contextTypes,y=(h=h!=null)?da(i,m):gs),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Tc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function Iv(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&Tc.enqueueReplaceState(o,o.state,null)}function Id(i,o,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},cd(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=mr(y):(y=Vn(o)?go:gn.current,m.context=da(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Sd(i,o,y,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Tc.enqueueReplaceState(m,m.state,null),mc(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Ea(i,o){try{var l="",h=o;do l+=Ve(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function Rd(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Cd(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var KR=typeof WeakMap=="function"?WeakMap:Map;function Rv(i,o,l){l=Li(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){kc||(kc=!0,jd=h),Cd(i,o)},l}function Cv(i,o,l){l=Li(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){Cd(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Cd(i,o),typeof h!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function Av(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new KR;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),i=lC.bind(null,i,o,l),o.then(i,i))}function Pv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function kv(i,o,l,h,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Li(-1,1),o.tag=2,_s(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var QR=X.ReactCurrentOwner,Fn=!1;function bn(i,o,l,h){o.child=i===null?Qy(o,null,l,h):ya(o,i.child,l,h)}function bv(i,o,l,h,m){l=l.render;var y=o.ref;return _a(o,m),h=yd(i,o,l,h,y,m),l=vd(),i!==null&&!Fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Mi(i,o,m)):(Ct&&l&&ed(o),o.flags|=1,bn(i,o,h,m),o.child)}function xv(i,o,l,h,m){if(i===null){var y=l.type;return typeof y=="function"&&!Kd(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Dv(i,o,y,h,m)):(i=Lc(l.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&m)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:gl,l(T,h)&&i.ref===o.ref)return Mi(i,o,m)}return o.flags|=1,i=Rs(y,h),i.ref=o.ref,i.return=o,o.child=i}function Dv(i,o,l,h,m){if(i!==null){var y=i.memoizedProps;if(gl(y,h)&&i.ref===o.ref)if(Fn=!1,o.pendingProps=h=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Fn=!0);else return o.lanes=i.lanes,Mi(i,o,m)}return Ad(i,o,l,h,m)}function Nv(i,o,l){var h=o.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Sa,tr),tr|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,wt(Sa,tr),tr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,wt(Sa,tr),tr|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,wt(Sa,tr),tr|=h;return bn(i,o,m,l),o.child}function Ov(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Ad(i,o,l,h,m){var y=Vn(l)?go:gn.current;return y=da(o,y),_a(o,m),l=yd(i,o,l,h,y,m),h=vd(),i!==null&&!Fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Mi(i,o,m)):(Ct&&h&&ed(o),o.flags|=1,bn(i,o,l,m),o.child)}function Lv(i,o,l,h,m){if(Vn(l)){var y=!0;oc(o)}else y=!1;if(_a(o,m),o.stateNode===null)Ic(i,o),Sv(o,l,h),Id(o,l,h,m),h=!0;else if(i===null){var T=o.stateNode,x=o.memoizedProps;T.props=x;var F=T.context,J=l.contextType;typeof J=="object"&&J!==null?J=mr(J):(J=Vn(l)?go:gn.current,J=da(o,J));var se=l.getDerivedStateFromProps,ae=typeof se=="function"||typeof T.getSnapshotBeforeUpdate=="function";ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(x!==h||F!==J)&&Iv(o,T,h,J),vs=!1;var ie=o.memoizedState;T.state=ie,mc(o,h,T,m),F=o.memoizedState,x!==h||ie!==F||Mn.current||vs?(typeof se=="function"&&(Sd(o,l,se,h),F=o.memoizedState),(x=vs||Tv(o,l,x,h,ie,F,J))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=F),T.props=h,T.state=F,T.context=J,h=x):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,Yy(i,o),x=o.memoizedProps,J=o.type===o.elementType?x:Vr(o.type,x),T.props=J,ae=o.pendingProps,ie=T.context,F=l.contextType,typeof F=="object"&&F!==null?F=mr(F):(F=Vn(l)?go:gn.current,F=da(o,F));var ge=l.getDerivedStateFromProps;(se=typeof ge=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(x!==ae||ie!==F)&&Iv(o,T,h,F),vs=!1,ie=o.memoizedState,T.state=ie,mc(o,h,T,m);var Te=o.memoizedState;x!==ae||ie!==Te||Mn.current||vs?(typeof ge=="function"&&(Sd(o,l,ge,h),Te=o.memoizedState),(J=vs||Tv(o,l,J,h,ie,Te,F)||!1)?(se||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,Te,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,Te,F)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Te),T.props=h,T.state=Te,T.context=F,h=J):(typeof T.componentDidUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),h=!1)}return Pd(i,o,l,h,y,m)}function Pd(i,o,l,h,m,y){Ov(i,o);var T=(o.flags&128)!==0;if(!h&&!T)return m&&zy(o,l,!1),Mi(i,o,y);h=o.stateNode,QR.current=o;var x=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&T?(o.child=ya(o,i.child,null,y),o.child=ya(o,null,x,y)):bn(i,o,x,y),o.memoizedState=h.state,m&&zy(o,l,!0),o.child}function Mv(i){var o=i.stateNode;o.pendingContext?Fy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Fy(i,o.context,!1),hd(i,o.containerInfo)}function Vv(i,o,l,h,m){return ga(),id(m),o.flags|=256,bn(i,o,l,h),o.child}var kd={dehydrated:null,treeContext:null,retryLane:0};function bd(i){return{baseLanes:i,cachePool:null,transitions:null}}function Fv(i,o,l){var h=o.pendingProps,m=Pt.current,y=!1,T=(o.flags&128)!==0,x;if((x=T)||(x=i!==null&&i.memoizedState===null?!1:(m&2)!==0),x?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),wt(Pt,m&1),i===null)return rd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=h.children,i=h.fallback,y?(h=o.mode,y=o.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Mc(T,h,0,null),i=Co(i,h,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=bd(l),o.memoizedState=kd,i):xd(o,T));if(m=i.memoizedState,m!==null&&(x=m.dehydrated,x!==null))return XR(i,o,T,h,x,m,l);if(y){y=h.fallback,T=o.mode,m=i.child,x=m.sibling;var F={mode:"hidden",children:h.children};return(T&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=F,o.deletions=null):(h=Rs(m,F),h.subtreeFlags=m.subtreeFlags&14680064),x!==null?y=Rs(x,y):(y=Co(y,T,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,T=i.child.memoizedState,T=T===null?bd(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=kd,h}return y=i.child,i=y.sibling,h=Rs(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function xd(i,o){return o=Mc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Sc(i,o,l,h){return h!==null&&id(h),ya(o,i.child,null,l),i=xd(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function XR(i,o,l,h,m,y,T){if(l)return o.flags&256?(o.flags&=-257,h=Rd(Error(t(422))),Sc(i,o,T,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=Mc({mode:"visible",children:h.children},m,0,null),y=Co(y,m,T,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&ya(o,i.child,null,T),o.child.memoizedState=bd(T),o.memoizedState=kd,y);if((o.mode&1)===0)return Sc(i,o,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var x=h.dgst;return h=x,y=Error(t(419)),h=Rd(y,h,void 0),Sc(i,o,T,h)}if(x=(T&i.childLanes)!==0,Fn||x){if(h=Zt,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|T))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Oi(i,m),zr(h,i,m,-1))}return Gd(),h=Rd(Error(t(421))),Sc(i,o,T,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=uC.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,er=ps(m.nextSibling),Zn=o,Ct=!0,Mr=null,i!==null&&(dr[pr++]=Di,dr[pr++]=Ni,dr[pr++]=yo,Di=i.id,Ni=i.overflow,yo=o),o=xd(o,h.children),o.flags|=4096,o)}function Uv(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),ld(i.return,o,l)}function Dd(i,o,l,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function zv(i,o,l){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(bn(i,o,h.children,l),h=Pt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Uv(i,l,o);else if(i.tag===19)Uv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(wt(Pt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&gc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Dd(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&gc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Dd(o,!0,l,null,y);break;case"together":Dd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ic(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Mi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),To|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Rs(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Rs(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function YR(i,o,l){switch(o.tag){case 3:Mv(o),ga();break;case 5:ev(o);break;case 1:Vn(o.type)&&oc(o);break;case 4:hd(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;wt(fc,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(wt(Pt,Pt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Fv(i,o,l):(wt(Pt,Pt.current&1),i=Mi(i,o,l),i!==null?i.sibling:null);wt(Pt,Pt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return zv(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),wt(Pt,Pt.current),h)break;return null;case 22:case 23:return o.lanes=0,Nv(i,o,l)}return Mi(i,o,l)}var jv,Nd,$v,Bv;jv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Nd=function(){},$v=function(i,o,l,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,wo(oi.current);var y=null;switch(l){case"input":m=Rn(i,m),h=Rn(i,h),y=[];break;case"select":m=le({},m,{value:void 0}),h=le({},h,{value:void 0}),y=[];break;case"textarea":m=Gn(i,m),h=Gn(i,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=rc)}ts(l,h);var T;l=null;for(J in m)if(!h.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var x=m[J];for(T in x)x.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?y||(y=[]):(y=y||[]).push(J,null));for(J in h){var F=h[J];if(x=m!=null?m[J]:void 0,h.hasOwnProperty(J)&&F!==x&&(F!=null||x!=null))if(J==="style")if(x){for(T in x)!x.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in F)F.hasOwnProperty(T)&&x[T]!==F[T]&&(l||(l={}),l[T]=F[T])}else l||(y||(y=[]),y.push(J,l)),l=F;else J==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,x=x?x.__html:void 0,F!=null&&x!==F&&(y=y||[]).push(J,F)):J==="children"?typeof F!="string"&&typeof F!="number"||(y=y||[]).push(J,""+F):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(s.hasOwnProperty(J)?(F!=null&&J==="onScroll"&&Tt("scroll",i),y||x===F||(y=[])):(y=y||[]).push(J,F))}l&&(y=y||[]).push("style",l);var J=y;(o.updateQueue=J)&&(o.flags|=4)}},Bv=function(i,o,l,h){l!==h&&(o.flags|=4)};function xl(i,o){if(!Ct)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function vn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function JR(i,o,l){var h=o.pendingProps;switch(td(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(o),null;case 1:return Vn(o.type)&&sc(),vn(o),null;case 3:return h=o.stateNode,wa(),St(Mn),St(gn),pd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(cc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Mr!==null&&(Hd(Mr),Mr=null))),Nd(i,o),vn(o),null;case 5:fd(o);var m=wo(Cl.current);if(l=o.type,i!==null&&o.stateNode!=null)$v(i,o,l,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return vn(o),null}if(i=wo(oi.current),cc(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[si]=o,h[El]=y,i=(o.mode&1)!==0,l){case"dialog":Tt("cancel",h),Tt("close",h);break;case"iframe":case"object":case"embed":Tt("load",h);break;case"video":case"audio":for(m=0;m<vl.length;m++)Tt(vl[m],h);break;case"source":Tt("error",h);break;case"img":case"image":case"link":Tt("error",h),Tt("load",h);break;case"details":Tt("toggle",h);break;case"input":Xi(h,y),Tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Tt("invalid",h);break;case"textarea":or(h,y),Tt("invalid",h)}ts(l,y),m=null;for(var T in y)if(y.hasOwnProperty(T)){var x=y[T];T==="children"?typeof x=="string"?h.textContent!==x&&(y.suppressHydrationWarning!==!0&&nc(h.textContent,x,i),m=["children",x]):typeof x=="number"&&h.textContent!==""+x&&(y.suppressHydrationWarning!==!0&&nc(h.textContent,x,i),m=["children",""+x]):s.hasOwnProperty(T)&&x!=null&&T==="onScroll"&&Tt("scroll",h)}switch(l){case"input":Kt(h),Wo(h,y,!0);break;case"textarea":Kt(h),wi(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=rc)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=dt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[si]=o,i[El]=h,jv(i,o,!1,!1),o.stateNode=i;e:{switch(T=Xr(l,h),l){case"dialog":Tt("cancel",i),Tt("close",i),m=h;break;case"iframe":case"object":case"embed":Tt("load",i),m=h;break;case"video":case"audio":for(m=0;m<vl.length;m++)Tt(vl[m],i);m=h;break;case"source":Tt("error",i),m=h;break;case"img":case"image":case"link":Tt("error",i),Tt("load",i),m=h;break;case"details":Tt("toggle",i),m=h;break;case"input":Xi(i,h),m=Rn(i,h),Tt("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=le({},h,{value:void 0}),Tt("invalid",i);break;case"textarea":or(i,h),m=Gn(i,h),Tt("invalid",i);break;default:m=h}ts(l,m),x=m;for(y in x)if(x.hasOwnProperty(y)){var F=x[y];y==="style"?es(i,F):y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Ei(i,F)):y==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&Kr(i,F):typeof F=="number"&&Kr(i,""+F):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?F!=null&&y==="onScroll"&&Tt("scroll",i):F!=null&&W(i,y,F,T))}switch(l){case"input":Kt(i),Wo(i,h,!1);break;case"textarea":Kt(i),wi(i);break;case"option":h.value!=null&&i.setAttribute("value",""+tt(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Pr(i,!!h.multiple,y,!1):h.defaultValue!=null&&Pr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=rc)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return vn(o),null;case 6:if(i&&o.stateNode!=null)Bv(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=wo(Cl.current),wo(oi.current),cc(o)){if(h=o.stateNode,l=o.memoizedProps,h[si]=o,(y=h.nodeValue!==l)&&(i=Zn,i!==null))switch(i.tag){case 3:nc(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&nc(h.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[si]=o,o.stateNode=h}return vn(o),null;case 13:if(St(Pt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ct&&er!==null&&(o.mode&1)!==0&&(o.flags&128)===0)qy(),ga(),o.flags|=98560,y=!1;else if(y=cc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[si]=o}else ga(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vn(o),y=!1}else Mr!==null&&(Hd(Mr),Mr=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Pt.current&1)!==0?Wt===0&&(Wt=3):Gd())),o.updateQueue!==null&&(o.flags|=4),vn(o),null);case 4:return wa(),Nd(i,o),i===null&&_l(o.stateNode.containerInfo),vn(o),null;case 10:return ad(o.type._context),vn(o),null;case 17:return Vn(o.type)&&sc(),vn(o),null;case 19:if(St(Pt),y=o.memoizedState,y===null)return vn(o),null;if(h=(o.flags&128)!==0,T=y.rendering,T===null)if(h)xl(y,!1);else{if(Wt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=gc(i),T!==null){for(o.flags|=128,xl(y,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,i=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return wt(Pt,Pt.current&1|2),o.child}i=i.sibling}y.tail!==null&&ot()>Ia&&(o.flags|=128,h=!0,xl(y,!1),o.lanes=4194304)}else{if(!h)if(i=gc(T),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),xl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Ct)return vn(o),null}else 2*ot()-y.renderingStartTime>Ia&&l!==1073741824&&(o.flags|=128,h=!0,xl(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=ot(),o.sibling=null,l=Pt.current,wt(Pt,h?l&1|2:l&1),o):(vn(o),null);case 22:case 23:return qd(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(tr&1073741824)!==0&&(vn(o),o.subtreeFlags&6&&(o.flags|=8192)):vn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function ZR(i,o){switch(td(o),o.tag){case 1:return Vn(o.type)&&sc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return wa(),St(Mn),St(gn),pd(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return fd(o),null;case 13:if(St(Pt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ga()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return St(Pt),null;case 4:return wa(),null;case 10:return ad(o.type._context),null;case 22:case 23:return qd(),null;case 24:return null;default:return null}}var Rc=!1,_n=!1,eC=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ta(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Dt(i,o,h)}else l.current=null}function Od(i,o,l){try{l()}catch(h){Dt(i,o,h)}}var Hv=!1;function tC(i,o){if(qf=hs,i=Ty(),Ff(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,x=-1,F=-1,J=0,se=0,ae=i,ie=null;t:for(;;){for(var ge;ae!==l||m!==0&&ae.nodeType!==3||(x=T+m),ae!==y||h!==0&&ae.nodeType!==3||(F=T+h),ae.nodeType===3&&(T+=ae.nodeValue.length),(ge=ae.firstChild)!==null;)ie=ae,ae=ge;for(;;){if(ae===i)break t;if(ie===l&&++J===m&&(x=T),ie===y&&++se===h&&(F=T),(ge=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=ge}l=x===-1||F===-1?null:{start:x,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Gf={focusedElem:i,selectionRange:l},hs=!1,we=o;we!==null;)if(o=we,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,we=i;else for(;we!==null;){o=we;try{var Te=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Re=Te.memoizedProps,Lt=Te.memoizedState,G=o.stateNode,$=G.getSnapshotBeforeUpdate(o.elementType===o.type?Re:Vr(o.type,Re),Lt);G.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){Dt(o,o.return,ue)}if(i=o.sibling,i!==null){i.return=o.return,we=i;break}we=o.return}return Te=Hv,Hv=!1,Te}function Dl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&Od(o,l,y)}m=m.next}while(m!==h)}}function Cc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Ld(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Wv(i){var o=i.alternate;o!==null&&(i.alternate=null,Wv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[si],delete o[El],delete o[Yf],delete o[VR],delete o[FR])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function qv(i){return i.tag===5||i.tag===3||i.tag===4}function Gv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Md(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=rc));else if(h!==4&&(i=i.child,i!==null))for(Md(i,o,l),i=i.sibling;i!==null;)Md(i,o,l),i=i.sibling}function Vd(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Vd(i,o,l),i=i.sibling;i!==null;)Vd(i,o,l),i=i.sibling}var un=null,Fr=!1;function ws(i,o,l){for(l=l.child;l!==null;)Kv(i,o,l),l=l.sibling}function Kv(i,o,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(cr,l)}catch{}switch(l.tag){case 5:_n||Ta(l,o);case 6:var h=un,m=Fr;un=null,ws(i,o,l),un=h,Fr=m,un!==null&&(Fr?(i=un,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):un.removeChild(l.stateNode));break;case 18:un!==null&&(Fr?(i=un,l=l.stateNode,i.nodeType===8?Xf(i.parentNode,l):i.nodeType===1&&Xf(i,l),Nr(i)):Xf(un,l.stateNode));break;case 4:h=un,m=Fr,un=l.stateNode.containerInfo,Fr=!0,ws(i,o,l),un=h,Fr=m;break;case 0:case 11:case 14:case 15:if(!_n&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Od(l,o,T),m=m.next}while(m!==h)}ws(i,o,l);break;case 1:if(!_n&&(Ta(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(x){Dt(l,o,x)}ws(i,o,l);break;case 21:ws(i,o,l);break;case 22:l.mode&1?(_n=(h=_n)||l.memoizedState!==null,ws(i,o,l),_n=h):ws(i,o,l);break;default:ws(i,o,l)}}function Qv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new eC),o.forEach(function(h){var m=cC.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Ur(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=i,T=o,x=T;e:for(;x!==null;){switch(x.tag){case 5:un=x.stateNode,Fr=!1;break e;case 3:un=x.stateNode.containerInfo,Fr=!0;break e;case 4:un=x.stateNode.containerInfo,Fr=!0;break e}x=x.return}if(un===null)throw Error(t(160));Kv(y,T,m),un=null,Fr=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(J){Dt(m,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Xv(o,i),o=o.sibling}function Xv(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ur(o,i),li(i),h&4){try{Dl(3,i,i.return),Cc(3,i)}catch(Re){Dt(i,i.return,Re)}try{Dl(5,i,i.return)}catch(Re){Dt(i,i.return,Re)}}break;case 1:Ur(o,i),li(i),h&512&&l!==null&&Ta(l,l.return);break;case 5:if(Ur(o,i),li(i),h&512&&l!==null&&Ta(l,l.return),i.flags&32){var m=i.stateNode;try{Kr(m,"")}catch(Re){Dt(i,i.return,Re)}}if(h&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,x=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{x==="input"&&y.type==="radio"&&y.name!=null&&so(m,y),Xr(x,T);var J=Xr(x,y);for(T=0;T<F.length;T+=2){var se=F[T],ae=F[T+1];se==="style"?es(m,ae):se==="dangerouslySetInnerHTML"?Ei(m,ae):se==="children"?Kr(m,ae):W(m,se,ae,J)}switch(x){case"input":Yi(m,y);break;case"textarea":_i(m,y);break;case"select":var ie=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ge=y.value;ge!=null?Pr(m,!!y.multiple,ge,!1):ie!==!!y.multiple&&(y.defaultValue!=null?Pr(m,!!y.multiple,y.defaultValue,!0):Pr(m,!!y.multiple,y.multiple?[]:"",!1))}m[El]=y}catch(Re){Dt(i,i.return,Re)}}break;case 6:if(Ur(o,i),li(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(Re){Dt(i,i.return,Re)}}break;case 3:if(Ur(o,i),li(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Nr(o.containerInfo)}catch(Re){Dt(i,i.return,Re)}break;case 4:Ur(o,i),li(i);break;case 13:Ur(o,i),li(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(zd=ot())),h&4&&Qv(i);break;case 22:if(se=l!==null&&l.memoizedState!==null,i.mode&1?(_n=(J=_n)||se,Ur(o,i),_n=J):Ur(o,i),li(i),h&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!se&&(i.mode&1)!==0)for(we=i,se=i.child;se!==null;){for(ae=we=se;we!==null;){switch(ie=we,ge=ie.child,ie.tag){case 0:case 11:case 14:case 15:Dl(4,ie,ie.return);break;case 1:Ta(ie,ie.return);var Te=ie.stateNode;if(typeof Te.componentWillUnmount=="function"){h=ie,l=ie.return;try{o=h,Te.props=o.memoizedProps,Te.state=o.memoizedState,Te.componentWillUnmount()}catch(Re){Dt(h,l,Re)}}break;case 5:Ta(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Zv(ae);continue}}ge!==null?(ge.return=ie,we=ge):Zv(ae)}se=se.sibling}e:for(se=null,ae=i;;){if(ae.tag===5){if(se===null){se=ae;try{m=ae.stateNode,J?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(x=ae.stateNode,F=ae.memoizedProps.style,T=F!=null&&F.hasOwnProperty("display")?F.display:null,x.style.display=Zi("display",T))}catch(Re){Dt(i,i.return,Re)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=J?"":ae.memoizedProps}catch(Re){Dt(i,i.return,Re)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Ur(o,i),li(i),h&4&&Qv(i);break;case 21:break;default:Ur(o,i),li(i)}}function li(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(qv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Kr(m,""),h.flags&=-33);var y=Gv(i);Vd(i,y,m);break;case 3:case 4:var T=h.stateNode.containerInfo,x=Gv(i);Md(i,x,T);break;default:throw Error(t(161))}}catch(F){Dt(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function nC(i,o,l){we=i,Yv(i)}function Yv(i,o,l){for(var h=(i.mode&1)!==0;we!==null;){var m=we,y=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||Rc;if(!T){var x=m.alternate,F=x!==null&&x.memoizedState!==null||_n;x=Rc;var J=_n;if(Rc=T,(_n=F)&&!J)for(we=m;we!==null;)T=we,F=T.child,T.tag===22&&T.memoizedState!==null?e_(m):F!==null?(F.return=T,we=F):e_(m);for(;y!==null;)we=y,Yv(y),y=y.sibling;we=m,Rc=x,_n=J}Jv(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,we=y):Jv(i)}}function Jv(i){for(;we!==null;){var o=we;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:_n||Cc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!_n)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Vr(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Zy(o,y,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Zy(o,T,l)}break;case 5:var x=o.stateNode;if(l===null&&o.flags&4){l=x;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var se=J.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&Nr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}_n||o.flags&512&&Ld(o)}catch(ie){Dt(o,o.return,ie)}}if(o===i){we=null;break}if(l=o.sibling,l!==null){l.return=o.return,we=l;break}we=o.return}}function Zv(i){for(;we!==null;){var o=we;if(o===i){we=null;break}var l=o.sibling;if(l!==null){l.return=o.return,we=l;break}we=o.return}}function e_(i){for(;we!==null;){var o=we;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Cc(4,o)}catch(F){Dt(o,l,F)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(F){Dt(o,m,F)}}var y=o.return;try{Ld(o)}catch(F){Dt(o,y,F)}break;case 5:var T=o.return;try{Ld(o)}catch(F){Dt(o,T,F)}}}catch(F){Dt(o,o.return,F)}if(o===i){we=null;break}var x=o.sibling;if(x!==null){x.return=o.return,we=x;break}we=o.return}}var rC=Math.ceil,Ac=X.ReactCurrentDispatcher,Fd=X.ReactCurrentOwner,yr=X.ReactCurrentBatchConfig,st=0,Zt=null,Ut=null,cn=0,tr=0,Sa=ms(0),Wt=0,Nl=null,To=0,Pc=0,Ud=0,Ol=null,Un=null,zd=0,Ia=1/0,Vi=null,kc=!1,jd=null,Es=null,bc=!1,Ts=null,xc=0,Ll=0,$d=null,Dc=-1,Nc=0;function xn(){return(st&6)!==0?ot():Dc!==-1?Dc:Dc=ot()}function Ss(i){return(i.mode&1)===0?1:(st&2)!==0&&cn!==0?cn&-cn:zR.transition!==null?(Nc===0&&(Nc=uo()),Nc):(i=nt,i!==0||(i=window.event,i=i===void 0?16:ul(i.type)),i)}function zr(i,o,l,h){if(50<Ll)throw Ll=0,$d=null,Error(t(185));as(i,l,h),((st&2)===0||i!==Zt)&&(i===Zt&&((st&2)===0&&(Pc|=l),Wt===4&&Is(i,cn)),zn(i,h),l===1&&st===0&&(o.mode&1)===0&&(Ia=ot()+500,ac&&ys()))}function zn(i,o){var l=i.callbackNode;Ri(i,o);var h=lo(i,i===Zt?cn:0);if(h===0)l!==null&&kr(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&kr(l),o===1)i.tag===0?UR(n_.bind(null,i)):jy(n_.bind(null,i)),LR(function(){(st&6)===0&&ys()}),l=null;else{switch(us(h)){case 1:l=Pn;break;case 4:l=Kn;break;case 16:l=We;break;case 536870912:l=Qn;break;default:l=We}l=c_(l,t_.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function t_(i,o){if(Dc=-1,Nc=0,(st&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Ra()&&i.callbackNode!==l)return null;var h=lo(i,i===Zt?cn:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Oc(i,h);else{o=h;var m=st;st|=2;var y=i_();(Zt!==i||cn!==o)&&(Vi=null,Ia=ot()+500,Io(i,o));do try{oC();break}catch(x){r_(i,x)}while(!0);od(),Ac.current=y,st=m,Ut!==null?o=0:(Zt=null,cn=0,o=Wt)}if(o!==0){if(o===2&&(m=Xn(i),m!==0&&(h=m,o=Bd(i,m))),o===1)throw l=Nl,Io(i,0),Is(i,h),zn(i,ot()),l;if(o===6)Is(i,h);else{if(m=i.current.alternate,(h&30)===0&&!iC(m)&&(o=Oc(i,h),o===2&&(y=Xn(i),y!==0&&(h=y,o=Bd(i,y))),o===1))throw l=Nl,Io(i,0),Is(i,h),zn(i,ot()),l;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Ro(i,Un,Vi);break;case 3:if(Is(i,h),(h&130023424)===h&&(o=zd+500-ot(),10<o)){if(lo(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){xn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Qf(Ro.bind(null,i,Un,Vi),o);break}Ro(i,Un,Vi);break;case 4:if(Is(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var T=31-xt(h);y=1<<T,T=o[T],T>m&&(m=T),h&=~y}if(h=m,h=ot()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*rC(h/1960))-h,10<h){i.timeoutHandle=Qf(Ro.bind(null,i,Un,Vi),h);break}Ro(i,Un,Vi);break;case 5:Ro(i,Un,Vi);break;default:throw Error(t(329))}}}return zn(i,ot()),i.callbackNode===l?t_.bind(null,i):null}function Bd(i,o){var l=Ol;return i.current.memoizedState.isDehydrated&&(Io(i,o).flags|=256),i=Oc(i,o),i!==2&&(o=Un,Un=l,o!==null&&Hd(o)),i}function Hd(i){Un===null?Un=i:Un.push.apply(Un,i)}function iC(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!Lr(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Is(i,o){for(o&=~Ud,o&=~Pc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-xt(o),h=1<<l;i[l]=-1,o&=~h}}function n_(i){if((st&6)!==0)throw Error(t(327));Ra();var o=lo(i,0);if((o&1)===0)return zn(i,ot()),null;var l=Oc(i,o);if(i.tag!==0&&l===2){var h=Xn(i);h!==0&&(o=h,l=Bd(i,h))}if(l===1)throw l=Nl,Io(i,0),Is(i,o),zn(i,ot()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ro(i,Un,Vi),zn(i,ot()),null}function Wd(i,o){var l=st;st|=1;try{return i(o)}finally{st=l,st===0&&(Ia=ot()+500,ac&&ys())}}function So(i){Ts!==null&&Ts.tag===0&&(st&6)===0&&Ra();var o=st;st|=1;var l=yr.transition,h=nt;try{if(yr.transition=null,nt=1,i)return i()}finally{nt=h,yr.transition=l,st=o,(st&6)===0&&ys()}}function qd(){tr=Sa.current,St(Sa)}function Io(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,OR(l)),Ut!==null)for(l=Ut.return;l!==null;){var h=l;switch(td(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&sc();break;case 3:wa(),St(Mn),St(gn),pd();break;case 5:fd(h);break;case 4:wa();break;case 13:St(Pt);break;case 19:St(Pt);break;case 10:ad(h.type._context);break;case 22:case 23:qd()}l=l.return}if(Zt=i,Ut=i=Rs(i.current,null),cn=tr=o,Wt=0,Nl=null,Ud=Pc=To=0,Un=Ol=null,_o!==null){for(o=0;o<_o.length;o++)if(l=_o[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=m,h.next=T}l.pending=h}_o=null}return i}function r_(i,o){do{var l=Ut;try{if(od(),yc.current=Ec,vc){for(var h=kt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}vc=!1}if(Eo=0,Jt=Ht=kt=null,Al=!1,Pl=0,Fd.current=null,l===null||l.return===null){Wt=1,Nl=o,Ut=null;break}e:{var y=i,T=l.return,x=l,F=o;if(o=cn,x.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var J=F,se=x,ae=se.tag;if((se.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var ge=Pv(T);if(ge!==null){ge.flags&=-257,kv(ge,T,x,y,o),ge.mode&1&&Av(y,J,o),o=ge,F=J;var Te=o.updateQueue;if(Te===null){var Re=new Set;Re.add(F),o.updateQueue=Re}else Te.add(F);break e}else{if((o&1)===0){Av(y,J,o),Gd();break e}F=Error(t(426))}}else if(Ct&&x.mode&1){var Lt=Pv(T);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),kv(Lt,T,x,y,o),id(Ea(F,x));break e}}y=F=Ea(F,x),Wt!==4&&(Wt=2),Ol===null?Ol=[y]:Ol.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var G=Rv(y,F,o);Jy(y,G);break e;case 1:x=F;var $=y.type,Q=y.stateNode;if((y.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Es===null||!Es.has(Q)))){y.flags|=65536,o&=-o,y.lanes|=o;var ue=Cv(y,x,o);Jy(y,ue);break e}}y=y.return}while(y!==null)}o_(l)}catch(Ae){o=Ae,Ut===l&&l!==null&&(Ut=l=l.return);continue}break}while(!0)}function i_(){var i=Ac.current;return Ac.current=Ec,i===null?Ec:i}function Gd(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Zt===null||(To&268435455)===0&&(Pc&268435455)===0||Is(Zt,cn)}function Oc(i,o){var l=st;st|=2;var h=i_();(Zt!==i||cn!==o)&&(Vi=null,Io(i,o));do try{sC();break}catch(m){r_(i,m)}while(!0);if(od(),st=l,Ac.current=h,Ut!==null)throw Error(t(261));return Zt=null,cn=0,Wt}function sC(){for(;Ut!==null;)s_(Ut)}function oC(){for(;Ut!==null&&!sn();)s_(Ut)}function s_(i){var o=u_(i.alternate,i,tr);i.memoizedProps=i.pendingProps,o===null?o_(i):Ut=o,Fd.current=null}function o_(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=JR(l,o,tr),l!==null){Ut=l;return}}else{if(l=ZR(l,o),l!==null){l.flags&=32767,Ut=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Wt=6,Ut=null;return}}if(o=o.sibling,o!==null){Ut=o;return}Ut=o=i}while(o!==null);Wt===0&&(Wt=5)}function Ro(i,o,l){var h=nt,m=yr.transition;try{yr.transition=null,nt=1,aC(i,o,l,h)}finally{yr.transition=m,nt=h}return null}function aC(i,o,l,h){do Ra();while(Ts!==null);if((st&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(yt(i,y),i===Zt&&(Ut=Zt=null,cn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||bc||(bc=!0,c_(We,function(){return Ra(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=yr.transition,yr.transition=null;var T=nt;nt=1;var x=st;st|=4,Fd.current=null,tC(i,l),Xv(l,i),AR(Gf),hs=!!qf,Gf=qf=null,i.current=l,nC(l),Ii(),st=x,nt=T,yr.transition=y}else i.current=l;if(bc&&(bc=!1,Ts=i,xc=m),y=i.pendingLanes,y===0&&(Es=null),Et(l.stateNode),zn(i,ot()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(kc)throw kc=!1,i=jd,jd=null,i;return(xc&1)!==0&&i.tag!==0&&Ra(),y=i.pendingLanes,(y&1)!==0?i===$d?Ll++:(Ll=0,$d=i):Ll=0,ys(),null}function Ra(){if(Ts!==null){var i=us(xc),o=yr.transition,l=nt;try{if(yr.transition=null,nt=16>i?16:i,Ts===null)var h=!1;else{if(i=Ts,Ts=null,xc=0,(st&6)!==0)throw Error(t(331));var m=st;for(st|=4,we=i.current;we!==null;){var y=we,T=y.child;if((we.flags&16)!==0){var x=y.deletions;if(x!==null){for(var F=0;F<x.length;F++){var J=x[F];for(we=J;we!==null;){var se=we;switch(se.tag){case 0:case 11:case 15:Dl(8,se,y)}var ae=se.child;if(ae!==null)ae.return=se,we=ae;else for(;we!==null;){se=we;var ie=se.sibling,ge=se.return;if(Wv(se),se===J){we=null;break}if(ie!==null){ie.return=ge,we=ie;break}we=ge}}}var Te=y.alternate;if(Te!==null){var Re=Te.child;if(Re!==null){Te.child=null;do{var Lt=Re.sibling;Re.sibling=null,Re=Lt}while(Re!==null)}}we=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,we=T;else e:for(;we!==null;){if(y=we,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Dl(9,y,y.return)}var G=y.sibling;if(G!==null){G.return=y.return,we=G;break e}we=y.return}}var $=i.current;for(we=$;we!==null;){T=we;var Q=T.child;if((T.subtreeFlags&2064)!==0&&Q!==null)Q.return=T,we=Q;else e:for(T=$;we!==null;){if(x=we,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Cc(9,x)}}catch(Ae){Dt(x,x.return,Ae)}if(x===T){we=null;break e}var ue=x.sibling;if(ue!==null){ue.return=x.return,we=ue;break e}we=x.return}}if(st=m,ys(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(cr,i)}catch{}h=!0}return h}finally{nt=l,yr.transition=o}}return!1}function a_(i,o,l){o=Ea(l,o),o=Rv(i,o,1),i=_s(i,o,1),o=xn(),i!==null&&(as(i,1,o),zn(i,o))}function Dt(i,o,l){if(i.tag===3)a_(i,i,l);else for(;o!==null;){if(o.tag===3){a_(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Es===null||!Es.has(h))){i=Ea(l,i),i=Cv(o,i,1),o=_s(o,i,1),i=xn(),o!==null&&(as(o,1,i),zn(o,i));break}}o=o.return}}function lC(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=xn(),i.pingedLanes|=i.suspendedLanes&l,Zt===i&&(cn&l)===l&&(Wt===4||Wt===3&&(cn&130023424)===cn&&500>ot()-zd?Io(i,0):Ud|=l),zn(i,o)}function l_(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ko,Ko<<=1,(Ko&130023424)===0&&(Ko=4194304)));var l=xn();i=Oi(i,o),i!==null&&(as(i,o,l),zn(i,l))}function uC(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),l_(i,l)}function cC(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),l_(i,l)}var u_;u_=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Mn.current)Fn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return Fn=!1,YR(i,o,l);Fn=(i.flags&131072)!==0}else Fn=!1,Ct&&(o.flags&1048576)!==0&&$y(o,uc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Ic(i,o),i=o.pendingProps;var m=da(o,gn.current);_a(o,l),m=yd(null,o,h,i,m,l);var y=vd();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Vn(h)?(y=!0,oc(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,cd(o),m.updater=Tc,o.stateNode=m,m._reactInternals=o,Id(o,h,i,l),o=Pd(null,o,h,!0,y,l)):(o.tag=0,Ct&&y&&ed(o),bn(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Ic(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=fC(h),i=Vr(h,i),m){case 0:o=Ad(null,o,h,i,l);break e;case 1:o=Lv(null,o,h,i,l);break e;case 11:o=bv(null,o,h,i,l);break e;case 14:o=xv(null,o,h,Vr(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Vr(h,m),Ad(i,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Vr(h,m),Lv(i,o,h,m,l);case 3:e:{if(Mv(o),i===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,Yy(i,o),mc(o,h,null,l);var T=o.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Ea(Error(t(423)),o),o=Vv(i,o,h,l,m);break e}else if(h!==m){m=Ea(Error(t(424)),o),o=Vv(i,o,h,l,m);break e}else for(er=ps(o.stateNode.containerInfo.firstChild),Zn=o,Ct=!0,Mr=null,l=Qy(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ga(),h===m){o=Mi(i,o,l);break e}bn(i,o,h,l)}o=o.child}return o;case 5:return ev(o),i===null&&rd(o),h=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,T=m.children,Kf(h,m)?T=null:y!==null&&Kf(h,y)&&(o.flags|=32),Ov(i,o),bn(i,o,T,l),o.child;case 6:return i===null&&rd(o),null;case 13:return Fv(i,o,l);case 4:return hd(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ya(o,null,h,l):bn(i,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Vr(h,m),bv(i,o,h,m,l);case 7:return bn(i,o,o.pendingProps,l),o.child;case 8:return bn(i,o,o.pendingProps.children,l),o.child;case 12:return bn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,T=m.value,wt(fc,h._currentValue),h._currentValue=T,y!==null)if(Lr(y.value,T)){if(y.children===m.children&&!Mn.current){o=Mi(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var x=y.dependencies;if(x!==null){T=y.child;for(var F=x.firstContext;F!==null;){if(F.context===h){if(y.tag===1){F=Li(-1,l&-l),F.tag=2;var J=y.updateQueue;if(J!==null){J=J.shared;var se=J.pending;se===null?F.next=F:(F.next=se.next,se.next=F),J.pending=F}}y.lanes|=l,F=y.alternate,F!==null&&(F.lanes|=l),ld(y.return,l,o),x.lanes|=l;break}F=F.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,x=T.alternate,x!==null&&(x.lanes|=l),ld(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}bn(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,_a(o,l),m=mr(m),h=h(m),o.flags|=1,bn(i,o,h,l),o.child;case 14:return h=o.type,m=Vr(h,o.pendingProps),m=Vr(h.type,m),xv(i,o,h,m,l);case 15:return Dv(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Vr(h,m),Ic(i,o),o.tag=1,Vn(h)?(i=!0,oc(o)):i=!1,_a(o,l),Sv(o,h,m),Id(o,h,m,l),Pd(null,o,h,!0,i,l);case 19:return zv(i,o,l);case 22:return Nv(i,o,l)}throw Error(t(156,o.tag))};function c_(i,o){return Nn(i,o)}function hC(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(i,o,l,h){return new hC(i,o,l,h)}function Kd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fC(i){if(typeof i=="function")return Kd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===xe)return 14}return 2}function Rs(i,o){var l=i.alternate;return l===null?(l=vr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Lc(i,o,l,h,m,y){var T=2;if(h=i,typeof i=="function")Kd(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case k:return Co(l.children,m,y,o);case R:T=8,m|=8;break;case A:return i=vr(12,l,o,m|2),i.elementType=A,i.lanes=y,i;case b:return i=vr(13,l,o,m),i.elementType=b,i.lanes=y,i;case de:return i=vr(19,l,o,m),i.elementType=de,i.lanes=y,i;case Se:return Mc(l,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:T=10;break e;case V:T=9;break e;case U:T=11;break e;case xe:T=14;break e;case _e:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=vr(T,l,o,m),o.elementType=i,o.type=h,o.lanes=y,o}function Co(i,o,l,h){return i=vr(7,i,h,o),i.lanes=l,i}function Mc(i,o,l,h){return i=vr(22,i,h,o),i.elementType=Se,i.lanes=l,i.stateNode={isHidden:!1},i}function Qd(i,o,l){return i=vr(6,i,null,o),i.lanes=l,i}function Xd(i,o,l){return o=vr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function dC(i,o,l,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=os(0),this.expirationTimes=os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Yd(i,o,l,h,m,y,T,x,F){return i=new dC(i,o,l,x,F),o===1?(o=1,y===!0&&(o|=8)):o=0,y=vr(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},cd(y),i}function pC(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function h_(i){if(!i)return gs;i=i._reactInternals;e:{if(Ke(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Vn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Vn(l))return Uy(i,l,o)}return o}function f_(i,o,l,h,m,y,T,x,F){return i=Yd(l,h,!0,i,m,y,T,x,F),i.context=h_(null),l=i.current,h=xn(),m=Ss(l),y=Li(h,m),y.callback=o??null,_s(l,y,m),i.current.lanes=m,as(i,m,h),zn(i,h),i}function Vc(i,o,l,h){var m=o.current,y=xn(),T=Ss(m);return l=h_(l),o.context===null?o.context=l:o.pendingContext=l,o=Li(y,T),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=_s(m,o,T),i!==null&&(zr(i,m,T,y),pc(i,m,T)),T}function Fc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function d_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Jd(i,o){d_(i,o),(i=i.alternate)&&d_(i,o)}function mC(){return null}var p_=typeof reportError=="function"?reportError:function(i){console.error(i)};function Zd(i){this._internalRoot=i}Uc.prototype.render=Zd.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Vc(i,o,null,null)},Uc.prototype.unmount=Zd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;So(function(){Vc(null,i,null,null)}),o[bi]=null}};function Uc(i){this._internalRoot=i}Uc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Uu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<ti.length&&o!==0&&o<ti[l].priority;l++);ti.splice(l,0,i),l===0&&$u(i)}};function ep(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function zc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function m_(){}function gC(i,o,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var J=Fc(T);y.call(J)}}var T=f_(o,h,i,0,null,!1,!1,"",m_);return i._reactRootContainer=T,i[bi]=T.current,_l(i.nodeType===8?i.parentNode:i),So(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var x=h;h=function(){var J=Fc(F);x.call(J)}}var F=Yd(i,0,!1,null,null,!1,!1,"",m_);return i._reactRootContainer=F,i[bi]=F.current,_l(i.nodeType===8?i.parentNode:i),So(function(){Vc(o,F,l,h)}),F}function jc(i,o,l,h,m){var y=l._reactRootContainer;if(y){var T=y;if(typeof m=="function"){var x=m;m=function(){var F=Fc(T);x.call(F)}}Vc(o,T,i,m)}else T=gC(l,o,i,m,h);return Fc(T)}Vu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=ss(o.pendingLanes);l!==0&&(ls(o,l|1),zn(o,ot()),(st&6)===0&&(Ia=ot()+500,ys()))}break;case 13:So(function(){var h=Oi(i,1);if(h!==null){var m=xn();zr(h,i,1,m)}}),Jd(i,1)}},Qo=function(i){if(i.tag===13){var o=Oi(i,134217728);if(o!==null){var l=xn();zr(o,i,134217728,l)}Jd(i,134217728)}},Fu=function(i){if(i.tag===13){var o=Ss(i),l=Oi(i,o);if(l!==null){var h=xn();zr(l,i,o,h)}Jd(i,o)}},Uu=function(){return nt},zu=function(i,o){var l=nt;try{return nt=i,o()}finally{nt=l}},ns=function(i,o,l){switch(o){case"input":if(Yi(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var m=ic(h);if(!m)throw Error(t(90));Cr(h),Yi(h,m)}}}break;case"textarea":_i(i,l);break;case"select":o=l.value,o!=null&&Pr(i,!!l.multiple,o,!1)}},Si=Wd,ao=So;var yC={usingClientEntryPoint:!1,Events:[Tl,ha,ic,An,Zr,Wd]},Ml={findFiberByHostInstance:mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vC={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Qe(i),i===null?null:i.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||mC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{cr=$c.inject(vC),on=$c}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yC,jn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ep(o))throw Error(t(200));return pC(i,o,null,l)},jn.createRoot=function(i,o){if(!ep(i))throw Error(t(299));var l=!1,h="",m=p_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Yd(i,1,!1,null,null,l,!1,h,m),i[bi]=o.current,_l(i.nodeType===8?i.parentNode:i),new Zd(o)},jn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Qe(o),i=i===null?null:i.stateNode,i},jn.flushSync=function(i){return So(i)},jn.hydrate=function(i,o,l){if(!zc(o))throw Error(t(200));return jc(null,i,o,!0,l)},jn.hydrateRoot=function(i,o,l){if(!ep(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",T=p_;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=f_(o,null,i,1,l??null,m,!1,y,T),i[bi]=o.current,_l(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Uc(o)},jn.render=function(i,o,l){if(!zc(o))throw Error(t(200));return jc(null,i,o,!1,l)},jn.unmountComponentAtNode=function(i){if(!zc(i))throw Error(t(40));return i._reactRootContainer?(So(function(){jc(null,null,i,!1,function(){i._reactRootContainer=null,i[bi]=null})}),!0):!1},jn.unstable_batchedUpdates=Wd,jn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!zc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return jc(i,o,l,!1,h)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var S_;function fE(){if(S_)return rp.exports;S_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rp.exports=RC(),rp.exports}var I_;function CC(){if(I_)return Bc;I_=1;var n=fE();return Bc.createRoot=n.createRoot,Bc.hydrateRoot=n.hydrateRoot,Bc}var AC=CC(),Fl={},R_;function PC(){if(R_)return Fl;R_=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.parse=u,Fl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,I){const P=new a,D=E.length;if(D<2)return P;const C=(I==null?void 0:I.decode)||v;let O=0;do{const z=E.indexOf("=",O);if(z===-1)break;const W=E.indexOf(";",O),X=W===-1?D:W;if(z>X){O=E.lastIndexOf(";",z-1)+1;continue}const Y=f(E,O,z),L=d(E,z,Y),k=E.slice(Y,L);if(P[k]===void 0){let R=f(E,z+1,X),A=d(E,X,R);const N=C(E.slice(R,A));P[k]=N}O=X+1}while(O<D);return P}function f(E,I,P){do{const D=E.charCodeAt(I);if(D!==32&&D!==9)return I}while(++I<P);return P}function d(E,I,P){for(;I>P;){const D=E.charCodeAt(--I);if(D!==32&&D!==9)return I+1}return P}function p(E,I,P){const D=(P==null?void 0:P.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const C=D(I);if(!e.test(C))throw new TypeError(`argument val is invalid: ${I}`);let O=E+"="+C;if(!P)return O;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);O+="; Max-Age="+P.maxAge}if(P.domain){if(!t.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);O+="; Domain="+P.domain}if(P.path){if(!r.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);O+="; Path="+P.path}if(P.expires){if(!w(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);O+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(O+="; HttpOnly"),P.secure&&(O+="; Secure"),P.partitioned&&(O+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return O}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return s.call(E)==="[object Date]"}return Fl}PC();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dE=n=>{throw TypeError(n)},kC=(n,e,t)=>e.has(n)||dE("Cannot "+t),op=(n,e,t)=>(kC(n,e,"read from private field"),t?t.call(n):e.get(n)),bC=(n,e,t)=>e.has(n)?dE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),C_="popstate";function xC(n={}){function e(r,s){let{pathname:a,search:u,hash:f}=r.location;return uu("",{pathname:a,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:js(s)}return NC(e,t,null,n)}function Ye(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Vt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DC(){return Math.random().toString(36).substring(2,10)}function A_(n,e){return{usr:n.state,key:n.key,idx:e}}function uu(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:t,key:e&&e.key||r||DC()}}function js({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function NC(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,f="POP",d=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function w(){f="POP";let C=v(),O=C==null?null:C-p;p=C,d&&d({action:f,location:D.location,delta:O})}function E(C,O){f="PUSH";let z=uu(D.location,C,O);p=v()+1;let W=A_(z,p),X=D.createHref(z);try{u.pushState(W,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(X)}a&&d&&d({action:f,location:D.location,delta:1})}function I(C,O){f="REPLACE";let z=uu(D.location,C,O);p=v();let W=A_(z,p),X=D.createHref(z);u.replaceState(W,"",X),a&&d&&d({action:f,location:D.location,delta:0})}function P(C){let O=s.location.origin!=="null"?s.location.origin:s.location.href,z=typeof C=="string"?C:js(C);return z=z.replace(/ $/,"%20"),Ye(O,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,O)}let D={get action(){return f},get location(){return n(s,u)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(C_,w),d=C,()=>{s.removeEventListener(C_,w),d=null}},createHref(C){return e(s,C)},createURL:P,encodeLocation(C){let O=P(C);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:I,go(C){return u.go(C)}};return D}var ql,P_=class{constructor(n){if(bC(this,ql,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(op(this,ql).has(n))return op(this,ql).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){op(this,ql).set(n,e)}};ql=new WeakMap;var OC=new Set(["lazy","caseSensitive","path","id","index","children"]);function LC(n){return OC.has(n)}var MC=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function VC(n){return MC.has(n)}function FC(n){return n.index===!0}function Eh(n,e,t=[],r={}){return n.map((s,a)=>{let u=[...t,String(a)],f=typeof s.id=="string"?s.id:u.join("-");if(Ye(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ye(!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),FC(s)){let d={...s,...e(s),id:f};return r[f]=d,d}else{let d={...s,...e(s),id:f,children:void 0};return r[f]=d,s.children&&(d.children=Eh(s.children,e,u,r)),d}})}function ks(n,e,t="/"){return rh(n,e,t,!1)}function rh(n,e,t,r){let s=typeof e=="string"?Xs(e):e,a=Tr(s.pathname||"/",t);if(a==null)return null;let u=pE(n);zC(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let p=YC(a);f=QC(u[d],p,r)}return f}function UC(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function pE(n,e=[],t=[],r=""){let s=(a,u,f)=>{let d={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(Ye(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=fi([r,d.relativePath]),v=t.concat(d);a.children&&a.children.length>0&&(Ye(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),pE(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:GC(p,a.index),routesMeta:v})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,u);else for(let d of mE(a.path))s(a,u,d)}),e}function mE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=mE(r.join("/")),f=[];return f.push(...u.map(d=>d===""?a:[a,d].join("/"))),s&&f.push(...u),f.map(d=>n.startsWith("/")&&d===""?"/":d)}function zC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:KC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var jC=/^:[\w-]+$/,$C=3,BC=2,HC=1,WC=10,qC=-2,k_=n=>n==="*";function GC(n,e){let t=n.split("/"),r=t.length;return t.some(k_)&&(r+=qC),e&&(r+=BC),t.filter(s=>!k_(s)).reduce((s,a)=>s+(jC.test(a)?$C:a===""?HC:WC),r)}function KC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function QC(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let f=0;f<r.length;++f){let d=r[f],p=f===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=Th({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),E=d.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=Th({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:fi([a,w.pathname]),pathnameBase:eA(fi([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=fi([a,w.pathnameBase]))}return u}function Th(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=XC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:w},E)=>{if(v==="*"){let P=f[E]||"";u=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const I=f[E];return w&&!I?p[v]=void 0:p[v]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function XC(n,e=!1,t=!0){Vt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function YC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Tr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function JC(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Xs(n):n;return{pathname:t?t.startsWith("/")?t:ZC(t,e):e,search:tA(r),hash:nA(s)}}function ZC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function ap(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qh(n){let e=gE(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Xh(n,e,t,r=!1){let s;typeof n=="string"?s=Xs(n):(s={...n},Ye(!s.pathname||!s.pathname.includes("?"),ap("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),ap("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),ap("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,f;if(u==null)f=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}f=w>=0?e[w]:"/"}let d=JC(s,f),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}var fi=n=>n.join("/").replace(/\/\/+/g,"/"),eA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Sh=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function cu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var yE=["POST","PUT","PATCH","DELETE"],rA=new Set(yE),iA=["GET",...yE],sA=new Set(iA),oA=new Set([301,302,303,307,308]),aA=new Set([307,308]),lp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ul={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uA=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),vE="remix-router-transitions",_E=Symbol("ResetLoaderData");function cA(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ye(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],s=n.mapRouteProperties||uA,a={},u=Eh(n.routes,s,void 0,a),f,d=n.basename||"/",p=n.dataStrategy||mA,v={unstable_middleware:!1,...n.future},w=null,E=new Set,I=null,P=null,D=null,C=n.hydrationData!=null,O=ks(u,n.history.location,d),z=!1,W=null;if(O==null&&!n.patchRoutesOnNavigation){let M=wr(404,{pathname:n.history.location.pathname}),{matches:H,route:K}=j_(u);O=H,W={[K.id]:M}}O&&!n.hydrationData&&An(O,u,n.history.location.pathname).active&&(O=null);let X;if(O)if(O.some(M=>M.route.lazy))X=!1;else if(!O.some(M=>M.route.loader))X=!0;else{let M=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;if(H){let K=O.findIndex(oe=>H[oe.route.id]!==void 0);X=O.slice(0,K+1).every(oe=>!Vp(oe.route,M,H))}else X=O.every(K=>!Vp(K.route,M,H))}else{X=!1,O=[];let M=An(null,u,n.history.location.pathname);M.active&&M.matches&&(z=!0,O=M.matches)}let Y,L={historyAction:n.history.action,location:n.history.location,matches:O,initialized:X,navigation:lp,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||W,fetchers:new Map,blockers:new Map},k="POP",R=!1,A,N=!1,V=new Map,U=null,b=!1,de=!1,xe=new Set,_e=new Map,Se=0,re=-1,ce=new Map,le=new Set,B=new Map,ee=new Map,pe=new Set,ke=new Map,Ve,$e=null;function qe(){if(w=n.history.listen(({action:M,location:H,delta:K})=>{if(Ve){Ve(),Ve=void 0;return}Vt(ke.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=Yr({currentLocation:L.location,nextLocation:H,historyAction:M});if(oe&&K!=null){let he=new Promise(Ie=>{Ve=Ie});n.history.go(K*-1),Xr(oe,{state:"blocked",location:H,proceed(){Xr(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),he.then(()=>n.history.go(K))},reset(){let Ie=new Map(L.blockers);Ie.set(oe,Ul),Je({blockers:Ie})}});return}return Rn(M,H)}),t){CA(e,V);let M=()=>AA(e,V);e.addEventListener("pagehide",M),U=()=>e.removeEventListener("pagehide",M)}return L.initialized||Rn("POP",L.location,{initialHydration:!0}),Y}function tt(){w&&w(),U&&U(),E.clear(),A&&A.abort(),L.fetchers.forEach((M,H)=>Ei(H)),L.blockers.forEach((M,H)=>ts(H))}function lt(M){return E.add(M),()=>E.delete(M)}function Je(M,H={}){L={...L,...M};let K=[],oe=[];L.fetchers.forEach((he,Ie)=>{he.state==="idle"&&(pe.has(Ie)?K.push(Ie):oe.push(Ie))}),pe.forEach(he=>{!L.fetchers.has(he)&&!_e.has(he)&&K.push(he)}),[...E].forEach(he=>he(L,{deletedFetchers:K,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),K.forEach(he=>Ei(he)),oe.forEach(he=>L.fetchers.delete(he))}function Kt(M,H,{flushSync:K}={}){var Pe,Fe;let oe=L.actionData!=null&&L.navigation.formMethod!=null&&rr(L.navigation.formMethod)&&L.navigation.state==="loading"&&((Pe=M.state)==null?void 0:Pe._isRedirect)!==!0,he;H.actionData?Object.keys(H.actionData).length>0?he=H.actionData:he=null:oe?he=L.actionData:he=null;let Ie=H.loaderData?U_(L.loaderData,H.loaderData,H.matches||[],H.errors):L.loaderData,be=L.blockers;be.size>0&&(be=new Map(be),be.forEach((Ce,ze)=>be.set(ze,Ul)));let me=R===!0||L.navigation.formMethod!=null&&rr(L.navigation.formMethod)&&((Fe=M.state)==null?void 0:Fe._isRedirect)!==!0;f&&(u=f,f=void 0),b||k==="POP"||(k==="PUSH"?n.history.push(M,M.state):k==="REPLACE"&&n.history.replace(M,M.state));let Ee;if(k==="POP"){let Ce=V.get(L.location.pathname);Ce&&Ce.has(M.pathname)?Ee={currentLocation:L.location,nextLocation:M}:V.has(M.pathname)&&(Ee={currentLocation:M,nextLocation:L.location})}else if(N){let Ce=V.get(L.location.pathname);Ce?Ce.add(M.pathname):(Ce=new Set([M.pathname]),V.set(L.location.pathname,Ce)),Ee={currentLocation:L.location,nextLocation:M}}Je({...H,actionData:he,loaderData:Ie,historyAction:k,location:M,initialized:!0,navigation:lp,revalidation:"idle",restoreScrollPosition:Ti(M,H.matches||L.matches),preventScrollReset:me,blockers:be},{viewTransitionOpts:Ee,flushSync:K===!0}),k="POP",R=!1,N=!1,b=!1,de=!1,$e==null||$e.resolve(),$e=null}async function Cr(M,H){if(typeof M=="number"){n.history.go(M);return}let K=Mp(L.location,L.matches,d,M,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:oe,submission:he,error:Ie}=b_(!1,K,H),be=L.location,me=uu(L.location,oe,H&&H.state);me={...me,...n.history.encodeLocation(me)};let Ee=H&&H.replace!=null?H.replace:void 0,Pe="PUSH";Ee===!0?Pe="REPLACE":Ee===!1||he!=null&&rr(he.formMethod)&&he.formAction===L.location.pathname+L.location.search&&(Pe="REPLACE");let Fe=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Ce=(H&&H.flushSync)===!0,ze=Yr({currentLocation:be,nextLocation:me,historyAction:Pe});if(ze){Xr(ze,{state:"blocked",location:me,proceed(){Xr(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),Cr(M,H)},reset(){let Ke=new Map(L.blockers);Ke.set(ze,Ul),Je({blockers:Ke})}});return}await Rn(Pe,me,{submission:he,pendingError:Ie,preventScrollReset:Fe,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Ce})}function qn(){$e||($e=PA()),wi(),Je({revalidation:"loading"});let M=$e.promise;return L.navigation.state==="submitting"?M:L.navigation.state==="idle"?(Rn(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),M):(Rn(k||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:N===!0}),M)}async function Rn(M,H,K){A&&A.abort(),A=null,k=M,b=(K&&K.startUninterruptedRevalidation)===!0,lr(L.location,L.matches),R=(K&&K.preventScrollReset)===!0,N=(K&&K.enableViewTransition)===!0;let oe=f||u,he=K&&K.overrideNavigation,Ie=K!=null&&K.initialHydration&&L.matches&&L.matches.length>0&&!z?L.matches:ks(oe,H,d),be=(K&&K.flushSync)===!0;if(Ie&&L.initialized&&!de&&EA(L.location,H)&&!(K&&K.submission&&rr(K.submission.formMethod))){Kt(H,{matches:Ie},{flushSync:be});return}let me=An(Ie,oe,H.pathname);if(me.active&&me.matches&&(Ie=me.matches),!Ie){let{error:pt,notFoundMatches:Qt,route:Qe}=Jr(H.pathname);Kt(H,{matches:Qt,loaderData:{},errors:{[Qe.id]:pt}},{flushSync:be});return}A=new AbortController;let Ee=Aa(n.history,H,A.signal,K&&K.submission),Pe=new P_(n.unstable_getContext?await n.unstable_getContext():void 0),Fe;if(K&&K.pendingError)Fe=[Po(Ie).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&rr(K.submission.formMethod)){let pt=await Xi(Ee,H,K.submission,Ie,Pe,me.active,K&&K.initialHydration===!0,{replace:K.replace,flushSync:be});if(pt.shortCircuited)return;if(pt.pendingActionResult){let[Qt,Qe]=pt.pendingActionResult;if(nr(Qe)&&cu(Qe.error)&&Qe.error.status===404){A=null,Kt(H,{matches:pt.matches,loaderData:{},errors:{[Qt]:Qe.error}});return}}Ie=pt.matches||Ie,Fe=pt.pendingActionResult,he=up(H,K.submission),be=!1,me.active=!1,Ee=Aa(n.history,Ee.url,Ee.signal)}let{shortCircuited:Ce,matches:ze,loaderData:Ke,errors:gt}=await so(Ee,H,Ie,Pe,me.active,he,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,be,Fe);Ce||(A=null,Kt(H,{matches:ze||Ie,...z_(Fe),loaderData:Ke,errors:gt}))}async function Xi(M,H,K,oe,he,Ie,be,me={}){wi();let Ee=IA(H,K);if(Je({navigation:Ee},{flushSync:me.flushSync===!0}),Ie){let Ce=await Zr(oe,H.pathname,M.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let ze=Po(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[ze,{type:"error",error:Ce.error}]}}else if(Ce.matches)oe=Ce.matches;else{let{notFoundMatches:ze,error:Ke,route:gt}=Jr(H.pathname);return{matches:ze,pendingActionResult:[gt.id,{type:"error",error:Ke}]}}}let Pe,Fe=Gl(oe,H);if(!Fe.route.action&&!Fe.route.lazy)Pe={type:"error",error:wr(405,{method:M.method,pathname:H.pathname,routeId:Fe.route.id})};else{let Ce=Da(s,a,M,oe,Fe,be?[]:r,he),ze=await or(M,Ce,he,null);if(Pe=ze[Fe.route.id],!Pe){for(let Ke of oe)if(ze[Ke.route.id]){Pe=ze[Ke.route.id];break}}if(M.signal.aborted)return{shortCircuited:!0}}if(bo(Pe)){let Ce;return me&&me.replace!=null?Ce=me.replace:Ce=M_(Pe.response.headers.get("Location"),new URL(M.url),d)===L.location.pathname+L.location.search,await Gn(M,Pe,!0,{submission:K,replace:Ce}),{shortCircuited:!0}}if(nr(Pe)){let Ce=Po(oe,Fe.route.id);return(me&&me.replace)!==!0&&(k="PUSH"),{matches:oe,pendingActionResult:[Ce.route.id,Pe,Fe.route.id]}}return{matches:oe,pendingActionResult:[Fe.route.id,Pe]}}async function so(M,H,K,oe,he,Ie,be,me,Ee,Pe,Fe,Ce){let ze=Ie||up(H,be),Ke=be||me||B_(ze),gt=!b&&!Pe;if(he){if(gt){let Xt=Yi(Ce);Je({navigation:ze,...Xt!==void 0?{actionData:Xt}:{}},{flushSync:Fe})}let We=await Zr(K,H.pathname,M.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let Xt=Po(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[Xt]:We.error}}}else if(We.matches)K=We.matches;else{let{error:Xt,notFoundMatches:Qn,route:cr}=Jr(H.pathname);return{matches:Qn,loaderData:{},errors:{[cr.id]:Xt}}}}let pt=f||u,{dsMatches:Qt,revalidatingFetchers:Qe}=x_(M,oe,s,a,n.history,L,K,Ke,H,Pe?[]:r,Pe===!0,de,xe,pe,B,le,pt,d,Ce);if(re=++Se,!n.dataStrategy&&!Qt.some(We=>We.shouldLoad)&&Qe.length===0){let We=Zi();return Kt(H,{matches:K,loaderData:{},errors:Ce&&nr(Ce[1])?{[Ce[0]]:Ce[1].error}:null,...z_(Ce),...We?{fetchers:new Map(L.fetchers)}:{}},{flushSync:Fe}),{shortCircuited:!0}}if(gt){let We={};if(!he){We.navigation=ze;let Xt=Yi(Ce);Xt!==void 0&&(We.actionData=Xt)}Qe.length>0&&(We.fetchers=Wo(Qe)),Je(We,{flushSync:Fe})}Qe.forEach(We=>{mn(We.key),We.controller&&_e.set(We.key,We.controller)});let ur=()=>Qe.forEach(We=>mn(We.key));A&&A.signal.addEventListener("abort",ur);let{loaderResults:Nn,fetcherResults:kr}=await _i(Qt,Qe,M,oe);if(M.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",ur),Qe.forEach(We=>_e.delete(We.key));let sn=Hc(Nn);if(sn)return await Gn(M,sn.result,!0,{replace:Ee}),{shortCircuited:!0};if(sn=Hc(kr),sn)return le.add(sn.key),await Gn(M,sn.result,!0,{replace:Ee}),{shortCircuited:!0};let{loaderData:Ii,errors:ot}=F_(L,K,Nn,Ce,Qe,kr);Pe&&L.errors&&(ot={...L.errors,...ot});let rs=Zi(),Pn=es(re),Kn=rs||Pn||Qe.length>0;return{matches:K,loaderData:Ii,errors:ot,...Kn?{fetchers:new Map(L.fetchers)}:{}}}function Yi(M){if(M&&!nr(M[1]))return{[M[0]]:M[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Wo(M){return M.forEach(H=>{let K=L.fetchers.get(H.key),oe=zl(void 0,K?K.data:void 0);L.fetchers.set(H.key,oe)}),new Map(L.fetchers)}async function Ji(M,H,K,oe){mn(M);let he=(oe&&oe.flushSync)===!0,Ie=f||u,be=Mp(L.location,L.matches,d,K,H,oe==null?void 0:oe.relative),me=ks(Ie,be,d),Ee=An(me,Ie,be);if(Ee.active&&Ee.matches&&(me=Ee.matches),!me){ht(M,H,wr(404,{pathname:be}),{flushSync:he});return}let{path:Pe,submission:Fe,error:Ce}=b_(!0,be,oe);if(Ce){ht(M,H,Ce,{flushSync:he});return}let ze=Gl(me,Pe),Ke=new P_(n.unstable_getContext?await n.unstable_getContext():void 0),gt=(oe&&oe.preventScrollReset)===!0;if(Fe&&rr(Fe.formMethod)){await Ar(M,H,Pe,ze,me,Ke,Ee.active,he,gt,Fe);return}B.set(M,{routeId:H,path:Pe}),await Pr(M,H,Pe,ze,me,Ke,Ee.active,he,gt,Fe)}async function Ar(M,H,K,oe,he,Ie,be,me,Ee,Pe){wi(),B.delete(M);function Fe(Et){if(!Et.route.action&&!Et.route.lazy){let xt=wr(405,{method:Pe.formMethod,pathname:K,routeId:H});return ht(M,H,xt,{flushSync:me}),!0}return!1}if(!be&&Fe(oe))return;let Ce=L.fetchers.get(M);dt(M,RA(Pe,Ce),{flushSync:me});let ze=new AbortController,Ke=Aa(n.history,K,ze.signal,Pe);if(be){let Et=await Zr(he,K,Ke.signal,M);if(Et.type==="aborted")return;if(Et.type==="error"){ht(M,H,Et.error,{flushSync:me});return}else if(Et.matches){if(he=Et.matches,oe=Gl(he,K),Fe(oe))return}else{ht(M,H,wr(404,{pathname:K}),{flushSync:me});return}}_e.set(M,ze);let gt=Se,pt=Da(s,a,Ke,he,oe,r,Ie),Qe=(await or(Ke,pt,Ie,M))[oe.route.id];if(Ke.signal.aborted){_e.get(M)===ze&&_e.delete(M);return}if(pe.has(M)){if(bo(Qe)||nr(Qe)){dt(M,Ps(void 0));return}}else{if(bo(Qe))if(_e.delete(M),re>gt){dt(M,Ps(void 0));return}else return le.add(M),dt(M,zl(Pe)),Gn(Ke,Qe,!1,{fetcherSubmission:Pe,preventScrollReset:Ee});if(nr(Qe)){ht(M,H,Qe.error);return}}let ur=L.navigation.location||L.location,Nn=Aa(n.history,ur,ze.signal),kr=f||u,sn=L.navigation.state!=="idle"?ks(kr,L.navigation.location,d):L.matches;Ye(sn,"Didn't find any matches after fetcher action");let Ii=++Se;ce.set(M,Ii);let ot=zl(Pe,Qe.data);L.fetchers.set(M,ot);let{dsMatches:rs,revalidatingFetchers:Pn}=x_(Nn,Ie,s,a,n.history,L,sn,Pe,ur,r,!1,de,xe,pe,B,le,kr,d,[oe.route.id,Qe]);Pn.filter(Et=>Et.key!==M).forEach(Et=>{let xt=Et.key,is=L.fetchers.get(xt),qo=zl(void 0,is?is.data:void 0);L.fetchers.set(xt,qo),mn(xt),Et.controller&&_e.set(xt,Et.controller)}),Je({fetchers:new Map(L.fetchers)});let Kn=()=>Pn.forEach(Et=>mn(Et.key));ze.signal.addEventListener("abort",Kn);let{loaderResults:We,fetcherResults:Xt}=await _i(rs,Pn,Nn,Ie);if(ze.signal.aborted)return;ze.signal.removeEventListener("abort",Kn),ce.delete(M),_e.delete(M),Pn.forEach(Et=>_e.delete(Et.key));let Qn=Hc(We);if(Qn)return Gn(Nn,Qn.result,!1,{preventScrollReset:Ee});if(Qn=Hc(Xt),Qn)return le.add(Qn.key),Gn(Nn,Qn.result,!1,{preventScrollReset:Ee});let{loaderData:cr,errors:on}=F_(L,sn,We,void 0,Pn,Xt);if(L.fetchers.has(M)){let Et=Ps(Qe.data);L.fetchers.set(M,Et)}es(Ii),L.navigation.state==="loading"&&Ii>re?(Ye(k,"Expected pending action"),A&&A.abort(),Kt(L.navigation.location,{matches:sn,loaderData:cr,errors:on,fetchers:new Map(L.fetchers)})):(Je({errors:on,loaderData:U_(L.loaderData,cr,sn,on),fetchers:new Map(L.fetchers)}),de=!1)}async function Pr(M,H,K,oe,he,Ie,be,me,Ee,Pe){let Fe=L.fetchers.get(M);dt(M,zl(Pe,Fe?Fe.data:void 0),{flushSync:me});let Ce=new AbortController,ze=Aa(n.history,K,Ce.signal);if(be){let Qe=await Zr(he,K,ze.signal,M);if(Qe.type==="aborted")return;if(Qe.type==="error"){ht(M,H,Qe.error,{flushSync:me});return}else if(Qe.matches)he=Qe.matches,oe=Gl(he,K);else{ht(M,H,wr(404,{pathname:K}),{flushSync:me});return}}_e.set(M,Ce);let Ke=Se,gt=Da(s,a,ze,he,oe,r,Ie),Qt=(await or(ze,gt,Ie,M))[oe.route.id];if(_e.get(M)===Ce&&_e.delete(M),!ze.signal.aborted){if(pe.has(M)){dt(M,Ps(void 0));return}if(bo(Qt))if(re>Ke){dt(M,Ps(void 0));return}else{le.add(M),await Gn(ze,Qt,!1,{preventScrollReset:Ee});return}if(nr(Qt)){ht(M,H,Qt.error);return}dt(M,Ps(Qt.data))}}async function Gn(M,H,K,{submission:oe,fetcherSubmission:he,preventScrollReset:Ie,replace:be}={}){H.response.headers.has("X-Remix-Revalidate")&&(de=!0);let me=H.response.headers.get("Location");Ye(me,"Expected a Location header on the redirect Response"),me=M_(me,new URL(M.url),d);let Ee=uu(L.location,me,{_isRedirect:!0});if(t){let gt=!1;if(H.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(zm.test(me)){const pt=n.history.createURL(me);gt=pt.origin!==e.location.origin||Tr(pt.pathname,d)==null}if(gt){be?e.location.replace(me):e.location.assign(me);return}}A=null;let Pe=be===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Fe,formAction:Ce,formEncType:ze}=L.navigation;!oe&&!he&&Fe&&Ce&&ze&&(oe=B_(L.navigation));let Ke=oe||he;if(aA.has(H.response.status)&&Ke&&rr(Ke.formMethod))await Rn(Pe,Ee,{submission:{...Ke,formAction:me},preventScrollReset:Ie||R,enableViewTransition:K?N:void 0});else{let gt=up(Ee,oe);await Rn(Pe,Ee,{overrideNavigation:gt,fetcherSubmission:he,preventScrollReset:Ie||R,enableViewTransition:K?N:void 0})}}async function or(M,H,K,oe){let he,Ie={};try{he=await gA(p,M,H,oe,K,!1)}catch(be){return H.filter(me=>me.shouldLoad).forEach(me=>{Ie[me.route.id]={type:"error",error:be}}),Ie}for(let[be,me]of Object.entries(he))if(TA(me)){let Ee=me.result;Ie[be]={type:"redirect",response:_A(Ee,M,be,H,d)}}else Ie[be]=await vA(me);return Ie}async function _i(M,H,K,oe){let he=or(K,M,oe,null),Ie=Promise.all(H.map(async Ee=>{if(Ee.matches&&Ee.match&&Ee.request&&Ee.controller){let Fe=(await or(Ee.request,Ee.matches,oe,Ee.key))[Ee.match.route.id];return{[Ee.key]:Fe}}else return Promise.resolve({[Ee.key]:{type:"error",error:wr(404,{pathname:Ee.path})}})})),be=await he,me=(await Ie).reduce((Ee,Pe)=>Object.assign(Ee,Pe),{});return{loaderResults:be,fetcherResults:me}}function wi(){de=!0,B.forEach((M,H)=>{_e.has(H)&&xe.add(H),mn(H)})}function dt(M,H,K={}){L.fetchers.set(M,H),Je({fetchers:new Map(L.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function ht(M,H,K,oe={}){let he=Po(L.matches,H);Ei(M),Je({errors:{[he.route.id]:K},fetchers:new Map(L.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function ar(M){return ee.set(M,(ee.get(M)||0)+1),pe.has(M)&&pe.delete(M),L.fetchers.get(M)||lA}function Ei(M){let H=L.fetchers.get(M);_e.has(M)&&!(H&&H.state==="loading"&&ce.has(M))&&mn(M),B.delete(M),ce.delete(M),le.delete(M),pe.delete(M),xe.delete(M),L.fetchers.delete(M)}function Kr(M){let H=(ee.get(M)||0)-1;H<=0?(ee.delete(M),pe.add(M)):ee.set(M,H),Je({fetchers:new Map(L.fetchers)})}function mn(M){let H=_e.get(M);H&&(H.abort(),_e.delete(M))}function Qr(M){for(let H of M){let K=ar(H),oe=Ps(K.data);L.fetchers.set(H,oe)}}function Zi(){let M=[],H=!1;for(let K of le){let oe=L.fetchers.get(K);Ye(oe,`Expected fetcher: ${K}`),oe.state==="loading"&&(le.delete(K),M.push(K),H=!0)}return Qr(M),H}function es(M){let H=[];for(let[K,oe]of ce)if(oe<M){let he=L.fetchers.get(K);Ye(he,`Expected fetcher: ${K}`),he.state==="loading"&&(mn(K),ce.delete(K),H.push(K))}return Qr(H),H.length>0}function oo(M,H){let K=L.blockers.get(M)||Ul;return ke.get(M)!==H&&ke.set(M,H),K}function ts(M){L.blockers.delete(M),ke.delete(M)}function Xr(M,H){let K=L.blockers.get(M)||Ul;Ye(K.state==="unblocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="proceeding"||K.state==="blocked"&&H.state==="unblocked"||K.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${H.state}`);let oe=new Map(L.blockers);oe.set(M,H),Je({blockers:oe})}function Yr({currentLocation:M,nextLocation:H,historyAction:K}){if(ke.size===0)return;ke.size>1&&Vt(!1,"A router only supports one blocker at a time");let oe=Array.from(ke.entries()),[he,Ie]=oe[oe.length-1],be=L.blockers.get(he);if(!(be&&be.state==="proceeding")&&Ie({currentLocation:M,nextLocation:H,historyAction:K}))return he}function Jr(M){let H=wr(404,{pathname:M}),K=f||u,{matches:oe,route:he}=j_(K);return{notFoundMatches:oe,route:he,error:H}}function ns(M,H,K){if(I=M,D=H,P=K||null,!C&&L.navigation===lp){C=!0;let oe=Ti(L.location,L.matches);oe!=null&&Je({restoreScrollPosition:oe})}return()=>{I=null,D=null,P=null}}function Cn(M,H){return P&&P(M,H.map(oe=>UC(oe,L.loaderData)))||M.key}function lr(M,H){if(I&&D){let K=Cn(M,H);I[K]=D()}}function Ti(M,H){if(I){let K=Cn(M,H),oe=I[K];if(typeof oe=="number")return oe}return null}function An(M,H,K){if(n.patchRoutesOnNavigation)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:rh(H,K,d,!0)}}else return{active:!0,matches:rh(H,K,d,!0)||[]};return{active:!1,matches:null}}async function Zr(M,H,K,oe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:M};let he=M;for(;;){let Ie=f==null,be=f||u,me=a;try{await n.patchRoutesOnNavigation({signal:K,path:H,matches:he,fetcherKey:oe,patch:(Fe,Ce)=>{K.aborted||D_(Fe,Ce,be,me,s)}})}catch(Fe){return{type:"error",error:Fe,partialMatches:he}}finally{Ie&&!K.aborted&&(u=[...u])}if(K.aborted)return{type:"aborted"};let Ee=ks(be,H,d);if(Ee)return{type:"success",matches:Ee};let Pe=rh(be,H,d,!0);if(!Pe||he.length===Pe.length&&he.every((Fe,Ce)=>Fe.route.id===Pe[Ce].route.id))return{type:"success",matches:null};he=Pe}}function Si(M){a={},f=Eh(M,s,void 0,a)}function ao(M,H){let K=f==null;D_(M,H,f||u,a,s),K&&(u=[...u],Je({}))}return Y={get basename(){return d},get future(){return v},get state(){return L},get routes(){return u},get window(){return e},initialize:qe,subscribe:lt,enableScrollRestoration:ns,navigate:Cr,fetch:Ji,revalidate:qn,createHref:M=>n.history.createHref(M),encodeLocation:M=>n.history.encodeLocation(M),getFetcher:ar,deleteFetcher:Kr,dispose:tt,getBlocker:oo,deleteBlocker:ts,patchRoutes:ao,_internalFetchControllers:_e,_internalSetRoutes:Si},Y}function hA(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Mp(n,e,t,r,s,a){let u,f;if(s){u=[];for(let p of e)if(u.push(p),p.route.id===s){f=p;break}}else u=e,f=e[e.length-1];let d=Xh(r||".",Qh(u),Tr(n.pathname,t)||n.pathname,a==="path");if(r==null&&(d.search=n.search,d.hash=n.hash),(r==null||r===""||r===".")&&f){let p=jm(d.search);if(f.route.index&&!p)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&p){let v=new URLSearchParams(d.search),w=v.getAll("index");v.delete("index"),w.filter(I=>I).forEach(I=>v.append("index",I));let E=v.toString();d.search=E?`?${E}`:""}}return t!=="/"&&(d.pathname=d.pathname==="/"?t:fi([t,d.pathname])),js(d)}function b_(n,e,t){if(!t||!hA(t))return{path:e};if(t.formMethod&&!SA(t.formMethod))return{path:e,error:wr(405,{method:t.formMethod})};let r=()=>({path:e,error:wr(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),u=RE(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!rr(a))return r();let w=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[I,P])=>`${E}${I}=${P}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:w}}}else if(t.formEncType==="application/json"){if(!rr(a))return r();try{let w=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:w,text:void 0}}}catch{return r()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let f,d;if(t.formData)f=Up(t.formData),d=t.formData;else if(t.body instanceof FormData)f=Up(t.body),d=t.body;else if(t.body instanceof URLSearchParams)f=t.body,d=V_(f);else if(t.body==null)f=new URLSearchParams,d=new FormData;else try{f=new URLSearchParams(t.body),d=V_(f)}catch{return r()}let p={formMethod:a,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(rr(p.formMethod))return{path:e,submission:p};let v=Xs(e);return n&&v.search&&jm(v.search)&&f.append("index",""),v.search=`?${f}`,{path:js(v),submission:p}}function x_(n,e,t,r,s,a,u,f,d,p,v,w,E,I,P,D,C,O,z){var U;let W=z?nr(z[1])?z[1].error:z[1].data:void 0,X=s.createURL(a.location),Y=s.createURL(d),L;if(v&&a.errors){let b=Object.keys(a.errors)[0];L=u.findIndex(de=>de.route.id===b)}else if(z&&nr(z[1])){let b=z[0];L=u.findIndex(de=>de.route.id===b)-1}let k=z?z[1].statusCode:void 0,R=k&&k>=400,A={currentUrl:X,currentParams:((U=a.matches[0])==null?void 0:U.params)||{},nextUrl:Y,nextParams:u[0].params,...f,actionResult:W,actionStatus:k},N=u.map((b,de)=>{let{route:xe}=b,_e=null;if(L!=null&&de>L?_e=!1:xe.lazy?_e=!0:xe.loader==null?_e=!1:v?_e=Vp(xe,a.loaderData,a.errors):fA(a.loaderData,a.matches[de],b)&&(_e=!0),_e!==null)return Fp(t,r,n,b,p,e,_e);let Se=R?!1:w||X.pathname+X.search===Y.pathname+Y.search||X.search!==Y.search||dA(a.matches[de],b),re={...A,defaultShouldRevalidate:Se},ce=Ih(b,re);return Fp(t,r,n,b,p,e,ce,re)}),V=[];return P.forEach((b,de)=>{if(v||!u.some(B=>B.route.id===b.routeId)||I.has(de))return;let xe=ks(C,b.path,O);if(!xe){V.push({key:de,routeId:b.routeId,path:b.path,matches:null,match:null,request:null,controller:null});return}if(D.has(de))return;let _e=a.fetchers.get(de),Se=Gl(xe,b.path),re=new AbortController,ce=Aa(s,b.path,re.signal),le=null;if(E.has(de))E.delete(de),le=Da(t,r,ce,xe,Se,p,e);else if(_e&&_e.state!=="idle"&&_e.data===void 0)w&&(le=Da(t,r,ce,xe,Se,p,e));else{let B={...A,defaultShouldRevalidate:R?!1:w};Ih(Se,B)&&(le=Da(t,r,ce,xe,Se,p,e,B))}le&&V.push({key:de,routeId:b.routeId,path:b.path,matches:le,match:Se,request:ce,controller:re})}),{dsMatches:N,revalidatingFetchers:V}}function Vp(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function fA(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function dA(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Ih(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function D_(n,e,t,r,s){let a;if(n){let d=r[n];Ye(d,`No route found to patch children into: routeId = ${n}`),d.children||(d.children=[]),a=d.children}else a=t;let u=e.filter(d=>!a.some(p=>wE(d,p))),f=Eh(u,s,[n||"_","patch",String((a==null?void 0:a.length)||"0")],r);a.push(...f)}function wE(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(a=>wE(t,a))}):!1}var N_=new WeakMap,EE=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let s=t[e.id];if(Ye(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let a=s.lazy[n];if(!a)return;let u=N_.get(s);u||(u={},N_.set(s,u));let f=u[n];if(f)return f;let d=(async()=>{let p=LC(n),w=s[n]!==void 0&&n!=="hasErrorBoundary";if(p)Vt(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(w)Vt(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let E=await a();E!=null&&(Object.assign(s,{[n]:E}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(E=>E===void 0)&&(s.lazy=void 0))})();return u[n]=d,d},O_=new WeakMap;function pA(n,e,t,r,s){let a=t[n.id];if(Ye(a,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let v=O_.get(a);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let w=(async()=>{Ye(typeof n.lazy=="function","No lazy route function found");let E=await n.lazy(),I={};for(let P in E){let D=E[P];if(D===void 0)continue;let C=VC(P),z=a[P]!==void 0&&P!=="hasErrorBoundary";C?Vt(!C,"Route property "+P+" is not a supported property to be returned from a lazy route function. This property will be ignored."):z?Vt(!z,`Route "${a.id}" has a static property "${P}" defined but its lazy function is also returning a value for this property. The lazy route property "${P}" will be ignored.`):I[P]=D}Object.assign(a,I),Object.assign(a,{...r(a),lazy:void 0})})();return O_.set(a,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let u=Object.keys(n.lazy),f=[],d;for(let v of u){if(s&&s.includes(v))continue;let w=EE({key:v,route:n,manifest:t,mapRouteProperties:r});w&&(f.push(w),v===e&&(d=w))}let p=f.length>0?Promise.all(f).then(()=>{}):void 0;return p==null||p.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:d}}async function L_(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,a)=>{t[e[a].route.id]=s}),t}async function mA(n){return n.matches.some(e=>e.route.unstable_middleware)?TE(n,!1,()=>L_(n),(e,t)=>({[t]:{type:"error",result:e}})):L_(n)}async function TE(n,e,t,r){let{matches:s,request:a,params:u,context:f}=n,d={handlerResult:void 0};try{let p=s.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(E=>[w.route.id,E]):[]),v=await SE({request:a,params:u,context:f},p,e,d,t);return e?v:d.handlerResult}catch(p){if(!d.middlewareError)throw p;let v=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,v):v}}async function SE(n,e,t,r,s,a=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=e[a];if(!f)return r.handlerResult=await s(),r.handlerResult;let[d,p]=f,v=!1,w,E=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await SE(n,e,t,r,s,a+1)};try{let I=await p({request:n.request,params:n.params,context:n.context},E);return v?I===void 0?w:I:E()}catch(I){throw r.middlewareError?r.middlewareError.error!==I&&(r.middlewareError={routeId:d,error:I}):r.middlewareError={routeId:d,error:I},I}}function IE(n,e,t,r,s){let a=EE({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=pA(r.route,rr(t.method)?"action":"loader",e,n,s);return{middleware:a,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Fp(n,e,t,r,s,a,u,f=null){let d=!1,p=IE(n,e,t,r,s);return{...r,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(v){return d=!0,f?typeof v=="boolean"?Ih(r,{...f,defaultShouldRevalidate:v}):Ih(r,f):u},resolve(v){return d||u||v&&t.method==="GET"&&(r.route.lazy||r.route.loader)?yA({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:v,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Da(n,e,t,r,s,a,u,f=null){return r.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:IE(n,e,t,d,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Fp(n,e,t,d,a,u,!0,f))}async function gA(n,e,t,r,s,a){t.some(p=>{var v;return(v=p._lazyPromises)==null?void 0:v.middleware})&&await Promise.all(t.map(p=>{var v;return(v=p._lazyPromises)==null?void 0:v.middleware}));let u={request:e,params:t[0].params,context:s,matches:t},d=await n({...u,fetcherKey:r,unstable_runClientMiddleware:p=>{let v=u;return TE(v,!1,()=>p({...v,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(w,E)=>({[E]:{type:"error",result:w}}))}});try{await Promise.all(t.flatMap(p=>{var v,w;return[(v=p._lazyPromises)==null?void 0:v.handler,(w=p._lazyPromises)==null?void 0:w.route]}))}catch{}return d}async function yA({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:s,scopedContext:a}){let u,f,d=rr(n.method),p=d?"action":"loader",v=w=>{let E,I=new Promise((C,O)=>E=O);f=()=>E(),n.signal.addEventListener("abort",f);let P=C=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):w({request:n,params:e.params,context:a},...C!==void 0?[C]:[]),D=(async()=>{try{return{type:"data",result:await(s?s(O=>P(O)):P())}}catch(C){return{type:"error",result:C}}})();return Promise.race([D,I])};try{let w=d?e.route.action:e.route.loader;if(t||r)if(w){let E,[I]=await Promise.all([v(w).catch(P=>{E=P}),t,r]);if(E!==void 0)throw E;u=I}else{await t;let E=d?e.route.action:e.route.loader;if(E)[u]=await Promise.all([v(E),r]);else if(p==="action"){let I=new URL(n.url),P=I.pathname+I.search;throw wr(405,{method:n.method,pathname:P,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(w)u=await v(w);else{let E=new URL(n.url),I=E.pathname+E.search;throw wr(404,{pathname:I})}}catch(w){return{type:"error",result:w}}finally{f&&n.signal.removeEventListener("abort",f)}return u}async function vA(n){var r,s,a,u,f,d;let{result:e,type:t}=n;if(CE(e)){let p;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(v){return{type:"error",error:v}}return t==="error"?{type:"error",error:new Sh(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?$_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Sh(((a=e.init)==null?void 0:a.status)||500,void 0,e.data),statusCode:cu(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:cu(e)?e.status:void 0}:$_(e)?{type:"data",data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function _A(n,e,t,r,s){let a=n.headers.get("Location");if(Ye(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!zm.test(a)){let u=r.slice(0,r.findIndex(f=>f.route.id===t)+1);a=Mp(new URL(e.url),u,s,a),n.headers.set("Location",a)}return n}function M_(n,e,t){if(zm.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=Tr(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function Aa(n,e,t,r){let s=n.createURL(RE(e)).toString(),a={signal:t};if(r&&rr(r.formMethod)){let{formMethod:u,formEncType:f}=r;a.method=u.toUpperCase(),f==="application/json"?(a.headers=new Headers({"Content-Type":f}),a.body=JSON.stringify(r.json)):f==="text/plain"?a.body=r.text:f==="application/x-www-form-urlencoded"&&r.formData?a.body=Up(r.formData):a.body=r.formData}return new Request(s,a)}function Up(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function V_(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function wA(n,e,t,r=!1,s=!1){let a={},u=null,f,d=!1,p={},v=t&&nr(t[1])?t[1].error:void 0;return n.forEach(w=>{if(!(w.route.id in e))return;let E=w.route.id,I=e[E];if(Ye(!bo(I),"Cannot handle redirect results in processLoaderData"),nr(I)){let P=I.error;if(v!==void 0&&(P=v,v=void 0),u=u||{},s)u[E]=P;else{let D=Po(n,E);u[D.route.id]==null&&(u[D.route.id]=P)}r||(a[E]=_E),d||(d=!0,f=cu(I.error)?I.error.status:500),I.headers&&(p[E]=I.headers)}else a[E]=I.data,I.statusCode&&I.statusCode!==200&&!d&&(f=I.statusCode),I.headers&&(p[E]=I.headers)}),v!==void 0&&t&&(u={[t[0]]:v},t[2]&&(a[t[2]]=void 0)),{loaderData:a,errors:u,statusCode:f||200,loaderHeaders:p}}function F_(n,e,t,r,s,a){let{loaderData:u,errors:f}=wA(e,t,r);return s.filter(d=>!d.matches||d.matches.some(p=>p.shouldLoad)).forEach(d=>{let{key:p,match:v,controller:w}=d,E=a[p];if(Ye(E,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(nr(E)){let I=Po(n.matches,v==null?void 0:v.route.id);f&&f[I.route.id]||(f={...f,[I.route.id]:E.error}),n.fetchers.delete(p)}else if(bo(E))Ye(!1,"Unhandled fetcher revalidation redirect");else{let I=Ps(E.data);n.fetchers.set(p,I)}}),{loaderData:u,errors:f}}function U_(n,e,t,r){let s=Object.entries(e).filter(([,a])=>a!==_E).reduce((a,[u,f])=>(a[u]=f,a),{});for(let a of t){let u=a.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&a.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function z_(n){return n?nr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Po(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function j_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function wr(n,{pathname:e,routeId:t,method:r,type:s,message:a}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?f=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(f="Unable to encode submission body")):n===403?(u="Forbidden",f=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",f=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?f=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(f=`Invalid request method "${r.toUpperCase()}"`)),new Sh(n||500,u,new Error(f),!0)}function Hc(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(bo(s))return{key:r,result:s}}}function RE(n){let e=typeof n=="string"?Xs(n):n;return js({...e,hash:""})}function EA(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function TA(n){return CE(n.result)&&oA.has(n.result.status)}function nr(n){return n.type==="error"}function bo(n){return(n&&n.type)==="redirect"}function $_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function CE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function SA(n){return sA.has(n.toUpperCase())}function rr(n){return rA.has(n.toUpperCase())}function jm(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Gl(n,e){let t=typeof e=="string"?Xs(e).search:e.search;if(n[n.length-1].route.index&&jm(t||""))return n[n.length-1];let r=gE(n);return r[r.length-1]}function B_(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:a,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function up(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function IA(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function RA(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ps(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function CA(n,e){try{let t=n.sessionStorage.getItem(vE);if(t){let r=JSON.parse(t);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function AA(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(vE,JSON.stringify(t))}catch(r){Vt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function PA(){let n,e,t=new Promise((r,s)=>{n=async a=>{r(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var jo=j.createContext(null);jo.displayName="DataRouter";var Tu=j.createContext(null);Tu.displayName="DataRouterState";var $m=j.createContext({isTransitioning:!1});$m.displayName="ViewTransition";var AE=j.createContext(new Map);AE.displayName="Fetchers";var kA=j.createContext(null);kA.displayName="Await";var Gr=j.createContext(null);Gr.displayName="Navigation";var Yh=j.createContext(null);Yh.displayName="Location";var Rr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Bm=j.createContext(null);Bm.displayName="RouteError";function bA(n,{relative:e}={}){Ye(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=j.useContext(Gr),{hash:s,pathname:a,search:u}=Su(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:fi([t,a])),r.createHref({pathname:f,search:u,hash:s})}function Xa(){return j.useContext(Yh)!=null}function Ys(){return Ye(Xa(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Yh).location}var PE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kE(n){j.useContext(Gr).static||j.useLayoutEffect(n)}function bE(){let{isDataRoute:n}=j.useContext(Rr);return n?WA():xA()}function xA(){Ye(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(jo),{basename:e,navigator:t}=j.useContext(Gr),{matches:r}=j.useContext(Rr),{pathname:s}=Ys(),a=JSON.stringify(Qh(r)),u=j.useRef(!1);return kE(()=>{u.current=!0}),j.useCallback((d,p={})=>{if(Vt(u.current,PE),!u.current)return;if(typeof d=="number"){t.go(d);return}let v=Xh(d,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:fi([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,s,n])}var DA=j.createContext(null);function NA(n){let e=j.useContext(Rr).outlet;return e&&j.createElement(DA.Provider,{value:n},e)}function qV(){let{matches:n}=j.useContext(Rr),e=n[n.length-1];return e?e.params:{}}function Su(n,{relative:e}={}){let{matches:t}=j.useContext(Rr),{pathname:r}=Ys(),s=JSON.stringify(Qh(t));return j.useMemo(()=>Xh(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function OA(n,e,t,r){Ye(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=j.useContext(Gr),{matches:u}=j.useContext(Rr),f=u[u.length-1],d=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",w=f&&f.route;{let z=w&&w.path||"";xE(p,!w||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let E=Ys(),I;I=E;let P=I.pathname||"/",D=P;if(v!=="/"){let z=v.replace(/^\//,"").split("/");D="/"+P.replace(/^\//,"").split("/").slice(z.length).join("/")}let C=!a&&t&&t.matches&&t.matches.length>0?t.matches:ks(n,{pathname:D});return Vt(w||C!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Vt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),UA(C&&C.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:fi([v,s.encodeLocation?s.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:fi([v,s.encodeLocation?s.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),u,t,r)}function LA(){let n=HA(),e=cu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:s},t):null,u)}var MA=j.createElement(LA,null),VA=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?j.createElement(Rr.Provider,{value:this.props.routeContext},j.createElement(Bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FA({routeContext:n,match:e,children:t}){let r=j.useContext(jo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Rr.Provider,{value:n},t)}function UA(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Ye(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,f=-1;if(t)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=d),p.route.id){let{loaderData:v,errors:w}=t,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((d,p,v)=>{let w,E=!1,I=null,P=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||MA,u&&(f<0&&v===0?(xE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):f===v&&(E=!0,P=p.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,v+1)),C=()=>{let O;return w?O=I:E?O=P:p.route.Component?O=j.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=d,j.createElement(FA,{match:p,routeContext:{outlet:d,matches:D,isDataRoute:t!=null},children:O})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?j.createElement(VA,{location:t.location,revalidation:t.revalidation,component:I,error:w,children:C(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):C()},null)}function Hm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zA(n){let e=j.useContext(jo);return Ye(e,Hm(n)),e}function jA(n){let e=j.useContext(Tu);return Ye(e,Hm(n)),e}function $A(n){let e=j.useContext(Rr);return Ye(e,Hm(n)),e}function Wm(n){let e=$A(n),t=e.matches[e.matches.length-1];return Ye(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function BA(){return Wm("useRouteId")}function HA(){var r;let n=j.useContext(Bm),e=jA("useRouteError"),t=Wm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function WA(){let{router:n}=zA("useNavigate"),e=Wm("useNavigate"),t=j.useRef(!1);return kE(()=>{t.current=!0}),j.useCallback(async(s,a={})=>{Vt(t.current,PE),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var H_={};function xE(n,e,t){!e&&!H_[n]&&(H_[n]=!0,Vt(!1,t))}var W_={};function q_(n,e){!n&&!W_[e]&&(W_[e]=!0,console.warn(e))}function qA(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Vt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:j.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Vt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:j.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Vt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:j.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var GA=["HydrateFallback","hydrateFallbackElement"],KA=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function QA({router:n,flushSync:e}){let[t,r]=j.useState(n.state),[s,a]=j.useState(),[u,f]=j.useState({isTransitioning:!1}),[d,p]=j.useState(),[v,w]=j.useState(),[E,I]=j.useState(),P=j.useRef(new Map),D=j.useCallback((W,{deletedFetchers:X,flushSync:Y,viewTransitionOpts:L})=>{W.fetchers.forEach((R,A)=>{R.data!==void 0&&P.current.set(A,R.data)}),X.forEach(R=>P.current.delete(R)),q_(Y===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(q_(L==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!k){e&&Y?e(()=>r(W)):j.startTransition(()=>r(W));return}if(e&&Y){e(()=>{v&&(d&&d.resolve(),v.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let R=n.window.document.startViewTransition(()=>{e(()=>r(W))});R.finished.finally(()=>{e(()=>{p(void 0),w(void 0),a(void 0),f({isTransitioning:!1})})}),e(()=>w(R));return}v?(d&&d.resolve(),v.skipTransition(),I({state:W,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(W),f({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,e,v,d]);j.useLayoutEffect(()=>n.subscribe(D),[n,D]),j.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new KA)},[u]),j.useEffect(()=>{if(d&&s&&n.window){let W=s,X=d.promise,Y=n.window.document.startViewTransition(async()=>{j.startTransition(()=>r(W)),await X});Y.finished.finally(()=>{p(void 0),w(void 0),a(void 0),f({isTransitioning:!1})}),w(Y)}},[s,d,n.window]),j.useEffect(()=>{d&&s&&t.location.key===s.location.key&&d.resolve()},[d,v,t.location,s]),j.useEffect(()=>{!u.isTransitioning&&E&&(a(E.state),f({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),I(void 0))},[u.isTransitioning,E]);let C=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:W=>n.navigate(W),push:(W,X,Y)=>n.navigate(W,{state:X,preventScrollReset:Y==null?void 0:Y.preventScrollReset}),replace:(W,X,Y)=>n.navigate(W,{replace:!0,state:X,preventScrollReset:Y==null?void 0:Y.preventScrollReset})}),[n]),O=n.basename||"/",z=j.useMemo(()=>({router:n,navigator:C,static:!1,basename:O}),[n,C,O]);return j.createElement(j.Fragment,null,j.createElement(jo.Provider,{value:z},j.createElement(Tu.Provider,{value:t},j.createElement(AE.Provider,{value:P.current},j.createElement($m.Provider,{value:u},j.createElement(JA,{basename:O,location:t.location,navigationType:t.historyAction,navigator:C},j.createElement(XA,{routes:n.routes,future:n.future,state:t})))))),null)}var XA=j.memo(YA);function YA({routes:n,future:e,state:t}){return OA(n,void 0,t,e)}function DE({to:n,replace:e,state:t,relative:r}){Ye(Xa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(Gr);Vt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=j.useContext(Rr),{pathname:u}=Ys(),f=bE(),d=Xh(n,Qh(a),u,r==="path"),p=JSON.stringify(d);return j.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:r})},[f,p,r,e,t]),null}function KV(n){return NA(n.context)}function JA({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){Ye(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=Xs(t));let{pathname:d="/",search:p="",hash:v="",state:w=null,key:E="default"}=t,I=j.useMemo(()=>{let P=Tr(d,u);return P==null?null:{location:{pathname:P,search:p,hash:v,state:w,key:E},navigationType:r}},[u,d,p,v,w,E,r]);return Vt(I!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:j.createElement(Gr.Provider,{value:f},j.createElement(Yh.Provider,{children:e,value:I}))}var ih="get",sh="application/x-www-form-urlencoded";function Jh(n){return n!=null&&typeof n.tagName=="string"}function ZA(n){return Jh(n)&&n.tagName.toLowerCase()==="button"}function e1(n){return Jh(n)&&n.tagName.toLowerCase()==="form"}function t1(n){return Jh(n)&&n.tagName.toLowerCase()==="input"}function n1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function r1(n,e){return n.button===0&&(!e||e==="_self")&&!n1(n)}var Wc=null;function i1(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var s1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(n){return n!=null&&!s1.has(n)?(Vt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):n}function o1(n,e){let t,r,s,a,u;if(e1(n)){let f=n.getAttribute("action");r=f?Tr(f,e):null,t=n.getAttribute("method")||ih,s=cp(n.getAttribute("enctype"))||sh,a=new FormData(n)}else if(ZA(n)||t1(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||f.getAttribute("action");if(r=d?Tr(d,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||ih,s=cp(n.getAttribute("formenctype"))||cp(f.getAttribute("enctype"))||sh,a=new FormData(f,n),!i1()){let{name:p,type:v,value:w}=n;if(v==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,w)}}else{if(Jh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ih,r=null,s=sh,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function qm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function a1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function u1(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await a1(a,t);return u.links?u.links():[]}return[]}));return d1(r.flat(1).filter(l1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function G_(n,e,t,r,s,a){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,f=(d,p)=>{var v;return t[p].pathname!==d.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>u(d,p)||f(d,p)):a==="data"?e.filter((d,p)=>{var w;let v=r.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(u(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function c1(n,e,{includeHydrateFallback:t}={}){return h1(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function h1(n){return[...new Set(n)]}function f1(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function d1(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(f1(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}var p1=new Set([100,101,204,205]);function m1(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Tr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function NE(){let n=j.useContext(jo);return qm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function g1(){let n=j.useContext(Tu);return qm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gm=j.createContext(void 0);Gm.displayName="FrameworkContext";function OE(){let n=j.useContext(Gm);return qm(n,"You must render this element inside a <HydratedRouter> element"),n}function y1(n,e){let t=j.useContext(Gm),[r,s]=j.useState(!1),[a,u]=j.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:v,onTouchStart:w}=e,E=j.useRef(null);j.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=O=>{O.forEach(z=>{u(z.isIntersecting)})},C=new IntersectionObserver(D,{threshold:.5});return E.current&&C.observe(E.current),()=>{C.disconnect()}}},[n]),j.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let I=()=>{s(!0)},P=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:jl(f,I),onBlur:jl(d,P),onMouseEnter:jl(p,I),onMouseLeave:jl(v,P),onTouchStart:jl(w,I)}]:[!1,E,{}]}function jl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function v1({page:n,...e}){let{router:t}=NE(),r=j.useMemo(()=>ks(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?j.createElement(w1,{page:n,matches:r,...e}):null}function _1(n){let{manifest:e,routeModules:t}=OE(),[r,s]=j.useState([]);return j.useEffect(()=>{let a=!1;return u1(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function w1({page:n,matches:e,...t}){let r=Ys(),{manifest:s,routeModules:a}=OE(),{basename:u}=NE(),{loaderData:f,matches:d}=g1(),p=j.useMemo(()=>G_(n,e,d,s,r,"data"),[n,e,d,s,r]),v=j.useMemo(()=>G_(n,e,d,s,r,"assets"),[n,e,d,s,r]),w=j.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let P=new Set,D=!1;if(e.forEach(O=>{var W;let z=s.routes[O.route.id];!z||!z.hasLoader||(!p.some(X=>X.route.id===O.route.id)&&O.route.id in f&&((W=a[O.route.id])!=null&&W.shouldRevalidate)||z.hasClientLoader?D=!0:P.add(O.route.id))}),P.size===0)return[];let C=m1(n,u);return D&&P.size>0&&C.searchParams.set("_routes",e.filter(O=>P.has(O.route.id)).map(O=>O.route.id).join(",")),[C.pathname+C.search]},[u,f,r,s,p,e,n,a]),E=j.useMemo(()=>c1(v,s),[v,s]),I=_1(v);return j.createElement(j.Fragment,null,w.map(P=>j.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),E.map(P=>j.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),I.map(({key:P,link:D})=>j.createElement("link",{key:P,...D})))}function E1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var LE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LE&&(window.__reactRouterVersion="7.5.3")}catch{}function T1(n,e){return cA({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:xC({window:e==null?void 0:e.window}),hydrationData:S1(),routes:n,mapRouteProperties:qA,hydrationRouteProperties:GA,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function S1(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:I1(n.errors)}),n}function I1(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new Sh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let u=new a(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let a=new Error(s.message);a.stack="",t[r]=a}}else t[r]=s;return t}var ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VE=j.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:f,target:d,to:p,preventScrollReset:v,viewTransition:w,...E},I){let{basename:P}=j.useContext(Gr),D=typeof p=="string"&&ME.test(p),C,O=!1;if(typeof p=="string"&&D&&(C=p,LE))try{let A=new URL(window.location.href),N=p.startsWith("//")?new URL(A.protocol+p):new URL(p),V=Tr(N.pathname,P);N.origin===A.origin&&V!=null?p=V+N.search+N.hash:O=!0}catch{Vt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=bA(p,{relative:s}),[W,X,Y]=y1(r,E),L=P1(p,{replace:u,state:f,target:d,preventScrollReset:v,relative:s,viewTransition:w});function k(A){e&&e(A),A.defaultPrevented||L(A)}let R=j.createElement("a",{...E,...Y,href:C||z,onClick:O||a?e:k,ref:E1(I,X),target:d,"data-discover":!D&&t==="render"?"true":void 0});return W&&!D?j.createElement(j.Fragment,null,R,j.createElement(v1,{page:z})):R});VE.displayName="Link";var R1=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:f,children:d,...p},v){let w=Su(u,{relative:p.relative}),E=Ys(),I=j.useContext(Tu),{navigator:P,basename:D}=j.useContext(Gr),C=I!=null&&N1(w)&&f===!0,O=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,z=E.pathname,W=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(z=z.toLowerCase(),W=W?W.toLowerCase():null,O=O.toLowerCase()),W&&D&&(W=Tr(W,D)||W);const X=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Y=z===O||!s&&z.startsWith(O)&&z.charAt(X)==="/",L=W!=null&&(W===O||!s&&W.startsWith(O)&&W.charAt(O.length)==="/"),k={isActive:Y,isPending:L,isTransitioning:C},R=Y?e:void 0,A;typeof r=="function"?A=r(k):A=[r,Y?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(k):a;return j.createElement(VE,{...p,"aria-current":R,className:A,ref:v,style:N,to:u,viewTransition:f},typeof d=="function"?d(k):d)});R1.displayName="NavLink";var C1=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=ih,action:f,onSubmit:d,relative:p,preventScrollReset:v,viewTransition:w,...E},I)=>{let P=x1(),D=D1(f,{relative:p}),C=u.toLowerCase()==="get"?"get":"post",O=typeof f=="string"&&ME.test(f),z=W=>{if(d&&d(W),W.defaultPrevented)return;W.preventDefault();let X=W.nativeEvent.submitter,Y=(X==null?void 0:X.getAttribute("formmethod"))||u;P(X||W.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:s,state:a,relative:p,preventScrollReset:v,viewTransition:w})};return j.createElement("form",{ref:I,method:C,action:D,onSubmit:r?d:z,...E,"data-discover":!O&&n==="render"?"true":void 0})});C1.displayName="Form";function A1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FE(n){let e=j.useContext(jo);return Ye(e,A1(n)),e}function P1(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let f=bE(),d=Ys(),p=Su(n,{relative:a});return j.useCallback(v=>{if(r1(v,e)){v.preventDefault();let w=t!==void 0?t:js(d)===js(p);f(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[d,f,p,t,r,e,n,s,a,u])}var k1=0,b1=()=>`__${String(++k1)}__`;function x1(){let{router:n}=FE("useSubmit"),{basename:e}=j.useContext(Gr),t=BA();return j.useCallback(async(r,s={})=>{let{action:a,method:u,encType:f,formData:d,body:p}=o1(r,e);if(s.navigate===!1){let v=s.fetcherKey||b1();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function D1(n,{relative:e}={}){let{basename:t}=j.useContext(Gr),r=j.useContext(Rr);Ye(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Su(n||".",{relative:e})},u=Ys();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),d=f.getAll("index");if(d.some(v=>v==="")){f.delete("index"),d.filter(w=>w).forEach(w=>f.append("index",w));let v=f.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:fi([t,a.pathname])),js(a)}function N1(n,e={}){let t=j.useContext($m);Ye(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FE("useViewTransitionState"),s=Su(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Tr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Tr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Th(s.pathname,u)!=null||Th(s.pathname,a)!=null}new TextEncoder;[...p1];var Km=fE();const O1=Fm(Km),QV=cE({__proto__:null,default:O1},[Km]);/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L1(n){return j.createElement(QA,{flushSync:Km.flushSync,...n})}const M1="modulepreload",V1=function(n){return"/realtime-chat/"+n},K_={},Ya=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let u=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=u(t.map(p=>{if(p=V1(p),p in K_)return;K_[p]=!0;const v=p.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":M1,v||(E.as="script"),E.crossOrigin="",E.href=p,d&&E.setAttribute("nonce",d),document.head.appendChild(E),v)return new Promise((I,P)=>{E.addEventListener("load",I),E.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return s.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})},F1=()=>{};var Q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},U1=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],f=n[t++],d=((s&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},zE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,f=u?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,v=a>>2,w=(a&3)<<4|f>>4;let E=(f&15)<<2|p>>6,I=p&63;d||(I=64,u||(E=64)),r.push(t[v],t[w],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(UE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):U1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||f==null||p==null||w==null)throw new z1;const E=a<<2|f>>4;if(r.push(E),p!==64){const I=f<<4&240|p>>2;if(r.push(I),w!==64){const P=p<<6&192|w;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j1=function(n){const e=UE(n);return zE.encodeByteArray(e,!0)},Rh=function(n){return j1(n).replace(/\./g,"")},jE=function(n){try{return zE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=()=>$1().__FIREBASE_DEFAULTS__,H1=()=>{if(typeof process>"u"||typeof Q_>"u")return;const n=Q_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},W1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jE(n[1]);return e&&JSON.parse(e)},Zh=()=>{try{return F1()||B1()||H1()||W1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$E=n=>{var e,t;return(t=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},BE=n=>{const e=$E(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},HE=()=>{var n;return(n=Zh())===null||n===void 0?void 0:n.config},WE=n=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rh(JSON.stringify(t)),Rh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function K1(){var n;const e=(n=Zh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J1(){const n=In();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Z1(){return!K1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eP(){try{return typeof indexedDB=="object"}catch{return!1}}function tP(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="FirebaseError";class vi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=nP,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?rP(a,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new vi(s,f,r)}}function rP(n,e){return n.replace(iP,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const iP=/\{\$([^}]+)}/g;function sP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $s(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(X_(a)&&X_(u)){if(!$s(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function X_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Kl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Ql(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function oP(n,e){const t=new aP(n,e);return t.subscribe.bind(t)}class aP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");lP(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=hp),s.error===void 0&&(s.error=hp),s.complete===void 0&&(s.complete=hp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n){return n&&n._delegate?n._delegate:n}class Bs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new q1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hP(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cP(n){return n===Ao?void 0:n}function hP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const dP={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},pP=Ze.INFO,mP={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},gP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=mP[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=pP,this._logHandler=gP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const yP=(n,e)=>e.some(t=>n instanceof t);let Y_,J_;function vP(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _P(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GE=new WeakMap,zp=new WeakMap,KE=new WeakMap,fp=new WeakMap,Xm=new WeakMap;function wP(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Vs(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&GE.set(t,n)}).catch(()=>{}),Xm.set(e,n),e}function EP(n){if(zp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});zp.set(n,e)}let jp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function TP(n){jp=n(jp)}function SP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(dp(this),e,...t);return KE.set(r,e.sort?e.sort():[e]),Vs(r)}:_P().includes(n)?function(...e){return n.apply(dp(this),e),Vs(GE.get(this))}:function(...e){return Vs(n.apply(dp(this),e))}}function IP(n){return typeof n=="function"?SP(n):(n instanceof IDBTransaction&&EP(n),yP(n,vP())?new Proxy(n,jp):n)}function Vs(n){if(n instanceof IDBRequest)return wP(n);if(fp.has(n))return fp.get(n);const e=IP(n);return e!==n&&(fp.set(n,e),Xm.set(e,n)),e}const dp=n=>Xm.get(n);function RP(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),f=Vs(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Vs(u.result),d.oldVersion,d.newVersion,Vs(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),f.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const CP=["get","getKey","getAll","getAllKeys","count"],AP=["put","add","delete","clear"],pp=new Map;function Z_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pp.get(e))return pp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=AP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||CP.includes(t)))return;const a=async function(u,...f){const d=this.transaction(u,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),s&&d.done]))[0]};return pp.set(e,a),a}TP(n=>({...n,get:(e,t,r)=>Z_(e,t)||n.get(e,t,r),has:(e,t)=>!!Z_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function kP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $p="@firebase/app",e0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Qm("@firebase/app"),bP="@firebase/app-compat",xP="@firebase/analytics-compat",DP="@firebase/analytics",NP="@firebase/app-check-compat",OP="@firebase/app-check",LP="@firebase/auth",MP="@firebase/auth-compat",VP="@firebase/database",FP="@firebase/data-connect",UP="@firebase/database-compat",zP="@firebase/functions",jP="@firebase/functions-compat",$P="@firebase/installations",BP="@firebase/installations-compat",HP="@firebase/messaging",WP="@firebase/messaging-compat",qP="@firebase/performance",GP="@firebase/performance-compat",KP="@firebase/remote-config",QP="@firebase/remote-config-compat",XP="@firebase/storage",YP="@firebase/storage-compat",JP="@firebase/firestore",ZP="@firebase/vertexai",ek="@firebase/firestore-compat",tk="firebase",nk="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="[DEFAULT]",rk={[$p]:"fire-core",[bP]:"fire-core-compat",[DP]:"fire-analytics",[xP]:"fire-analytics-compat",[OP]:"fire-app-check",[NP]:"fire-app-check-compat",[LP]:"fire-auth",[MP]:"fire-auth-compat",[VP]:"fire-rtdb",[FP]:"fire-data-connect",[UP]:"fire-rtdb-compat",[zP]:"fire-fn",[jP]:"fire-fn-compat",[$P]:"fire-iid",[BP]:"fire-iid-compat",[HP]:"fire-fcm",[WP]:"fire-fcm-compat",[qP]:"fire-perf",[GP]:"fire-perf-compat",[KP]:"fire-rc",[QP]:"fire-rc-compat",[XP]:"fire-gcs",[YP]:"fire-gcs-compat",[JP]:"fire-fst",[ek]:"fire-fst-compat",[ZP]:"fire-vertex","fire-js":"fire-js",[tk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,ik=new Map,Hp=new Map;function t0(n,e){try{n.container.addComponent(e)}catch(t){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lo(n){const e=n.name;if(Hp.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,n);for(const t of Ch.values())t0(t,n);for(const t of ik.values())t0(t,n);return!0}function ef(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Iu("app","Firebase",sk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=nk;function QE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Fs.create("bad-app-name",{appName:String(s)});if(t||(t=HE()),!t)throw Fs.create("no-options");const a=Ch.get(s);if(a){if($s(t,a.options)&&$s(r,a.config))return a;throw Fs.create("duplicate-app",{appName:s})}const u=new fP(s);for(const d of Hp.values())u.addComponent(d);const f=new ok(t,r,u);return Ch.set(s,f),f}function Ym(n=Bp){const e=Ch.get(n);if(!e&&n===Bp&&HE())return QE();if(!e)throw Fs.create("no-app",{appName:n});return e}function di(n,e,t){var r;let s=(r=rk[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(f.join(" "));return}Lo(new Bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="firebase-heartbeat-database",lk=1,hu="firebase-heartbeat-store";let mp=null;function XE(){return mp||(mp=RP(ak,lk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fs.create("idb-open",{originalErrorMessage:n.message})})),mp}async function uk(n){try{const t=(await XE()).transaction(hu),r=await t.objectStore(hu).get(YE(n));return await t.done,r}catch(e){if(e instanceof vi)Hi.warn(e.message);else{const t=Fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(t.message)}}}async function n0(n,e){try{const r=(await XE()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,YE(n)),await r.done}catch(t){if(t instanceof vi)Hi.warn(t.message);else{const r=Fs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Hi.warn(r.message)}}}function YE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=1024,hk=30;class fk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=r0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>hk){const u=mk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=r0(),{heartbeatsToSend:r,unsentEntries:s}=dk(this._heartbeatsCache.heartbeats),a=Rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Hi.warn(t),""}}}function r0(){return new Date().toISOString().substring(0,10)}function dk(n,e=ck){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),i0(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),i0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class pk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eP()?tP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await uk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return n0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return n0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function i0(n){return Rh(JSON.stringify({version:2,heartbeats:n})).length}function mk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(n){Lo(new Bs("platform-logger",e=>new PP(e),"PRIVATE")),Lo(new Bs("heartbeat",e=>new fk(e),"PRIVATE")),di($p,e0,n),di($p,e0,"esm2017"),di("fire-js","")}gk("");function Jm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function JE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yk=JE,ZE=new Iu("auth","Firebase",JE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Qm("@firebase/auth");function vk(n,...e){Ah.logLevel<=Ze.WARN&&Ah.warn(`Auth (${$o}): ${n}`,...e)}function oh(n,...e){Ah.logLevel<=Ze.ERROR&&Ah.error(`Auth (${$o}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n,...e){throw eg(n,...e)}function Br(n,...e){return eg(n,...e)}function Zm(n,e,t){const r=Object.assign(Object.assign({},yk()),{[e]:t});return new Iu("auth","Firebase",r).create(e,{appName:n.name})}function $i(n){return Zm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _k(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sr(n,"argument-error"),Zm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ZE.create(n,...e)}function Le(n,e,...t){if(!n)throw eg(e,...t)}function Ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw oh(e),new Error(e)}function Wi(n,e){n||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wk(){return s0()==="http:"||s0()==="https:"}function s0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wk()||X1()||"connection"in navigator)?navigator.onLine:!0}function Tk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wi(t>e,"Short delay should be less than long delay!"),this.isMobile=G1()||Y1()}get(){return Ek()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(n,e){Wi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rk=new Cu(3e4,6e4);function Js(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Qi(n,e,t,r,s={}){return tT(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Ru(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},a);return Q1()||(p.referrerPolicy="no-referrer"),eT.fetch()(await nT(n,n.config.apiHost,t,f),p)})}async function tT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sk),e);try{const s=new Ak(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw qc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[d,p]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw qc(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw qc(n,"user-disabled",u);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Zm(n,v,p);Sr(n,v)}}catch(s){if(s instanceof vi)throw s;Sr(n,"network-request-failed",{message:String(s)})}}async function Au(n,e,t,r,s={}){const a=await Qi(n,e,t,r,s);return"mfaPendingCredential"in a&&Sr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function nT(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?tg(n.config,s):`${n.config.apiScheme}://${s}`;return Ik.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function Ck(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ak{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),Rk.get())})}}function qc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Br(n,e,r);return s.customData._tokenResponse=t,s}function o0(n){return n!==void 0&&n.enterprise!==void 0}class Pk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ck(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kk(n,e){return Qi(n,"GET","/v2/recaptchaConfig",Js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(n,e){return Qi(n,"POST","/v1/accounts:delete",e)}async function Ph(n,e){return Qi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xk(n,e=!1){const t=At(n),r=await t.getIdToken(e),s=ng(r);Le(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:eu(gp(s.auth_time)),issuedAtTime:eu(gp(s.iat)),expirationTime:eu(gp(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function gp(n){return Number(n)*1e3}function ng(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const s=jE(t);return s?JSON.parse(s):(oh("Failed to decode base64 JWT payload"),null)}catch(s){return oh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function a0(n){const e=ng(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof vi&&Dk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Dk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Fa(n,Ph(t,{idToken:r}));Le(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?rT(a.providerUserInfo):[],f=Lk(n.providerData,u),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=d?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new qp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function Ok(n){const e=At(n);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lk(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function rT(n){return n.map(e=>{var{providerId:t}=e,r=Jm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(n,e){const t=await tT(n,{},async()=>{const r=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await nT(n,s,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",eT.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Vk(n,e){return Qi(n,"POST","/v2/accounts:revokeToken",Js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=a0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await Mk(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Na;return r&&(Le(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Le(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Le(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class jr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Jm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new qp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fa(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xk(this,e)}reload(){return Ok(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Fa(this,bk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,f,d,p,v;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,P=(u=t.photoURL)!==null&&u!==void 0?u:void 0,D=(f=t.tenantId)!==null&&f!==void 0?f:void 0,C=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,O=(p=t.createdAt)!==null&&p!==void 0?p:void 0,z=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:W,emailVerified:X,isAnonymous:Y,providerData:L,stsTokenManager:k}=t;Le(W&&k,e,"internal-error");const R=Na.fromJSON(this.name,k);Le(typeof W=="string",e,"internal-error"),As(w,e.name),As(E,e.name),Le(typeof X=="boolean",e,"internal-error"),Le(typeof Y=="boolean",e,"internal-error"),As(I,e.name),As(P,e.name),As(D,e.name),As(C,e.name),As(O,e.name),As(z,e.name);const A=new jr({uid:W,auth:e,email:E,emailVerified:X,displayName:w,isAnonymous:Y,photoURL:P,phoneNumber:I,tenantId:D,stsTokenManager:R,createdAt:O,lastLoginAt:z});return L&&Array.isArray(L)&&(A.providerData=L.map(N=>Object.assign({},N))),C&&(A._redirectEventId=C),A}static async _fromIdTokenResponse(e,t,r=!1){const s=new Na;s.updateFromServerResponse(t);const a=new jr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await kh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Le(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?rT(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),f=new Na;f.updateFromIdToken(r);const d=new jr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;function zi(n){Wi(n instanceof Function,"Expected a class definition");let e=l0.get(n);return e?(Wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,l0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iT.type="NONE";const u0=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n,e,t){return`firebase:${n}:${e}:${t}`}class Oa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=ah(this.userKey,s.apiKey,a),this.fullPersistenceKey=ah("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ph(this.auth,{idToken:e}).catch(()=>{});return t?jr._fromGetAccountInfoResponse(this.auth,t,e):null}return jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Oa(zi(u0),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||zi(u0);const u=ah(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const v=await p._get(u);if(v){let w;if(typeof v=="string"){const E=await Ph(e,{idToken:v}).catch(()=>{});if(!E)break;w=await jr._fromGetAccountInfoResponse(e,E,v)}else w=jr._fromJSON(e,v);p!==a&&(f=w),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Oa(a,e,r):(a=d[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Oa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cT(e))return"Blackberry";if(hT(e))return"Webos";if(oT(e))return"Safari";if((e.includes("chrome/")||aT(e))&&!e.includes("edge/"))return"Chrome";if(uT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sT(n=In()){return/firefox\//i.test(n)}function oT(n=In()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aT(n=In()){return/crios\//i.test(n)}function lT(n=In()){return/iemobile/i.test(n)}function uT(n=In()){return/android/i.test(n)}function cT(n=In()){return/blackberry/i.test(n)}function hT(n=In()){return/webos/i.test(n)}function rg(n=In()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Fk(n=In()){var e;return rg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Uk(){return J1()&&document.documentMode===10}function fT(n=In()){return rg(n)||uT(n)||hT(n)||cT(n)||/windows phone/i.test(n)||lT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n,e=[]){let t;switch(n){case"Browser":t=c0(In());break;case"Worker":t=`${c0(In())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const d=e(a);u(d)}catch(d){f(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(n,e={}){return Qi(n,"GET","/v2/passwordPolicy",Js(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=6;class Bk{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:$k,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new zk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zi(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ph(this,{idToken:e}),r=await jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject($i(this));const t=e?At(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jk(this),t=new Bk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zi(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&vk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Zs(n){return At(n)}class h0{constructor(e){this.auth=e,this.observer=null,this.addObserver=oP(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wk(n){tf=n}function pT(n){return tf.loadJS(n)}function qk(){return tf.recaptchaEnterpriseScript}function Gk(){return tf.gapiScript}function Kk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Qk{constructor(){this.enterprise=new Xk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Xk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Yk="recaptcha-enterprise",mT="NO_RECAPTCHA";class Jk{constructor(e){this.type=Yk,this.auth=Zs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{kk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new Pk(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(d=>{f(d)})})}function s(a,u,f){const d=window.grecaptcha;o0(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(mT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(f=>{if(!t&&o0(window.grecaptcha))s(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=qk();d.length!==0&&(d+=f),pT(d).then(()=>{s(f,a,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function f0(n,e,t,r=!1,s=!1){const a=new Jk(n);let u;if(s)u=mT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Gp(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await f0(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await f0(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(n,e){const t=ef(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if($s(a,e??{}))return s;Sr(s,"already-initialized")}return t.initialize({options:e})}function eb(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(zi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tb(n,e,t){const r=Zs(n);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=gT(e),{host:u,port:f}=nb(e),d=f===null?"":`:${f}`,p={url:`${a}//${u}${d}/`},v=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le($s(p,r.config.emulator)&&$s(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,rb()}function gT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nb(n){const e=gT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:d0(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:d0(u)}}}function d0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function rb(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,t){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function ib(n,e){return Qi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sb(n,e){return Au(n,"POST","/v1/accounts:signInWithPassword",Js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(n,e){return Au(n,"POST","/v1/accounts:signInWithEmailLink",Js(n,e))}async function ab(n,e){return Au(n,"POST","/v1/accounts:signInWithEmailLink",Js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends ig{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new fu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new fu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,t,"signInWithPassword",sb);case"emailLink":return ob(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,r,"signUpPassword",ib);case"emailLink":return ab(e,{idToken:t,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(n,e){return Au(n,"POST","/v1/accounts:signInWithIdp",Js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="http://localhost";class Mo extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Jm(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Mo(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return La(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,La(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,La(e,t)}buildRequest(){const e={requestUri:lb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ru(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cb(n){const e=Kl(Ql(n)).link,t=e?Kl(Ql(e)).deep_link_id:null,r=Kl(Ql(n)).deep_link_id;return(r?Kl(Ql(r)).link:null)||r||t||e||n}class sg{constructor(e){var t,r,s,a,u,f;const d=Kl(Ql(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,v=(r=d.oobCode)!==null&&r!==void 0?r:null,w=ub((s=d.mode)!==null&&s!==void 0?s:null);Le(p&&v&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=v,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=cb(e);try{return new sg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(e,t){return fu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=sg.parseLink(t);return Le(r,"argument-error"),fu._fromEmailAndCode(e,r.code,r.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Pu{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Pu{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Pu{constructor(){super("twitter.com")}static credential(e,t){return Mo._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ds.credential(t,r)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(n,e){return Au(n,"POST","/v1/accounts:signUp",Js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await jr._fromIdTokenResponse(e,r,s),u=p0(r);return new Vo({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=p0(r);return new Vo({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function p0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends vi{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new bh(e,t,r,s)}}function yT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(n,a,e,r):a})}async function fb(n,e,t=!1){const r=await Fa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(n,e,t=!1){const{auth:r}=n;if(Bn(r.app))return Promise.reject($i(r));const s="reauthenticate";try{const a=await Fa(n,yT(r,s,e,n),t);Le(a.idToken,r,"internal-error");const u=ng(a.idToken);Le(u,r,"internal-error");const{sub:f}=u;return Le(n.uid===f,r,"user-mismatch"),Vo._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Sr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(n,e,t=!1){if(Bn(n.app))return Promise.reject($i(n));const r="signIn",s=await yT(n,r,e),a=await Vo._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function pb(n,e){return vT(Zs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(n){const e=Zs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XV(n,e,t){if(Bn(n.app))return Promise.reject($i(n));const r=Zs(n),u=await Gp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hb).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&_T(n),d}),f=await Vo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function YV(n,e,t){return Bn(n.app)?Promise.reject($i(n)):pb(At(n),Ja.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_T(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(n,e){return Qi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=At(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Fa(r,mb(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const f=r.providerData.find(({providerId:d})=>d==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function gb(n,e,t,r){return At(n).onIdTokenChanged(e,t,r)}function yb(n,e,t){return At(n).beforeAuthStateChanged(e,t)}function vb(n,e,t,r){return At(n).onAuthStateChanged(e,t,r)}function ZV(n){return At(n).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=1e3,wb=10;class ET extends wT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Uk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,wb):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},_b)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ET.type="LOCAL";const Eb=ET;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends wT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}TT.type="SESSION";const ST=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async p=>p(t.origin,a)),d=await Tb(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((f,d)=>{const p=ag("",20);s.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(E.data.response);break;default:clearTimeout(v),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function Ib(n){pi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function Rb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cb(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Ab(){return IT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firebaseLocalStorageDb",Pb=1,Dh="firebaseLocalStorage",CT="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rf(n,e){return n.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function kb(){const n=indexedDB.deleteDatabase(RT);return new ku(n).toPromise()}function Kp(){const n=indexedDB.open(RT,Pb);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Dh,{keyPath:CT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),await kb(),e(await Kp()))})})}async function m0(n,e,t){const r=rf(n,!0).put({[CT]:e,value:t});return new ku(r).toPromise()}async function bb(n,e){const t=rf(n,!1).get(e),r=await new ku(t).toPromise();return r===void 0?null:r.value}function g0(n,e){const t=rf(n,!0).delete(e);return new ku(t).toPromise()}const xb=800,Db=3;class AT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Db)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(Ab()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Rb(),!this.activeServiceWorker)return;this.sender=new Sb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Cb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kp();return await m0(e,xh,"1"),await g0(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>m0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>bb(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>g0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=rf(s,!1).getAll();return new ku(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AT.type="LOCAL";const Nb=AT;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n,e){return e?zi(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,t){return La(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ob(n){return vT(n.auth,new lg(n),n.bypassAuthState)}function Lb(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),db(t,new lg(n),n.bypassAuthState)}async function Mb(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),fb(t,new lg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ob;case"linkViaPopup":case"linkViaRedirect":return Mb;case"reauthViaPopup":case"reauthViaRedirect":return Lb;default:Sr(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Cu(2e3,1e4);async function e4(n,e,t){if(Bn(n.app))return Promise.reject(Br(n,"operation-not-supported-in-this-environment"));const r=Zs(n);_k(n,e,og);const s=PT(r,t);return new xo(r,"signInViaPopup",e,s).executeNotNull()}class xo extends kT{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Vb.get())};e()}}xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="pendingRedirect",lh=new Map;class Ub extends kT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const r=await zb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zb(n,e){const t=Bb(e),r=$b(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function jb(n,e){lh.set(n._key(),e)}function $b(n){return zi(n._redirectPersistence)}function Bb(n){return ah(Fb,n.config.apiKey,n.name)}async function Hb(n,e,t=!1){if(Bn(n.app))return Promise.reject($i(n));const r=Zs(n),s=PT(r,e),u=await new Ub(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=10*60*1e3;class qb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gb(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Br(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wb&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(e))}saveEventToCache(e){this.cachedEventUids.add(y0(e)),this.lastProcessedEventTime=Date.now()}}function y0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Gb(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(n,e={}){return Qi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xb=/^https?/;async function Yb(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Kb(n);for(const t of e)try{if(Jb(t))return}catch{}Sr(n,"unauthorized-domain")}function Jb(n){const e=Wp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Xb.test(t))return!1;if(Qb.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=new Cu(3e4,6e4);function v0(){const n=pi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ex(n){return new Promise((e,t)=>{var r,s,a;function u(){v0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v0(),t(Br(n,"network-request-failed"))},timeout:Zb.get()})}if(!((s=(r=pi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=pi().gapi)===null||a===void 0)&&a.load)u();else{const f=Kk("iframefcb");return pi()[f]=()=>{gapi.load?u():t(Br(n,"network-request-failed"))},pT(`${Gk()}?onload=${f}`).catch(d=>t(d))}}).catch(e=>{throw uh=null,e})}let uh=null;function tx(n){return uh=uh||ex(n),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Cu(5e3,15e3),rx="__/auth/iframe",ix="emulator/auth/iframe",sx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ox=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ax(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tg(e,ix):`https://${n.config.authDomain}/${rx}`,r={apiKey:e.apiKey,appName:n.name,v:$o},s=ox.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ru(r).slice(1)}`}async function lx(n){const e=await tx(n),t=pi().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:ax(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sx,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Br(n,"network-request-failed"),f=pi().setTimeout(()=>{a(u)},nx.get());function d(){pi().clearTimeout(f),s(r)}r.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cx=500,hx=600,fx="_blank",dx="http://localhost";class _0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function px(n,e,t,r=cx,s=hx){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const d=Object.assign(Object.assign({},ux),{width:r.toString(),height:s.toString(),top:a,left:u}),p=In().toLowerCase();t&&(f=aT(p)?fx:t),sT(p)&&(e=e||dx,d.scrollbars="yes");const v=Object.entries(d).reduce((E,[I,P])=>`${E}${I}=${P},`,"");if(Fk(p)&&f!=="_self")return mx(e||"",f),new _0(null);const w=window.open(e||"",f,v);Le(w,n,"popup-blocked");try{w.focus()}catch{}return new _0(w)}function mx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="__/auth/handler",yx="emulator/auth/handler",vx=encodeURIComponent("fac");async function w0(n,e,t,r,s,a){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:$o,eventId:s};if(e instanceof og){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",sP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof Pu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const d=await n._getAppCheckToken(),p=d?`#${vx}=${encodeURIComponent(d)}`:"";return`${_x(n)}?${Ru(f).slice(1)}${p}`}function _x({config:n}){return n.emulator?tg(n,yx):`https://${n.authDomain}/${gx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="webStorageSupport";class wx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ST,this._completeRedirectFn=Hb,this._overrideRedirectResult=jb}async _openPopup(e,t,r,s){var a;Wi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await w0(e,t,r,Wp(),s);return px(e,u,ag())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await w0(e,t,r,Wp(),s);return Ib(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Wi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await lx(e),r=new qb(e);return t.register("authEvent",s=>(Le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yp,{type:yp},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[yp];u!==void 0&&t(!!u),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Yb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fT()||oT()||rg()}}const Ex=wx;var E0="@firebase/auth",T0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ix(n){Lo(new Bs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Le(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dT(n)},p=new Hk(r,s,a,d);return eb(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Lo(new Bs("auth-internal",e=>{const t=Zs(e.getProvider("auth").getImmediate());return(r=>new Tx(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(E0,T0,Sx(n)),di(E0,T0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=5*60,Cx=WE("authIdTokenMaxAge")||Rx;let S0=null;const Ax=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Cx)return;const s=t==null?void 0:t.token;S0!==s&&(S0=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Px(n=Ym()){const e=ef(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Zk(n,{popupRedirectResolver:Ex,persistence:[Nb,Eb,ST]}),r=WE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Ax(a.toString());yb(t,u,()=>u(t.currentUser)),gb(t,f=>u(f))}}const s=$E("auth");return s&&tb(t,`http://${s}`),t}function kx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Wk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Br("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",kx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ix("Browser");var bx="firebase",xx="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(bx,xx,"app");var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,xT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function A(){}A.prototype=R.prototype,k.D=R.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(N,V,U){for(var b=Array(arguments.length-2),de=2;de<arguments.length;de++)b[de-2]=arguments[de];return R.prototype[V].apply(N,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,R,A){A||(A=0);var N=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)N[V]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(V=0;16>V;++V)N[V]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=k.g[0],A=k.g[1],V=k.g[2];var U=k.g[3],b=R+(U^A&(V^U))+N[0]+3614090360&4294967295;R=A+(b<<7&4294967295|b>>>25),b=U+(V^R&(A^V))+N[1]+3905402710&4294967295,U=R+(b<<12&4294967295|b>>>20),b=V+(A^U&(R^A))+N[2]+606105819&4294967295,V=U+(b<<17&4294967295|b>>>15),b=A+(R^V&(U^R))+N[3]+3250441966&4294967295,A=V+(b<<22&4294967295|b>>>10),b=R+(U^A&(V^U))+N[4]+4118548399&4294967295,R=A+(b<<7&4294967295|b>>>25),b=U+(V^R&(A^V))+N[5]+1200080426&4294967295,U=R+(b<<12&4294967295|b>>>20),b=V+(A^U&(R^A))+N[6]+2821735955&4294967295,V=U+(b<<17&4294967295|b>>>15),b=A+(R^V&(U^R))+N[7]+4249261313&4294967295,A=V+(b<<22&4294967295|b>>>10),b=R+(U^A&(V^U))+N[8]+1770035416&4294967295,R=A+(b<<7&4294967295|b>>>25),b=U+(V^R&(A^V))+N[9]+2336552879&4294967295,U=R+(b<<12&4294967295|b>>>20),b=V+(A^U&(R^A))+N[10]+4294925233&4294967295,V=U+(b<<17&4294967295|b>>>15),b=A+(R^V&(U^R))+N[11]+2304563134&4294967295,A=V+(b<<22&4294967295|b>>>10),b=R+(U^A&(V^U))+N[12]+1804603682&4294967295,R=A+(b<<7&4294967295|b>>>25),b=U+(V^R&(A^V))+N[13]+4254626195&4294967295,U=R+(b<<12&4294967295|b>>>20),b=V+(A^U&(R^A))+N[14]+2792965006&4294967295,V=U+(b<<17&4294967295|b>>>15),b=A+(R^V&(U^R))+N[15]+1236535329&4294967295,A=V+(b<<22&4294967295|b>>>10),b=R+(V^U&(A^V))+N[1]+4129170786&4294967295,R=A+(b<<5&4294967295|b>>>27),b=U+(A^V&(R^A))+N[6]+3225465664&4294967295,U=R+(b<<9&4294967295|b>>>23),b=V+(R^A&(U^R))+N[11]+643717713&4294967295,V=U+(b<<14&4294967295|b>>>18),b=A+(U^R&(V^U))+N[0]+3921069994&4294967295,A=V+(b<<20&4294967295|b>>>12),b=R+(V^U&(A^V))+N[5]+3593408605&4294967295,R=A+(b<<5&4294967295|b>>>27),b=U+(A^V&(R^A))+N[10]+38016083&4294967295,U=R+(b<<9&4294967295|b>>>23),b=V+(R^A&(U^R))+N[15]+3634488961&4294967295,V=U+(b<<14&4294967295|b>>>18),b=A+(U^R&(V^U))+N[4]+3889429448&4294967295,A=V+(b<<20&4294967295|b>>>12),b=R+(V^U&(A^V))+N[9]+568446438&4294967295,R=A+(b<<5&4294967295|b>>>27),b=U+(A^V&(R^A))+N[14]+3275163606&4294967295,U=R+(b<<9&4294967295|b>>>23),b=V+(R^A&(U^R))+N[3]+4107603335&4294967295,V=U+(b<<14&4294967295|b>>>18),b=A+(U^R&(V^U))+N[8]+1163531501&4294967295,A=V+(b<<20&4294967295|b>>>12),b=R+(V^U&(A^V))+N[13]+2850285829&4294967295,R=A+(b<<5&4294967295|b>>>27),b=U+(A^V&(R^A))+N[2]+4243563512&4294967295,U=R+(b<<9&4294967295|b>>>23),b=V+(R^A&(U^R))+N[7]+1735328473&4294967295,V=U+(b<<14&4294967295|b>>>18),b=A+(U^R&(V^U))+N[12]+2368359562&4294967295,A=V+(b<<20&4294967295|b>>>12),b=R+(A^V^U)+N[5]+4294588738&4294967295,R=A+(b<<4&4294967295|b>>>28),b=U+(R^A^V)+N[8]+2272392833&4294967295,U=R+(b<<11&4294967295|b>>>21),b=V+(U^R^A)+N[11]+1839030562&4294967295,V=U+(b<<16&4294967295|b>>>16),b=A+(V^U^R)+N[14]+4259657740&4294967295,A=V+(b<<23&4294967295|b>>>9),b=R+(A^V^U)+N[1]+2763975236&4294967295,R=A+(b<<4&4294967295|b>>>28),b=U+(R^A^V)+N[4]+1272893353&4294967295,U=R+(b<<11&4294967295|b>>>21),b=V+(U^R^A)+N[7]+4139469664&4294967295,V=U+(b<<16&4294967295|b>>>16),b=A+(V^U^R)+N[10]+3200236656&4294967295,A=V+(b<<23&4294967295|b>>>9),b=R+(A^V^U)+N[13]+681279174&4294967295,R=A+(b<<4&4294967295|b>>>28),b=U+(R^A^V)+N[0]+3936430074&4294967295,U=R+(b<<11&4294967295|b>>>21),b=V+(U^R^A)+N[3]+3572445317&4294967295,V=U+(b<<16&4294967295|b>>>16),b=A+(V^U^R)+N[6]+76029189&4294967295,A=V+(b<<23&4294967295|b>>>9),b=R+(A^V^U)+N[9]+3654602809&4294967295,R=A+(b<<4&4294967295|b>>>28),b=U+(R^A^V)+N[12]+3873151461&4294967295,U=R+(b<<11&4294967295|b>>>21),b=V+(U^R^A)+N[15]+530742520&4294967295,V=U+(b<<16&4294967295|b>>>16),b=A+(V^U^R)+N[2]+3299628645&4294967295,A=V+(b<<23&4294967295|b>>>9),b=R+(V^(A|~U))+N[0]+4096336452&4294967295,R=A+(b<<6&4294967295|b>>>26),b=U+(A^(R|~V))+N[7]+1126891415&4294967295,U=R+(b<<10&4294967295|b>>>22),b=V+(R^(U|~A))+N[14]+2878612391&4294967295,V=U+(b<<15&4294967295|b>>>17),b=A+(U^(V|~R))+N[5]+4237533241&4294967295,A=V+(b<<21&4294967295|b>>>11),b=R+(V^(A|~U))+N[12]+1700485571&4294967295,R=A+(b<<6&4294967295|b>>>26),b=U+(A^(R|~V))+N[3]+2399980690&4294967295,U=R+(b<<10&4294967295|b>>>22),b=V+(R^(U|~A))+N[10]+4293915773&4294967295,V=U+(b<<15&4294967295|b>>>17),b=A+(U^(V|~R))+N[1]+2240044497&4294967295,A=V+(b<<21&4294967295|b>>>11),b=R+(V^(A|~U))+N[8]+1873313359&4294967295,R=A+(b<<6&4294967295|b>>>26),b=U+(A^(R|~V))+N[15]+4264355552&4294967295,U=R+(b<<10&4294967295|b>>>22),b=V+(R^(U|~A))+N[6]+2734768916&4294967295,V=U+(b<<15&4294967295|b>>>17),b=A+(U^(V|~R))+N[13]+1309151649&4294967295,A=V+(b<<21&4294967295|b>>>11),b=R+(V^(A|~U))+N[4]+4149444226&4294967295,R=A+(b<<6&4294967295|b>>>26),b=U+(A^(R|~V))+N[11]+3174756917&4294967295,U=R+(b<<10&4294967295|b>>>22),b=V+(R^(U|~A))+N[2]+718787259&4294967295,V=U+(b<<15&4294967295|b>>>17),b=A+(U^(V|~R))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(V+(b<<21&4294967295|b>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var A=R-this.blockSize,N=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=A;)s(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<R;)if(N[V++]=k.charCodeAt(U++),V==this.blockSize){s(this,N),V=0;break}}else for(;U<R;)if(N[V++]=k[U++],V==this.blockSize){s(this,N),V=0;break}}this.h=V,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var A=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=A&255,A/=256;for(this.u(k),k=Array(16),R=A=0;4>R;++R)for(var N=0;32>N;N+=8)k[A++]=this.g[R]>>>N&255;return k};function a(k,R){var A=f;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=R(k)}function u(k,R){this.h=R;for(var A=[],N=!0,V=k.length-1;0<=V;V--){var U=k[V]|0;N&&U==R||(A[V]=U,N=!1)}this.g=A}var f={};function d(k){return-128<=k&&128>k?a(k,function(R){return new u([R|0],0>R?-1:0)}):new u([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return C(p(-k));for(var R=[],A=1,N=0;k>=A;N++)R[N]=k/A|0,A*=4294967296;return new u(R,0)}function v(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return C(v(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(R,8)),N=w,V=0;V<k.length;V+=8){var U=Math.min(8,k.length-V),b=parseInt(k.substring(V,V+U),R);8>U?(U=p(Math.pow(R,U)),N=N.j(U).add(p(b))):(N=N.j(A),N=N.add(p(b)))}return N}var w=d(0),E=d(1),I=d(16777216);n=u.prototype,n.m=function(){if(D(this))return-C(this).m();for(var k=0,R=1,A=0;A<this.g.length;A++){var N=this.i(A);k+=(0<=N?N:4294967296+N)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P(this))return"0";if(D(this))return"-"+C(this).toString(k);for(var R=p(Math.pow(k,6)),A=this,N="";;){var V=X(A,R).g;A=O(A,V.j(R));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=V,P(A))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function P(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function D(k){return k.h==-1}n.l=function(k){return k=O(this,k),D(k)?-1:P(k)?0:1};function C(k){for(var R=k.g.length,A=[],N=0;N<R;N++)A[N]=~k.g[N];return new u(A,~k.h).add(E)}n.abs=function(){return D(this)?C(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),A=[],N=0,V=0;V<=R;V++){var U=N+(this.i(V)&65535)+(k.i(V)&65535),b=(U>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);N=b>>>16,U&=65535,b&=65535,A[V]=b<<16|U}return new u(A,A[A.length-1]&-2147483648?-1:0)};function O(k,R){return k.add(C(R))}n.j=function(k){if(P(this)||P(k))return w;if(D(this))return D(k)?C(this).j(C(k)):C(C(this).j(k));if(D(k))return C(this.j(C(k)));if(0>this.l(I)&&0>k.l(I))return p(this.m()*k.m());for(var R=this.g.length+k.g.length,A=[],N=0;N<2*R;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<k.g.length;V++){var U=this.i(N)>>>16,b=this.i(N)&65535,de=k.i(V)>>>16,xe=k.i(V)&65535;A[2*N+2*V]+=b*xe,z(A,2*N+2*V),A[2*N+2*V+1]+=U*xe,z(A,2*N+2*V+1),A[2*N+2*V+1]+=b*de,z(A,2*N+2*V+1),A[2*N+2*V+2]+=U*de,z(A,2*N+2*V+2)}for(N=0;N<R;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=R;N<2*R;N++)A[N]=0;return new u(A,0)};function z(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function W(k,R){this.g=k,this.h=R}function X(k,R){if(P(R))throw Error("division by zero");if(P(k))return new W(w,w);if(D(k))return R=X(C(k),R),new W(C(R.g),C(R.h));if(D(R))return R=X(k,C(R)),new W(C(R.g),R.h);if(30<k.g.length){if(D(k)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var A=E,N=R;0>=N.l(k);)A=Y(A),N=Y(N);var V=L(A,1),U=L(N,1);for(N=L(N,2),A=L(A,2);!P(N);){var b=U.add(N);0>=b.l(k)&&(V=V.add(A),U=b),N=L(N,1),A=L(A,1)}return R=O(k,V.j(R)),new W(V,R)}for(V=w;0<=k.l(R);){for(A=Math.max(1,Math.floor(k.m()/R.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=p(A),b=U.j(R);D(b)||0<b.l(k);)A-=N,U=p(A),b=U.j(R);P(U)&&(U=E),V=V.add(U),k=O(k,b)}return new W(V,k)}n.A=function(k){return X(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),A=[],N=0;N<R;N++)A[N]=this.i(N)&k.i(N);return new u(A,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),A=[],N=0;N<R;N++)A[N]=this.i(N)|k.i(N);return new u(A,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),A=[],N=0;N<R;N++)A[N]=this.i(N)^k.i(N);return new u(A,this.h^k.h)};function Y(k){for(var R=k.g.length+1,A=[],N=0;N<R;N++)A[N]=k.i(N)<<1|k.i(N-1)>>>31;return new u(A,k.h)}function L(k,R){var A=R>>5;R%=32;for(var N=k.g.length-A,V=[],U=0;U<N;U++)V[U]=0<R?k.i(U+A)>>>R|k.i(U+A+1)<<32-R:k.i(U+A);return new u(V,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Us=u}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DT,Xl,NT,ch,Qp,OT,LT,MT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in _))break e;_=_[q]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,S=!1,q={next:function(){if(!S&&_<c.length){var Z=_++;return{value:g(Z,c[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function I(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function P(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,q,Z){for(var fe=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)fe[ft-2]=arguments[ft];return g.prototype[q].apply(S,fe)}}function D(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function C(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(d(S)){const q=c.length||0,Z=S.length||0;c.length=q+Z;for(let fe=0;fe<Z;fe++)c[q+fe]=S[fe]}else c.push(S)}}class O{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var Y=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function L(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function k(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)c[_]=S[_];for(let Z=0;Z<A.length;Z++)_=A[Z],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){f.setTimeout(()=>{throw c},0)}function b(){var c=ce;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class de{constructor(){this.h=this.g=null}add(g,_){const S=xe.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var xe=new O(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,re=!1,ce=new de,le=()=>{const c=f.Promise.resolve(void 0);Se=()=>{c.then(B)}};var B=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(_){U(_)}var g=xe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}re=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c}();function Ve(c,g){if(pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Y){e:{try{X(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ve.aa.h.call(this)}}P(Ve,pe);var $e={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),tt=0;function lt(c,g,_,S,q){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=q,this.key=++tt,this.da=this.fa=!1}function Je(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Kt(c){this.src=c,this.g={},this.h=0}Kt.prototype.add=function(c,g,_,S,q){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var fe=qn(c,g,S,q);return-1<fe?(g=c[fe],_||(g.fa=!1)):(g=new lt(g,this.src,Z,!!S,q),g.fa=_,c.push(g)),g};function Cr(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],q=Array.prototype.indexOf.call(S,g,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(S,q,1),Z&&(Je(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function qn(c,g,_,S){for(var q=0;q<c.length;++q){var Z=c[q];if(!Z.da&&Z.listener==g&&Z.capture==!!_&&Z.ha==S)return q}return-1}var Rn="closure_lm_"+(1e6*Math.random()|0),Xi={};function so(c,g,_,S,q){if(Array.isArray(g)){for(var Z=0;Z<g.length;Z++)so(c,g[Z],_,S,q);return null}return _=wi(_),c&&c[qe]?c.K(g,_,p(S)?!!S.capture:!1,q):Yi(c,g,_,!1,S,q)}function Yi(c,g,_,S,q,Z){if(!g)throw Error("Invalid event type");var fe=p(q)?!!q.capture:!!q,ft=or(c);if(ft||(c[Rn]=ft=new Kt(c)),_=ft.add(g,_,S,fe,Z),_.proxy)return _;if(S=Wo(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ke||(q=fe),q===void 0&&(q=!1),c.addEventListener(g.toString(),S,q);else if(c.attachEvent)c.attachEvent(Pr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Wo(){function c(_){return g.call(c.src,c.listener,_)}const g=Gn;return c}function Ji(c,g,_,S,q){if(Array.isArray(g))for(var Z=0;Z<g.length;Z++)Ji(c,g[Z],_,S,q);else S=p(S)?!!S.capture:!!S,_=wi(_),c&&c[qe]?(c=c.i,g=String(g).toString(),g in c.g&&(Z=c.g[g],_=qn(Z,_,S,q),-1<_&&(Je(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete c.g[g],c.h--)))):c&&(c=or(c))&&(g=c.g[g.toString()],c=-1,g&&(c=qn(g,_,S,q)),(_=-1<c?g[c]:null)&&Ar(_))}function Ar(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[qe])Cr(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(Pr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=or(g))?(Cr(_,c),_.h==0&&(_.src=null,g[Rn]=null)):Je(c)}}}function Pr(c){return c in Xi?Xi[c]:Xi[c]="on"+c}function Gn(c,g){if(c.da)c=!0;else{g=new Ve(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&Ar(c),c=_.call(S,g)}return c}function or(c){return c=c[Rn],c instanceof Kt?c:null}var _i="__closure_events_fn_"+(1e9*Math.random()>>>0);function wi(c){return typeof c=="function"?c:(c[_i]||(c[_i]=function(g){return c.handleEvent(g)}),c[_i])}function dt(){ee.call(this),this.i=new Kt(this),this.M=this,this.F=null}P(dt,ee),dt.prototype[qe]=!0,dt.prototype.removeEventListener=function(c,g,_,S){Ji(this,c,g,_,S)};function ht(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new pe(g,c);else if(g instanceof pe)g.target=g.target||c;else{var q=g;g=new pe(S,c),N(g,q)}if(q=!0,_)for(var Z=_.length-1;0<=Z;Z--){var fe=g.g=_[Z];q=ar(fe,S,!0,g)&&q}if(fe=g.g=c,q=ar(fe,S,!0,g)&&q,q=ar(fe,S,!1,g)&&q,_)for(Z=0;Z<_.length;Z++)fe=g.g=_[Z],q=ar(fe,S,!1,g)&&q}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)Je(_[S]);delete c.g[g],c.h--}}this.F=null},dt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},dt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function ar(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,Z=0;Z<g.length;++Z){var fe=g[Z];if(fe&&!fe.da&&fe.capture==_){var ft=fe.listener,Bt=fe.ha||fe.src;fe.fa&&Cr(c.i,fe),q=ft.call(Bt,S)!==!1&&q}}return q&&!S.defaultPrevented}function Ei(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(c,g||0)}function Kr(c){c.g=Ei(()=>{c.g=null,c.i&&(c.i=!1,Kr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class mn extends ee{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(c){ee.call(this),this.h=c,this.g={}}P(Qr,ee);var Zi=[];function es(c){L(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ar(g)},c),c.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),es(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oo=f.JSON.stringify,ts=f.JSON.parse,Xr=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Yr(){}Yr.prototype.h=null;function Jr(c){return c.h||(c.h=c.i())}function ns(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){pe.call(this,"d")}P(lr,pe);function Ti(){pe.call(this,"c")}P(Ti,pe);var An={},Zr=null;function Si(){return Zr=Zr||new dt}An.La="serverreachability";function ao(c){pe.call(this,An.La,c)}P(ao,pe);function M(c){const g=Si();ht(g,new ao(g))}An.STAT_EVENT="statevent";function H(c,g){pe.call(this,An.STAT_EVENT,c),this.stat=g}P(H,pe);function K(c){const g=Si();ht(g,new H(g,c))}An.Ma="timingevent";function oe(c,g){pe.call(this,An.Ma,c),this.size=g}P(oe,pe);function he(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function be(c,g,_,S,q,Z){c.info(function(){if(c.g)if(Z)for(var fe="",ft=Z.split("&"),Bt=0;Bt<ft.length;Bt++){var rt=ft[Bt].split("=");if(1<rt.length){var Yt=rt[0];rt=rt[1];var Ft=Yt.split("_");fe=2<=Ft.length&&Ft[1]=="type"?fe+(Yt+"="+rt+"&"):fe+(Yt+"=redacted&")}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+g+`
`+_+`
`+fe})}function me(c,g,_,S,q,Z,fe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+g+`
`+_+`
`+Z+" "+fe})}function Ee(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Fe(c,_)+(S?" "+S:"")})}function Pe(c,g){c.info(function(){return"TIMEOUT: "+g})}Ie.prototype.info=function(){};function Fe(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var fe=1;fe<q.length;fe++)q[fe]=""}}}}return oo(_)}catch{return g}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ze={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ke;function gt(){}P(gt,Yr),gt.prototype.g=function(){return new XMLHttpRequest},gt.prototype.i=function(){return{}},Ke=new gt;function pt(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qt}function Qt(){this.i=null,this.g="",this.h=!1}var Qe={},ur={};function Nn(c,g,_){c.L=1,c.v=ls(Xn(g)),c.m=_,c.P=!0,kr(c,null)}function kr(c,g){c.F=Date.now(),ot(c),c.A=Xn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),cs(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Qt,c.g=Ku(c.j,_?g:null,!c.m),0<c.O&&(c.M=new mn(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Zi[0]=q.toString()),q=Zi);for(var Z=0;Z<q.length;Z++){var fe=so(_,q[Z],S||g.handleEvent,!1,g.h||g);if(!fe)break;g.g[fe.key]=fe}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),M(),be(c.i,c.u,c.A,c.l,c.R,c.m)}pt.prototype.ca=function(c){c=c.target;const g=this.M;g&&Ln(c)==3?g.j():this.Y(c)},pt.prototype.Y=function(c){try{if(c==this.g)e:{const Ft=Ln(this.g);var g=this.g.Ba();const fr=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||cl(this.g)))){this.J||Ft!=4||g==7||(g==8||0>=fr?M(3):M(2)),Pn(this);var _=this.g.Z();this.X=_;t:if(sn(this)){var S=cl(this.g);c="";var q=S.length,Z=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),Kn(this);var fe="";break t}this.h.i=new f.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(Z&&g==q-1)});S.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,me(this.i,this.u,this.A,this.l,this.R,Ft,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,Bt=this.g;if((ft=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(ft)){var rt=ft;break t}}rt=null}if(_=rt)Ee(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xt(this,_);else{this.o=!1,this.s=3,K(12),We(this),Kn(this);break e}}if(this.P){_=!0;let Jn;for(;!this.J&&this.C<fe.length;)if(Jn=Ii(this,fe),Jn==ur){Ft==4&&(this.s=4,K(14),_=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==Qe){this.s=4,K(15),Ee(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else Ee(this.i,this.l,Jn,null),Xt(this,Jn);if(sn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||fe.length!=0||this.h.h||(this.s=1,K(16),_=!1),this.o=this.o&&_,!_)Ee(this.i,this.l,fe,"[Invalid Chunked Response]"),We(this),Kn(this);else if(0<fe.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),fl(Yt),Yt.M=!0,K(11))}}else Ee(this.i,this.l,fe,null),Xt(this,fe);Ft==4&&We(this),this.o&&!this.J&&(Ft==4?ra(this.j,this):(this.o=!1,ot(this)))}else Jo(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,K(12)):(this.s=0,K(13)),We(this),Kn(this)}}}catch{}finally{}};function sn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ii(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?ur:(_=Number(g.substring(_,S)),isNaN(_)?Qe:(S+=1,S+_>g.length?ur:(g=g.slice(S,S+_),c.C=S+_,g)))}pt.prototype.cancel=function(){this.J=!0,We(this)};function ot(c){c.S=Date.now()+c.I,rs(c,c.I)}function rs(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=he(E(c.ba,c),g)}function Pn(c){c.B&&(f.clearTimeout(c.B),c.B=null)}pt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Pe(this.i,this.A),this.L!=2&&(M(),K(17)),We(this),this.s=2,Kn(this)):rs(this,this.S-c)};function Kn(c){c.j.G==0||c.J||ra(c.j,c)}function We(c){Pn(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,es(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Xt(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||xt(_.h,c))){if(!c.K&&xt(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)na(_),Or(_);else break e;ta(_),K(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=he(E(_.Za,_),6e3));if(1>=Et(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ki(_,11)}else if((c.K||_.g==c)&&na(_),!z(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let rt=q[g];if(_.T=rt[0],rt=rt[1],_.G==2)if(rt[0]=="c"){_.K=rt[1],_.ia=rt[2];const Yt=rt[3];Yt!=null&&(_.la=Yt,_.j.info("VER="+_.la));const Ft=rt[4];Ft!=null&&(_.Aa=Ft,_.j.info("SVER="+_.Aa));const fr=rt[5];fr!=null&&typeof fr=="number"&&0<fr&&(S=1.5*fr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Jn=c.g;if(Jn){const po=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var Z=S.h;Z.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(is(Z,Z.h),Z.h=null))}if(S.D){const sa=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(S.ya=sa,yt(S.I,S.D,sa))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var fe=c;if(S.qa=Gu(S,S.J?S.ia:null,S.W),fe.K){qo(S.h,fe);var ft=fe,Bt=S.L;Bt&&(ft.I=Bt),ft.B&&(Pn(ft),ot(ft)),S.g=fe}else fo(S);0<_.i.length&&ri(_)}else rt[0]!="stop"&&rt[0]!="close"||ki(_,7);else _.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?ki(_,7):ln(_):rt[0]!="noop"&&_.l&&_.l.ta(rt),_.v=0)}}M(4)}catch{}}var Qn=class{constructor(c,g){this.g=c,this.map=g}};function cr(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Et(c){return c.h?1:c.g?c.g.size:0}function xt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function is(c,g){c.g?c.g.add(g):c.h=g}function qo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}cr.prototype.cancel=function(){if(this.i=Mu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return D(c.i)}function Go(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function Ko(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function ss(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ko(c),S=Go(c),q=S.length,Z=0;Z<q;Z++)g.call(void 0,S[Z],_&&_[Z],c)}var lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xf(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),q=null;if(0<=S){var Z=c[_].substring(0,S);q=c[_].substring(S+1)}else Z=c[_];g(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ri){this.h=c.h,uo(this,c.j),this.o=c.o,this.g=c.g,os(this,c.s),this.l=c.l;var g=c.i,_=new ei;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),as(this,_),this.m=c.m}else c&&(g=String(c).match(lo))?(this.h=!1,uo(this,g[1]||"",!0),this.o=nt(g[2]||""),this.g=nt(g[3]||"",!0),os(this,g[4]),this.l=nt(g[5]||"",!0),as(this,g[6]||"",!0),this.m=nt(g[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}Ri.prototype.toString=function(){var c=[],g=this.j;g&&c.push(us(g,Qo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(us(g,Qo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(us(_,_.charAt(0)=="/"?Uu:Fu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",us(_,al)),c.join("")};function Xn(c){return new Ri(c)}function uo(c,g,_){c.j=_?nt(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function os(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function as(c,g,_){g instanceof ei?(c.i=g,ti(c.i,c.h)):(_||(g=us(g,zu)),c.i=new ei(g,c.h))}function yt(c,g,_){c.i.set(g,_)}function ls(c){return yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function nt(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function us(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Vu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Qo=/[#\/\?@]/g,Fu=/[#\?:]/g,Uu=/[#\?]/g,zu=/[#\?@]/g,al=/#/g;function ei(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&xf(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=ei.prototype,n.add=function(c,g){an(this),this.i=null,c=hr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function br(c,g){an(c),g=hr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function xr(c,g){return an(c),g=hr(c,g),c.g.has(g)}n.forEach=function(c,g){an(this),this.g.forEach(function(_,S){_.forEach(function(q){c.call(g,q,S,this)},this)},this)},n.na=function(){an(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const q=c[S];for(let Z=0;Z<q.length;Z++)_.push(g[S])}return _},n.V=function(c){an(this);let g=[];if(typeof c=="string")xr(this,c)&&(g=g.concat(this.g.get(hr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return an(this),this.i=null,c=hr(this,c),xr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function cs(c,g,_){br(c,g),0<_.length&&(c.i=null,c.g.set(hr(c,g),D(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const Z=encodeURIComponent(String(S)),fe=this.V(S);for(S=0;S<fe.length;S++){var q=Z;fe[S]!==""&&(q+="="+encodeURIComponent(String(fe[S]))),c.push(q)}}return this.i=c.join("&")};function hr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ti(c,g){g&&!c.j&&(an(c),c.i=null,c.g.forEach(function(_,S){var q=S.toLowerCase();S!=q&&(br(this,S),cs(this,q,_))},c)),c.j=g}function Df(c,g){const _=new Ie;if(f.Image){const S=new Image;S.onload=I(On,_,"TestLoadImage: loaded",!0,g,S),S.onerror=I(On,_,"TestLoadImage: error",!1,g,S),S.onabort=I(On,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=I(On,_,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function ju(c,g){const _=new Ie,S=new AbortController,q=setTimeout(()=>{S.abort(),On(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Z=>{clearTimeout(q),Z.ok?On(_,"TestPingServer: ok",!0,g):On(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),On(_,"TestPingServer: error",!1,g)})}function On(c,g,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function Nf(){this.g=new Xr}function $u(c,g,_){const S=_||"";try{ss(c,function(q,Z){let fe=q;p(q)&&(fe=oo(q)),g.push(S+Z+"="+encodeURIComponent(fe))})}catch(q){throw g.push(S+"type="+encodeURIComponent("_badmap")),q}}function Ci(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Ci,Yr),Ci.prototype.g=function(){return new co(this.l,this.j)},Ci.prototype.i=function(c){return function(){return c}}({});function co(c,g){dt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(co,dt),n=co.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Nr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Dr(this):Nr(this),this.readyState==3&&Bu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Dr(this))},n.Qa=function(c){this.g&&(this.response=c,Dr(this))},n.ga=function(){this.g&&Dr(this)};function Dr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Nr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Nr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ai(c){let g="";return L(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function hs(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ai(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):yt(c,g,_))}function Rt(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Rt,dt);var Of=/^https?$/i,ll=["POST","PUT"];n=Rt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ke.g(),this.v=this.o?Jr(this.o):Jr(Ke),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Z){ho(this,Z);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())_.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ll,g,void 0))||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of _)this.g.setRequestHeader(Z,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yo(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){ho(this,Z)}};function ho(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Xo(c),Yn(c)}function Xo(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ht(this,"complete"),ht(this,"abort"),Yn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ul(this):this.bb())},n.bb=function(){ul(this)};function ul(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Ei(c.Ea,0,c);else if(ht(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=fe===0){var q=String(c.D).match(lo)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),S=!Of.test(q?q.toLowerCase():"")}_=S}if(_)ht(c,"complete"),ht(c,"success");else{c.m=6;try{var Z=2<Ln(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",Xo(c)}}finally{Yn(c)}}}}function Yn(c,g){if(c.g){Yo(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||ht(c,"ready");try{_.onreadystatechange=S}catch{}}}function Yo(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ts(g)}};function cl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Jo(c){const g={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(z(c[S]))continue;var _=V(c[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=g[q]||[];g[q]=Z,Z.push(_)}k(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ni(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function hl(c){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ni("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ni("baseRetryDelayMs",5e3,c),this.cb=ni("retryDelaySeedMs",1e4,c),this.Wa=ni("forwardChannelMaxRetries",2,c),this.wa=ni("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new cr(c&&c.concurrentRequestLimit),this.Da=new Nf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=hl.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){K(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Gu(this,null,this.W),ri(this)};function ln(c){if(Zo(c),c.G==3){var g=c.U++,_=Xn(c.I);if(yt(_,"SID",c.K),yt(_,"RID",g),yt(_,"TYPE","terminate"),Pi(c,_),g=new pt(c,c.j,g),g.L=2,g.v=ls(Xn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=Ku(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ot(g)}qu(c)}function Or(c){c.g&&(fl(c),c.g.cancel(),c.g=null)}function Zo(c){Or(c),c.u&&(f.clearTimeout(c.u),c.u=null),na(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function ri(c){if(!on(c.h)&&!c.s){c.s=!0;var g=c.Ga;Se||le(),re||(Se(),re=!0),ce.add(g,c),c.B=0}}function Lf(c,g){return Et(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=he(E(c.Ga,c,g),Wu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new pt(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=R(Z),N(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=fs(this,q,g),_=Xn(this.I),yt(_,"RID",c),yt(_,"CVER",22),this.D&&yt(_,"X-HTTP-Session-Id",this.D),Pi(this,_),Z&&(this.O?g="headers="+encodeURIComponent(String(Ai(Z)))+"&"+g:this.m&&hs(_,this.m,Z)),is(this.h,q),this.Ua&&yt(_,"TYPE","init"),this.P?(yt(_,"$req",g),yt(_,"SID","null"),q.T=!0,Nn(q,_,null)):Nn(q,_,g),this.G=2}}else this.G==3&&(c?ea(this,c):this.i.length==0||on(this.h)||ea(this))};function ea(c,g){var _;g?_=g.l:_=c.U++;const S=Xn(c.I);yt(S,"SID",c.K),yt(S,"RID",_),yt(S,"AID",c.T),Pi(c,S),c.m&&c.o&&hs(S,c.m,c.o),_=new pt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=fs(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),is(c.h,_),Nn(_,S,g)}function Pi(c,g){c.H&&L(c.H,function(_,S){yt(g,S,_)}),c.l&&ss({},function(_,S){yt(g,S,_)})}function fs(c,g,_){_=Math.min(c.i.length,_);var S=c.l?E(c.l.Na,c.l,c):null;e:{var q=c.i;let Z=-1;for(;;){const fe=["count="+_];Z==-1?0<_?(Z=q[0].g,fe.push("ofs="+Z)):Z=0:fe.push("ofs="+Z);let ft=!0;for(let Bt=0;Bt<_;Bt++){let rt=q[Bt].g;const Yt=q[Bt].map;if(rt-=Z,0>rt)Z=Math.max(0,q[Bt].g-100),ft=!1;else try{$u(Yt,fe,"req"+rt+"_")}catch{S&&S(Yt)}}if(ft){S=fe.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function fo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Se||le(),re||(Se(),re=!0),ce.add(g,c),c.v=0}}function ta(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=he(E(c.Fa,c),Wu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=he(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,K(10),Or(this),Hu(this))};function fl(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Hu(c){c.g=new pt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Xn(c.qa);yt(g,"RID","rpc"),yt(g,"SID",c.K),yt(g,"AID",c.T),yt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&yt(g,"TO",c.ja),yt(g,"TYPE","xmlhttp"),Pi(c,g),c.m&&c.o&&hs(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ls(Xn(g)),_.m=null,_.P=!0,kr(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Or(this),ta(this),K(19))};function na(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ra(c,g){var _=null;if(c.g==g){na(c),fl(c),c.g=null;var S=2}else if(xt(c.h,g))_=g.D,qo(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;S=Si(),ht(S,new oe(S,_)),ri(c)}else fo(c);else if(q=g.s,q==3||q==0&&0<g.X||!(S==1&&Lf(c,g)||S==2&&ta(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),q){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function Wu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function ki(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),S=c.Xa;const q=!S;S=new Ri(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||uo(S,"https"),ls(S),q?Df(S.toString(),_):ju(S.toString(),_)}else K(2);c.G=0,c.l&&c.l.sa(g),qu(c),Zo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),K(2)):(this.j.info("Failed to ping google.com"),K(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const g=Mu(c.h);(g.length!=0||c.i.length!=0)&&(C(c.ka,g),C(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function Gu(c,g,_){var S=_ instanceof Ri?Xn(_):new Ri(_);if(S.g!="")g&&(S.g=g+"."+S.g),os(S,S.s);else{var q=f.location;S=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var Z=new Ri(null);S&&uo(Z,S),g&&(Z.g=g),q&&os(Z,q),_&&(Z.l=_),S=Z}return _=c.D,g=c.ya,_&&g&&yt(S,_,g),yt(S,"VER",c.la),Pi(c,S),S}function Ku(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Rt(new Ci({eb:_})):new Rt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dl(){}n=dl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ia(){}ia.prototype.g=function(c,g){return new kn(c,g)};function kn(c,g){dt.call(this),this.g=new hl(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!z(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!z(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ii(this)}P(kn,dt),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){ln(this.g)},kn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=oo(c),c=_);g.i.push(new Qn(g.Ya++,c)),g.G==3&&ri(g)},kn.prototype.N=function(){this.g.l=null,delete this.j,ln(this.g),delete this.g,kn.aa.N.call(this)};function Qu(c){lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}P(Qu,lr);function Xu(){Ti.call(this),this.status=1}P(Xu,Ti);function ii(c){this.g=c}P(ii,dl),ii.prototype.ua=function(){ht(this.g,"a")},ii.prototype.ta=function(c){ht(this.g,new Qu(c))},ii.prototype.sa=function(c){ht(this.g,new Xu)},ii.prototype.ra=function(){ht(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,MT=function(){return new ia},LT=function(){return Si()},OT=An,Qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,ch=Ce,ze.COMPLETE="complete",NT=ze,ns.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Xl=ns,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,DT=Rt}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const R0="@firebase/firestore",C0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new Qm("@firebase/firestore");function Pa(){return Fo.logLevel}function ye(n,...e){if(Fo.logLevel<=Ze.DEBUG){const t=e.map(ug);Fo.debug(`Firestore (${Za}): ${n}`,...t)}}function qi(n,...e){if(Fo.logLevel<=Ze.ERROR){const t=e.map(ug);Fo.error(`Firestore (${Za}): ${n}`,...t)}}function Ua(n,...e){if(Fo.logLevel<=Ze.WARN){const t=e.map(ug);Fo.warn(`Firestore (${Za}): ${n}`,...t)}}function ug(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,VT(n,r,t)}function VT(n,e,t){let r=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw qi(r),new Error(r)}function ct(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||VT(e,s,r)}function Be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}}class Nx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ox{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Bi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},f=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new FT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class Lx{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mx{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Lx(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ct(this.o===void 0,3512);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new A0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new A0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Fx(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Ge(n,e){return n<e?-1:n>e?1:0}function Xp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Ge(r,s);{const a=UT(),u=Ux(a.encode(P0(n,t)),a.encode(P0(e,t)));return u!==0?u:Ge(r,s)}}t+=r>65535?2:1}return Ge(n.length,e.length)}function P0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Ux(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ge(n[t],e[t]);return Ge(n.length,e.length)}function za(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=-62135596800,b0=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*b0);return new qt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<k0)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-k0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new qt(0,0))}static max(){return new je(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="__name__";class ui{constructor(e,t,r){t===void 0?t=0:t>e.length&&Me(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Me(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ui.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ui?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=ui.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Ge(e.length,t.length)}static compareSegments(e,t){const r=ui.isNumericId(e),s=ui.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ui.extractNumericId(e).compare(ui.extractNumericId(t)):Xp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Us.fromString(e.substring(4,e.length-2))}}class It extends ui{construct(e,t,r){return new It(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new It(t)}static emptyPath(){return new It([])}}const zx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends ui{construct(e,t,r){return new fn(e,t,r)}static isValidIdentifier(e){return zx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x0}static keyField(){return new fn([x0])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new ve(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ve(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(a(),s++)}if(a(),u)throw new ve(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(t)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(It.fromString(e))}static fromName(e){return new De(It.fromString(e).popFirst(5))}static empty(){return new De(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new It(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function jx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new qt(t+1,0):new qt(t,r));return new Hs(s,De.empty(),e)}function $x(n){return new Hs(n.readTime,n.key,du)}class Hs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hs(je.min(),De.empty(),du)}static max(){return new Hs(je.max(),De.empty(),du)}}function Bx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==Hx)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let s=0,a=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++a,u&&a===s&&t()},d=>r(d))}),u=!0,a===s&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(s=>s?ne.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,s)=>{const a=e.length,u=new Array(a);let f=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next(v=>{u[p]=v,++f,f===a&&r(u)},v=>s(v))}})}static doWhile(e,t){return new ne((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function qx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}sf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function of(n){return n==null}function Nh(n){return n===0&&1/n==-1/0}function Gx(n){return typeof n=="number"&&Number.isInteger(n)&&!Nh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="";function Kx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=D0(e)),e=Qx(n.get(t),e);return D0(e)}function Qx(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case jT:t+="";break;default:t+=a}}return t}function D0(n){return n+jT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function eo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $T(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||hn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??hn.RED,this.left=s??hn.EMPTY,this.right=a??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new hn(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return hn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new O0(this.data.getIterator())}getIteratorFrom(e){return new O0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class O0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new ir([])}unionWith(e){let t=new Gt(fn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new BT("Invalid base64 string: "+a):a}}(e);return new dn(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const Xx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(n){if(ct(!!n,39018),typeof n=="string"){let e=0;const t=Xx.exec(n);if(ct(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qs(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="server_timestamp",WT="__type__",qT="__previous_value__",GT="__local_write_time__";function hg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[WT])===null||t===void 0?void 0:t.stringValue)===HT}function af(n){const e=n.mapValue.fields[qT];return hg(e)?af(e):e}function pu(n){const e=Ws(n.mapValue.fields[GT].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t,r,s,a,u,f,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=p}}const Oh="(default)";class mu{constructor(e,t){this.projectId=e,this.database=t||Oh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="__type__",Jx="__max__",Qc={mapValue:{}},QT="__vector__",Lh="value";function Gs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hg(n)?4:eD(n)?9007199254740991:Zx(n)?10:11:Me(28295,{value:n})}function yi(n,e){if(n===e)return!0;const t=Gs(n);if(t!==Gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pu(n).isEqual(pu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Ws(s.timestampValue),f=Ws(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return qs(s.bytesValue).isEqual(qs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Mt(s.geoPointValue.latitude)===Mt(a.geoPointValue.latitude)&&Mt(s.geoPointValue.longitude)===Mt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Mt(s.integerValue)===Mt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Mt(s.doubleValue),f=Mt(a.doubleValue);return u===f?Nh(u)===Nh(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return za(n.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},f=a.mapValue.fields||{};if(N0(u)!==N0(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!yi(u[d],f[d])))return!1;return!0}(n,e);default:return Me(52216,{left:n})}}function gu(n,e){return(n.values||[]).find(t=>yi(t,e))!==void 0}function ja(n,e){if(n===e)return 0;const t=Gs(n),r=Gs(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Mt(a.integerValue||a.doubleValue),d=Mt(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(n,e);case 3:return L0(n.timestampValue,e.timestampValue);case 4:return L0(pu(n),pu(e));case 5:return Xp(n.stringValue,e.stringValue);case 6:return function(a,u){const f=qs(a),d=qs(u);return f.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),d=u.split("/");for(let p=0;p<f.length&&p<d.length;p++){const v=Ge(f[p],d[p]);if(v!==0)return v}return Ge(f.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Ge(Mt(a.latitude),Mt(u.latitude));return f!==0?f:Ge(Mt(a.longitude),Mt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return M0(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,d,p,v;const w=a.fields||{},E=u.fields||{},I=(f=w[Lh])===null||f===void 0?void 0:f.arrayValue,P=(d=E[Lh])===null||d===void 0?void 0:d.arrayValue,D=Ge(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((v=P==null?void 0:P.values)===null||v===void 0?void 0:v.length)||0);return D!==0?D:M0(I,P)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Qc.mapValue&&u===Qc.mapValue)return 0;if(a===Qc.mapValue)return 1;if(u===Qc.mapValue)return-1;const f=a.fields||{},d=Object.keys(f),p=u.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let w=0;w<d.length&&w<v.length;++w){const E=Xp(d[w],v[w]);if(E!==0)return E;const I=ja(f[d[w]],p[v[w]]);if(I!==0)return I}return Ge(d.length,v.length)}(n.mapValue,e.mapValue);default:throw Me(23264,{Pe:t})}}function L0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Ws(n),r=Ws(e),s=Ge(t.seconds,r.seconds);return s!==0?s:Ge(t.nanos,r.nanos)}function M0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ja(t[s],r[s]);if(a)return a}return Ge(t.length,r.length)}function $a(n){return Yp(n)}function Yp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ws(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return De.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Yp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Yp(t.fields[u])}`;return s+"}"}(n.mapValue):Me(61005,{value:n})}function hh(n){switch(Gs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(n);return e?16+hh(e):16;case 5:return 2*n.stringValue.length;case 6:return qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+hh(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return eo(r.fields,(a,u)=>{s+=a.length+hh(u)}),s}(n.mapValue);default:throw Me(13486,{value:n})}}function V0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Jp(n){return!!n&&"integerValue"in n}function fg(n){return!!n&&"arrayValue"in n}function F0(n){return!!n&&"nullValue"in n}function U0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fh(n){return!!n&&"mapValue"in n}function Zx(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[KT])===null||t===void 0?void 0:t.stringValue)===QT}function tu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return eo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Jx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(t)}setAll(e){let t=fn.emptyPath(),r={},s=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=f.popLast()}u?r[f.lastSegment()]=tu(u):s.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];fh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){eo(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Hn(tu(this.value))}}function XT(n){const e=[];return eo(n.fields,(t,r)=>{const s=new fn([t]);if(fh(r)){const a=XT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,t,r,s,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Tn(e,0,je.min(),je.min(),je.min(),Hn.empty(),0)}static newFoundDocument(e,t,r,s){return new Tn(e,1,t,je.min(),r,s,0)}static newNoDocument(e,t){return new Tn(e,2,t,je.min(),je.min(),Hn.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,je.min(),je.min(),Hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.position=e,this.inclusive=t}}function z0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=De.comparator(De.fromName(u.referenceValue),t.key):r=ja(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function j0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t="asc"){this.field=e,this.dir=t}}function tD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{}class $t extends YT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rD(e,t,r):t==="array-contains"?new oD(e,r):t==="in"?new aD(e,r):t==="not-in"?new lD(e,r):t==="array-contains-any"?new uD(e,r):new $t(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new iD(e,r):new sD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ja(t,this.value)):t!==null&&Gs(this.value)===Gs(t)&&this.matchesComparison(ja(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends YT{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new qr(e,t)}matches(e){return JT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function JT(n){return n.op==="and"}function ZT(n){return nD(n)&&JT(n)}function nD(n){for(const e of n.filters)if(e instanceof qr)return!1;return!0}function Zp(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+$a(n.value);if(ZT(n))return n.filters.map(e=>Zp(e)).join(",");{const e=n.filters.map(t=>Zp(t)).join(",");return`${n.op}(${e})`}}function eS(n,e){return n instanceof $t?function(r,s){return s instanceof $t&&r.op===s.op&&r.field.isEqual(s.field)&&yi(r.value,s.value)}(n,e):n instanceof qr?function(r,s){return s instanceof qr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,f)=>a&&eS(u,s.filters[f]),!0):!1}(n,e):void Me(19439)}function tS(n){return n instanceof $t?function(t){return`${t.field.canonicalString()} ${t.op} ${$a(t.value)}`}(n):n instanceof qr?function(t){return t.op.toString()+" {"+t.getFilters().map(tS).join(" ,")+"}"}(n):"Filter"}class rD extends $t{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class iD extends $t{constructor(e,t){super(e,"in",t),this.keys=nS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sD extends $t{constructor(e,t){super(e,"not-in",t),this.keys=nS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class oD extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fg(t)&&gu(t.arrayValue,this.value)}}class aD extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class lD extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gu(this.value.arrayValue,t)}}class uD extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t=null,r=[],s=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.Ie=null}}function $0(n,e=null,t=[],r=[],s=null,a=null,u=null){return new cD(n,e,t,r,s,a,u)}function dg(n){const e=Be(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Zp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$a(r)).join(",")),e.Ie=t}return e.Ie}function pg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!j0(n.startAt,e.startAt)&&j0(n.endAt,e.endAt)}function em(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t=null,r=[],s=[],a=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function hD(n,e,t,r,s,a,u,f){return new nl(n,e,t,r,s,a,u,f)}function lf(n){return new nl(n)}function B0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rS(n){return n.collectionGroup!==null}function nu(n){const e=Be(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Gt(fn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new yu(a,r))}),t.has(fn.keyField().canonicalString())||e.Ee.push(new yu(fn.keyField(),r))}return e.Ee}function mi(n){const e=Be(n);return e.de||(e.de=fD(e,nu(n))),e.de}function fD(n,e){if(n.limitType==="F")return $0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new yu(s.field,a)});const t=n.endAt?new Mh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Mh(n.startAt.position,n.startAt.inclusive):null;return $0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function tm(n,e){const t=n.filters.concat([e]);return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nm(n,e,t){return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uf(n,e){return pg(mi(n),mi(e))&&n.limitType===e.limitType}function iS(n){return`${dg(mi(n))}|lt:${n.limitType}`}function ka(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>tS(s)).join(", ")}]`),of(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>$a(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>$a(s)).join(",")),`Target(${r})`}(mi(n))}; limitType=${n.limitType})`}function cf(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of nu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,f,d){const p=z0(u,f,d);return u.inclusive?p<=0:p<0}(r.startAt,nu(r),s)||r.endAt&&!function(u,f,d){const p=z0(u,f,d);return u.inclusive?p>=0:p>0}(r.endAt,nu(r),s))}(n,e)}function dD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sS(n){return(e,t)=>{let r=!1;for(const s of nu(n)){const a=pD(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function pD(n,e,t){const r=n.field.isKeyField()?De.comparator(e.key,t.key):function(a,u,f){const d=u.data.field(a),p=f.data.field(a);return d!==null&&p!==null?ja(d,p):Me(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return $T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new bt(De.comparator);function Gi(){return mD}const oS=new bt(De.comparator);function Yl(...n){let e=oS;for(const t of n)e=e.insert(t.key,t);return e}function aS(n){let e=oS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Do(){return ru()}function lS(){return ru()}function ru(){return new Bo(n=>n.toString(),(n,e)=>n.isEqual(e))}const gD=new bt(De.comparator),yD=new Gt(De.comparator);function et(...n){let e=yD;for(const t of n)e=e.add(t);return e}const vD=new Gt(Ge);function _D(){return vD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function uS(n){return{integerValue:""+n}}function wD(n,e){return Gx(e)?uS(e):mg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this._=void 0}}function ED(n,e,t){return n instanceof vu?function(s,a){const u={fields:{[WT]:{stringValue:HT},[GT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&hg(a)&&(a=af(a)),a&&(u.fields[qT]=a),{mapValue:u}}(t,e):n instanceof Ba?hS(n,e):n instanceof _u?fS(n,e):function(s,a){const u=cS(s,a),f=H0(u)+H0(s.Re);return Jp(u)&&Jp(s.Re)?uS(f):mg(s.serializer,f)}(n,e)}function TD(n,e,t){return n instanceof Ba?hS(n,e):n instanceof _u?fS(n,e):t}function cS(n,e){return n instanceof Vh?function(r){return Jp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class vu extends hf{}class Ba extends hf{constructor(e){super(),this.elements=e}}function hS(n,e){const t=dS(e);for(const r of n.elements)t.some(s=>yi(s,r))||t.push(r);return{arrayValue:{values:t}}}class _u extends hf{constructor(e){super(),this.elements=e}}function fS(n,e){let t=dS(e);for(const r of n.elements)t=t.filter(s=>!yi(s,r));return{arrayValue:{values:t}}}class Vh extends hf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function H0(n){return Mt(n.integerValue||n.doubleValue)}function dS(n){return fg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t){this.field=e,this.transform=t}}function SD(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Ba&&s instanceof Ba||r instanceof _u&&s instanceof _u?za(r.elements,s.elements,yi):r instanceof Vh&&s instanceof Vh?yi(r.Re,s.Re):r instanceof vu&&s instanceof vu}(n.transform,e.transform)}class ID{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ff{}function mS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gg(n.key,Er.none()):new bu(n.key,n.data,Er.none());{const t=n.data,r=Hn.empty();let s=new Gt(fn.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new to(n.key,r,new ir(s.toArray()),Er.none())}}function RD(n,e,t){n instanceof bu?function(s,a,u){const f=s.value.clone(),d=q0(s.fieldTransforms,a,u.transformResults);f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof to?function(s,a,u){if(!dh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const f=q0(s.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(gS(s)),d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function iu(n,e,t,r){return n instanceof bu?function(a,u,f,d){if(!dh(a.precondition,u))return f;const p=a.value.clone(),v=G0(a.fieldTransforms,d,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof to?function(a,u,f,d){if(!dh(a.precondition,u))return f;const p=G0(a.fieldTransforms,d,u),v=u.data;return v.setAll(gS(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,f){return dh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function CD(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=cS(r.transform,s||null);a!=null&&(t===null&&(t=Hn.empty()),t.set(r.field,a))}return t||null}function W0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&za(r,s,(a,u)=>SD(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bu extends ff{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class to extends ff{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function gS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function q0(n,e,t){const r=new Map;ct(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,f=e.data.field(a.field);r.set(a.field,TD(u,f,t[s]))}return r}function G0(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,ED(a,u,e))}return r}class gg extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AD extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&RD(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=iu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=iu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=lS();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(s.key)?null:f;const d=mS(u,f);d!==null&&r.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),et())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,(t,r)=>W0(t,r))&&za(this.baseMutations,e.baseMutations,(t,r)=>W0(t,r))}}class yg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ct(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return gD}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new yg(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,it;function xD(n){switch(n){case te.OK:return Me(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Me(15467,{code:n})}}function yS(n){if(n===void 0)return qi("GRPC error has no .code"),te.UNKNOWN;switch(n){case zt.OK:return te.OK;case zt.CANCELLED:return te.CANCELLED;case zt.UNKNOWN:return te.UNKNOWN;case zt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case zt.INTERNAL:return te.INTERNAL;case zt.UNAVAILABLE:return te.UNAVAILABLE;case zt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case zt.NOT_FOUND:return te.NOT_FOUND;case zt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case zt.ABORTED:return te.ABORTED;case zt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case zt.DATA_LOSS:return te.DATA_LOSS;default:return Me(39323,{code:n})}}(it=zt||(zt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new Us([4294967295,4294967295],0);function K0(n){const e=UT().encode(n),t=new xT;return t.update(e),new Uint8Array(t.digest())}function Q0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Us([t,r],0),new Us([s,a],0)]}class vg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Jl(`Invalid padding: ${t}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Us.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(Us.fromNumber(r)));return s.compare(DD)===1&&(s=new Us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=K0(e),[r,s]=Q0(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);if(!this.be(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new vg(a,s,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const t=K0(e),[r,s]=Q0(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new df(je.min(),s,new bt(Ge),Gi(),et())}}class xu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xu(r,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class vS{constructor(e,t){this.targetId=e,this.Ce=t}}class _S{constructor(e,t,r=dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class X0{constructor(){this.Fe=0,this.Me=Y0(),this.xe=dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),t=et(),r=et();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Me(38017,{changeType:a})}}),new xu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Y0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ND{constructor(e){this.ze=e,this.je=new Map,this.He=Gi(),this.Je=Xc(),this.Ye=Xc(),this.Ze=new bt(Ge)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const a=s.target;if(em(a))if(r===0){const u=new De(a.path);this.tt(t,u,Tn.newNoDocument(u,je.min()))}else ct(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const f=this.ct(e),d=f?this.lt(f,e,u):1;if(d!==0){this.st(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,f;try{u=qs(r).toUint8Array()}catch(d){if(d instanceof BT)return Ua("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new vg(u,s,a)}catch(d){return Ua(d instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.pe===0?null:f}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,a,null),s++)}),s}It(e){const t=new Map;this.je.forEach((a,u)=>{const f=this._t(u);if(f){if(a.current&&em(f.target)){const d=new De(f.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,Tn.newNoDocument(d,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let r=et();this.Ye.forEach((a,u)=>{let f=!0;u.forEachWhile(d=>{const p=this._t(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const s=new df(e,t,this.Ze,this.He,r);return this.He=Gi(),this.Je=Xc(),this.Ye=Xc(),this.Ze=new bt(Ge),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new X0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Gt(Ge),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Gt(Ge),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new X0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Xc(){return new bt(De.comparator)}function Y0(){return new bt(De.comparator)}const OD={asc:"ASCENDING",desc:"DESCENDING"},LD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MD={and:"AND",or:"OR"};class VD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rm(n,e){return n.useProto3Json||of(e)?e:{value:e}}function Fh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FD(n,e){return Fh(n,e.toTimestamp())}function gi(n){return ct(!!n,49232),je.fromTimestamp(function(t){const r=Ws(t);return new qt(r.seconds,r.nanos)}(n))}function _g(n,e){return im(n,e).canonicalString()}function im(n,e){const t=function(s){return new It(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ES(n){const e=It.fromString(n);return ct(CS(e),10190,{key:e.toString()}),e}function sm(n,e){return _g(n.databaseId,e.path)}function vp(n,e){const t=ES(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(SS(t))}function TS(n,e){return _g(n.databaseId,e)}function UD(n){const e=ES(n);return e.length===4?It.emptyPath():SS(e)}function om(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SS(n){return ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function J0(n,e,t){return{name:sm(n,e),fields:t.value.mapValue.fields}}function zD(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?(ct(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(ct(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(p){const v=p.code===void 0?te.UNKNOWN:yS(p.code);return new ve(v,p.message||"")}(u);t=new _S(r,s,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=vp(n,r.document.name),a=gi(r.document.updateTime),u=r.document.createTime?gi(r.document.createTime):je.min(),f=new Hn({mapValue:{fields:r.document.fields}}),d=Tn.newFoundDocument(s,a,u,f),p=r.targetIds||[],v=r.removedTargetIds||[];t=new ph(p,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=vp(n,r.document),a=r.readTime?gi(r.readTime):je.min(),u=Tn.newNoDocument(s,a),f=r.removedTargetIds||[];t=new ph([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=vp(n,r.document),a=r.removedTargetIds||[];t=new ph([],a,s,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new bD(s,a),f=r.targetId;t=new vS(f,u)}}return t}function jD(n,e){let t;if(e instanceof bu)t={update:J0(n,e.key,e.value)};else if(e instanceof gg)t={delete:sm(n,e.key)};else if(e instanceof to)t={update:J0(n,e.key,e.data),updateMask:XD(e.fieldMask)};else{if(!(e instanceof AD))return Me(16599,{ft:e.type});t={verify:sm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof vu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ba)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof _u)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Vh)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw Me(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:FD(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)}(n,e.precondition)),t}function $D(n,e){return n&&n.length>0?(ct(e!==void 0,14353),n.map(t=>function(s,a){let u=s.updateTime?gi(s.updateTime):gi(a);return u.isEqual(je.min())&&(u=gi(a)),new ID(u,s.transformResults||[])}(t,e))):[]}function BD(n,e){return{documents:[TS(n,e.path)]}}function HD(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=TS(n,s);const a=function(p){if(p.length!==0)return RS(qr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(E){return{field:ba(E.field),direction:GD(E.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=rm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function WD(n){let e=UD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ct(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const E=IS(w);return E instanceof qr&&ZT(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(P){return new yu(xa(P.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(w){let E;return E=typeof w=="object"?w.value:w,of(E)?null:E}(t.limit));let d=null;t.startAt&&(d=function(w){const E=!!w.before,I=w.values||[];return new Mh(I,E)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const E=!w.before,I=w.values||[];return new Mh(I,E)}(t.endAt)),hD(e,s,u,a,f,"F",d,p)}function qD(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=xa(t.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xa(t.unaryFilter.field);return $t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=xa(t.unaryFilter.field);return $t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=xa(t.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(n):n.fieldFilter!==void 0?function(t){return $t.create(xa(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return qr.create(t.compositeFilter.filters.map(r=>IS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(t.compositeFilter.op))}(n):Me(30097,{filter:n})}function GD(n){return OD[n]}function KD(n){return LD[n]}function QD(n){return MD[n]}function ba(n){return{fieldPath:n.canonicalString()}}function xa(n){return fn.fromServerFormat(n.fieldPath)}function RS(n){return n instanceof $t?function(t){if(t.op==="=="){if(U0(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NAN"}};if(F0(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(U0(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NOT_NAN"}};if(F0(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(t.field),op:KD(t.op),value:t.value}}}(n):n instanceof qr?function(t){const r=t.getFilters().map(s=>RS(s));return r.length===1?r[0]:{compositeFilter:{op:QD(t.op),filters:r}}}(n):Me(54877,{filter:n})}function XD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,s,a=je.min(),u=je.min(),f=dn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.wt=e}}function JD(n){const e=WD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.yn=new eN}addToCollectionParentIndex(e,t){return this.yn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Hs.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class eN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Gt(It.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Gt(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AS=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(AS,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ha(0)}static ir(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="LruGarbageCollector",tN=1048576;function tw([n,e],[t,r]){const s=Ge(n,t);return s===0?Ge(e,r):s}class nN{constructor(e){this.cr=e,this.buffer=new Gt(tw),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();tw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ye(ew,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){tl(t)?ye(ew,"Ignoring IndexedDB error during garbage collection: ",t):await el(t)}await this.Ir(3e5)})}}class iN{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(sf.le);const r=new nN(t);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Z0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z0):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,s,a,u,f,d,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,f=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),Pa()<=Ze.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${a} targets in `+(d-f)+`ms
	Removed ${w} documents in `+(p-d)+`ms
Total Duration: ${p-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function sN(n,e){return new iN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.changes=new Bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&iu(r.mutation,s,ir.empty(),qt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,t,r=et()){const s=Do();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Yl();return a.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Do();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,et()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,s){let a=Gi();const u=ru(),f=function(){return ru()}();return t.forEach((d,p)=>{const v=r.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof to)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),iu(v.mutation,p,v.mutation.getFieldMask(),qt.now())):u.set(p.key,ir.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,v)=>u.set(p,v)),t.forEach((p,v)=>{var w;return f.set(p,new aN(v,(w=u.get(p))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const r=ru();let s=new bt((u,f)=>u-f),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let v=r.get(d)||ir.empty();v=f.applyToLocalView(p,v),r.set(d,v);const w=(s.get(f.batchId)||et()).add(d);s=s.insert(f.batchId,w)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),p=d.key,v=d.value,w=lS();v.forEach(E=>{if(!a.has(E)){const I=mS(t.get(E),r.get(E));I!==null&&w.set(E,I),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ne.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return De.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):ne.resolve(Do());let f=du,d=a;return u.next(p=>ne.forEach(p,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),a.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{d=d.insert(v,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,et())).next(v=>({batchId:f,changes:aS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let s=Yl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Yl();return this.indexManager.getCollectionParents(e,a).next(f=>ne.forEach(f,d=>{const p=function(w,E){return new nl(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(v=>{v.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((d,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Tn.newInvalidDocument(v)))});let f=Yl();return u.forEach((d,p)=>{const v=a.get(d);v!==void 0&&iu(v.mutation,p,ir.empty(),qt.now()),cf(t,p)&&(f=f.insert(d,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:gi(s.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:JD(s.bundledQuery),readTime:gi(s.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.overlays=new bt(De.comparator),this.Or=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Do();return ne.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.St(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const s=Do(),a=t.length+1,u=new De(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new bt((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=Do(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Do(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,v)=>f.set(p,v)),!(f.size()>=s)););return ne.resolve(f)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new kD(t,r));let a=this.Or.get(t);a===void 0&&(a=et(),this.Or.set(t,a)),this.Or.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.Nr=new Gt(nn.Br),this.Lr=new Gt(nn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new nn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new nn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new De(new It([])),r=new nn(t,e),s=new nn(t,e+1),a=[];return this.Lr.forEachInRange([r,s],u=>{this.Qr(u),a.push(u.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new De(new It([])),r=new nn(t,e),s=new nn(t,e+1);let a=et();return this.Lr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new nn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return De.comparator(e.key,t.key)||Ge(e.Gr,t.Gr)}static kr(e,t){return Ge(e.Gr,t.Gr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Gt(nn.Br)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new PD(a,t,r,s);this.mutationQueue.push(u);for(const f of s)this.zr=this.zr.add(new nn(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Hr(r),a=s<0?0:s;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?cg:this.Jn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new nn(t,0),s=new nn(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,s],u=>{const f=this.jr(u.Gr);a.push(f)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gt(Ge);return t.forEach(s=>{const a=new nn(s,0),u=new nn(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,u],f=>{r=r.add(f.Gr)})}),ne.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const u=new nn(new De(a),0);let f=new Gt(Ge);return this.zr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(f=f.add(d.Gr)),!0)},u),ne.resolve(this.Jr(f))}Jr(e){const t=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ct(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return ne.forEach(t.mutations,s=>{const a=new nn(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new nn(t,0),s=this.zr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.Zr=e,this.docs=function(){return new bt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let r=Gi();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Tn.newInvalidDocument(s))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Gi();const u=t.path,f=new De(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Bx($x(v),r)<=0||(s.has(v.key)||cf(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Me(9500)}Xr(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new pN(this)}getSize(e){return ne.resolve(this.size)}}class pN extends oN{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.persistence=e,this.ei=new Bo(t=>dg(t),pg),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.ti=0,this.ni=new wg,this.targetCount=0,this.ri=Ha.rr()}forEachTarget(e,t){return this.ei.forEach((r,s)=>t(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),ne.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Ha(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.ar(t),ne.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ei.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.ei.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ne.waitFor(a).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t){this.ii={},this.overlays={},this.si=new sf(0),this.oi=!1,this.oi=!0,this._i=new hN,this.referenceDelegate=e(this),this.ai=new mN(this),this.indexManager=new ZD,this.remoteDocumentCache=function(s){return new dN(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new YD(t),this.ci=new uN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new fN(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const s=new gN(this.si.next());return this.referenceDelegate.li(),r(s).next(a=>this.referenceDelegate.hi(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Pi(e,t){return ne.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class gN extends Wx{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Ti=new wg,this.Ii=null}static Ei(e){return new Eg(e)}get di(){if(this.Ii)return this.Ii;throw Me(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,r=>{const s=De.fromPath(r);return this.Ai(e,s).next(a=>{a||t.removeEntry(s,je.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ne.or([()=>ne.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Uh{constructor(e,t){this.persistence=e,this.Ri=new Bo(r=>Kx(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=sN(this,t)}static Ei(e,t){return new Uh(e,t)}li(){}hi(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return ne.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(a=>a?ne.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Xr(e,u=>this.gr(e,u,t).next(f=>{f||(r++,a.removeEntry(u,je.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ne.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hh(e.data.value)),t}gr(e,t,r){return ne.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=s}static Ps(e,t){let r=et(),s=et();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Tg(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Z1()?8:qx(In())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Vs(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new yN;return this.fs(e,t,u).next(f=>{if(a.result=f,this.Is)return this.gs(e,t,u,f.size)})}).next(()=>a.result)}gs(e,t,r,s){return r.documentReadCount<this.Es?(Pa()<=Ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",ka(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ne.resolve()):(Pa()<=Ze.DEBUG&&ye("QueryEngine","Query:",ka(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Pa()<=Ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",ka(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(t))):ne.resolve())}Rs(e,t){if(B0(t))return ne.resolve(null);let r=mi(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=nm(t,null,"F"),r=mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=et(...a);return this.As.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.ps(t,f);return this.ys(t,p,u,d.readTime)?this.Rs(e,nm(t,null,"F")):this.ws(e,p,t,d)}))})))}Vs(e,t,r,s){return B0(t)||s.isEqual(je.min())?ne.resolve(null):this.As.getDocuments(e,r).next(a=>{const u=this.ps(t,a);return this.ys(t,u,r,s)?ne.resolve(null):(Pa()<=Ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ka(t)),this.ws(e,u,t,jx(s,du)).next(f=>f))})}ps(e,t){let r=new Gt(sS(e));return t.forEach((s,a)=>{cf(e,a)&&(r=r.add(a))}),r}ys(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}fs(e,t,r){return Pa()<=Ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",ka(t)),this.As.getDocumentsMatchingQuery(e,t,Hs.min(),r)}ws(e,t,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="LocalStore",_N=3e8;class wN{constructor(e,t,r,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new bt(Ge),this.Ds=new Bo(a=>dg(a),pg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lN(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function EN(n,e,t,r){return new wN(n,e,t,r)}async function kS(n,e){const t=Be(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let d=et();for(const p of s){u.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}for(const p of a){f.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:f}))})})}function TN(n,e){const t=Be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(f,d,p,v){const w=p.batch,E=w.keys();let I=ne.resolve();return E.forEach(P=>{I=I.next(()=>v.getEntry(d,P)).next(D=>{const C=p.docVersions.get(P);ct(C!==null,48541),D.version.compareTo(C)<0&&(w.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),v.addEntry(D)))})}),I.next(()=>f.mutationQueue.removeMutationBatch(d,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let d=et();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(d=d.add(f.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function bS(n){const e=Be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function SN(n,e){const t=Be(n),r=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const f=[];e.targetChanges.forEach((v,w)=>{const E=s.get(w);if(!E)return;f.push(t.ai.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.ai.addMatchingKeys(a,v.addedDocuments,w)));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(dn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),s=s.insert(w,I),function(D,C,O){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=_N?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,I,v)&&f.push(t.ai.updateTargetData(a,I))});let d=Gi(),p=et();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(IN(a,u,e.documentUpdates).next(v=>{d=v.xs,p=v.Os})),!r.isEqual(je.min())){const v=t.ai.getLastRemoteSnapshotVersion(a).next(w=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(v)}return ne.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(t.Ss=s,a))}function IN(n,e,t){let r=et(),s=et();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Gi();return t.forEach((f,d)=>{const p=a.get(f);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(f)),d.isNoDocument()&&d.version.isEqual(je.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):ye(Sg,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),{xs:u,Os:s}})}function RN(n,e){const t=Be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CN(n,e){const t=Be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.ai.getTargetData(r,e).next(a=>a?(s=a,ne.resolve(s)):t.ai.allocateTargetId(r).next(u=>(s=new Os(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function am(n,e,t){const r=Be(n),s=r.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!tl(u))throw u;ye(Sg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function nw(n,e,t){const r=Be(n);let s=je.min(),a=et();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,v){const w=Be(d),E=w.Ds.get(v);return E!==void 0?ne.resolve(w.Ss.get(E)):w.ai.getTargetData(p,v)}(r,u,mi(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,f.targetId).next(d=>{a=d})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?s:je.min(),t?a:et())).next(f=>(AN(r,dD(e),f),{documents:f,Ns:a})))}function AN(n,e,t){let r=n.vs.get(e)||je.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.vs.set(e,r)}class rw{constructor(){this.activeTargetIds=_D()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PN{constructor(){this.So=new rw,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new rw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="ConnectivityMonitor";class sw{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ye(iw,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ye(iw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function lm(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="RestConnection",bN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xN{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Oh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,t,r,s,a){const u=lm(),f=this.$o(e,t.toUriEncodedString());ye(_p,`Sending RPC '${e}' ${u}:`,f,r);const d={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(d,s,a),this.Ko(e,f,d,r).then(p=>(ye(_p,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Ua(_p,`RPC '${e}' ${u} failed with error: `,p,"url: ",f,"request:",r),p})}Wo(e,t,r,s,a,u){return this.Qo(e,t,r,s,a)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}$o(e,t){const r=bN[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class NN extends xN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,s){const a=lm();return new Promise((u,f)=>{const d=new DT;d.setWithCredentials(!0),d.listenOnce(NT.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ch.NO_ERROR:const v=d.getResponseJson();ye(wn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case ch.TIMEOUT:ye(wn,`RPC '${e}' ${a} timed out`),f(new ve(te.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const w=d.getStatus();if(ye(wn,`RPC '${e}' ${a} failed with status:`,w,"response text:",d.getResponseText()),w>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const P=function(C){const O=C.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(O)>=0?O:te.UNKNOWN}(I.status);f(new ve(P,I.message))}else f(new ve(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ve(te.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{s_:e,streamId:a,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{ye(wn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);ye(wn,`RPC '${e}' ${a} sending request:`,s),d.send(t,"POST",p,r,15)})}a_(e,t,r){const s=lm(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=MT(),f=LT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Uo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const v=a.join("");ye(wn,`Creating RPC '${e}' stream ${s}: ${v}`,d);const w=u.createWebChannel(v,d);let E=!1,I=!1;const P=new DN({Go:C=>{I?ye(wn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(E||(ye(wn,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),ye(wn,`RPC '${e}' stream ${s} sending:`,C),w.send(C))},zo:()=>w.close()}),D=(C,O,z)=>{C.listen(O,W=>{try{z(W)}catch(X){setTimeout(()=>{throw X},0)}})};return D(w,Xl.EventType.OPEN,()=>{I||(ye(wn,`RPC '${e}' stream ${s} transport opened.`),P.t_())}),D(w,Xl.EventType.CLOSE,()=>{I||(I=!0,ye(wn,`RPC '${e}' stream ${s} transport closed`),P.r_())}),D(w,Xl.EventType.ERROR,C=>{I||(I=!0,Ua(wn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),P.r_(new ve(te.UNAVAILABLE,"The operation could not be completed")))}),D(w,Xl.EventType.MESSAGE,C=>{var O;if(!I){const z=C.data[0];ct(!!z,16349);const W=z,X=(W==null?void 0:W.error)||((O=W[0])===null||O===void 0?void 0:O.error);if(X){ye(wn,`RPC '${e}' stream ${s} received error:`,X);const Y=X.status;let L=function(A){const N=zt[A];if(N!==void 0)return yS(N)}(Y),k=X.message;L===void 0&&(L=te.INTERNAL,k="Unknown error status: "+Y+" with message "+X.message),I=!0,P.r_(new ve(L,k)),w.close()}else ye(wn,`RPC '${e}' stream ${s} received:`,z),P.i_(z)}}),D(f,OT.STAT_EVENT,C=>{C.stat===Qp.PROXY?ye(wn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Qp.NOPROXY&&ye(wn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{P.n_()},0),P}}function wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(n){return new VD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t,r=1e3,s=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=s,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="PersistentStream";class DS{constructor(e,t,r,s,a,u,f,d){this.bi=e,this.R_=r,this.V_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new xS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(qi(t.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===t&&this.B_(r,s)},r=>{e(()=>{const s=new ve(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ye(ow,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ye(ow,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ON extends DS{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=zD(this.serializer,e),r=function(a){if(!("targetChange"in a))return je.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?je.min():u.readTime?gi(u.readTime):je.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=om(this.serializer),t.addTarget=function(a,u){let f;const d=u.target;if(f=em(d)?{documents:BD(a,d)}:{query:HD(a,d).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=wS(a,u.resumeToken);const p=rm(a,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(je.min())>0){f.readTime=Fh(a,u.snapshotVersion.toTimestamp());const p=rm(a,u.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=qD(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=om(this.serializer),t.removeTarget=e,this.F_(t)}}class LN extends DS{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=$D(e.writeResults,e.commitTime),r=gi(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=om(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jD(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{}class VN extends MN{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Qo(e,im(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(te.UNKNOWN,a.toString())})}Wo(e,t,r,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,im(t,r),s,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(te.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class FN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(qi(t),this.ea=!1):ye("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="RemoteStore";class UN{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(u=>{r.enqueueAndForget(async()=>{Ho(this)&&(ye(Uo,"Restarting streams for network reachability change."),await async function(d){const p=Be(d);p.aa.add(4),await Du(p),p.la.set("Unknown"),p.aa.delete(4),await mf(p)}(this))})}),this.la=new FN(r,s)}}async function mf(n){if(Ho(n))for(const e of n.ua)await e(!0)}async function Du(n){for(const e of n.ua)await e(!1)}function NS(n,e){const t=Be(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Ag(t)?Cg(t):rl(t).b_()&&Rg(t,e))}function Ig(n,e){const t=Be(n),r=rl(t);t._a.delete(e),r.b_()&&OS(t,e),t._a.size===0&&(r.b_()?r.v_():Ho(t)&&t.la.set("Unknown"))}function Rg(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rl(n).U_(e)}function OS(n,e){n.ha.Ke(e),rl(n).K_(e)}function Cg(n){n.ha=new ND({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),rl(n).start(),n.la.ta()}function Ag(n){return Ho(n)&&!rl(n).w_()&&n._a.size>0}function Ho(n){return Be(n).aa.size===0}function LS(n){n.ha=void 0}async function zN(n){n.la.set("Online")}async function jN(n){n._a.forEach((e,t)=>{Rg(n,e)})}async function $N(n,e){LS(n),Ag(n)?(n.la.ia(e),Cg(n)):n.la.set("Unknown")}async function BN(n,e,t){if(n.la.set("Online"),e instanceof _S&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const f of a.targetIds)s._a.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s._a.delete(f),s.ha.removeTarget(f))}(n,e)}catch(r){ye(Uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zh(n,r)}else if(e instanceof ph?n.ha.Xe(e):e instanceof vS?n.ha.ot(e):n.ha.nt(e),!t.isEqual(je.min()))try{const r=await bS(n.localStore);t.compareTo(r)>=0&&await function(a,u){const f=a.ha.It(u);return f.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=a._a.get(p);v&&a._a.set(p,v.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,p)=>{const v=a._a.get(d);if(!v)return;a._a.set(d,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),OS(a,d);const w=new Os(v.target,d,p,v.sequenceNumber);Rg(a,w)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){ye(Uo,"Failed to raise snapshot:",r),await zh(n,r)}}async function zh(n,e,t){if(!tl(e))throw e;n.aa.add(1),await Du(n),n.la.set("Offline"),t||(t=()=>bS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Uo,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await mf(n)})}function MS(n,e){return e().catch(t=>zh(n,t,e))}async function gf(n){const e=Be(n),t=Ks(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:cg;for(;HN(e);)try{const s=await RN(e.localStore,r);if(s===null){e.oa.length===0&&t.v_();break}r=s.batchId,WN(e,s)}catch(s){await zh(e,s)}VS(e)&&FS(e)}function HN(n){return Ho(n)&&n.oa.length<10}function WN(n,e){n.oa.push(e);const t=Ks(n);t.b_()&&t.W_&&t.G_(e.mutations)}function VS(n){return Ho(n)&&!Ks(n).w_()&&n.oa.length>0}function FS(n){Ks(n).start()}async function qN(n){Ks(n).H_()}async function GN(n){const e=Ks(n);for(const t of n.oa)e.G_(t.mutations)}async function KN(n,e,t){const r=n.oa.shift(),s=yg.from(r,e,t);await MS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await gf(n)}async function QN(n,e){e&&Ks(n).W_&&await async function(r,s){if(function(u){return xD(u)&&u!==te.ABORTED}(s.code)){const a=r.oa.shift();Ks(r).D_(),await MS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await gf(r)}}(n,e),VS(n)&&FS(n)}async function aw(n,e){const t=Be(n);t.asyncQueue.verifyOperationInProgress(),ye(Uo,"RemoteStore received new credentials");const r=Ho(t);t.aa.add(3),await Du(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await mf(t)}async function XN(n,e){const t=Be(n);e?(t.aa.delete(2),await mf(t)):e||(t.aa.add(2),await Du(t),t.la.set("Unknown"))}function rl(n){return n.Pa||(n.Pa=function(t,r,s){const a=Be(t);return a.Y_(),new ON(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{jo:zN.bind(null,n),Jo:jN.bind(null,n),Zo:$N.bind(null,n),Q_:BN.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Ag(n)?Cg(n):n.la.set("Unknown")):(await n.Pa.stop(),LS(n))})),n.Pa}function Ks(n){return n.Ta||(n.Ta=function(t,r,s){const a=Be(t);return a.Y_(),new LN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:qN.bind(null,n),Zo:QN.bind(null,n),z_:GN.bind(null,n),j_:KN.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await gf(n)):(await n.Ta.stop(),n.oa.length>0&&(ye(Uo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,f=new Pg(e,t,u,s,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(n,e){if(qi("AsyncQueue",`${e}: ${n}`),tl(n))return new ve(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{static emptySet(e){return new Ma(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=Yl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ma;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.Ia=new bt(De.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Me(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Wa{constructor(e,t,r,s,a,u,f,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Wa(e,t,Ma.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class JN{constructor(){this.queries=uw(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const s=Be(t),a=s.queries;s.queries=uw(),a.forEach((u,f)=>{for(const d of f.Ra)d.onError(r)})})(this,new ve(te.ABORTED,"Firestore shutting down"))}}function uw(){return new Bo(n=>iS(n),uf)}async function bg(n,e){const t=Be(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Va()&&e.ma()&&(r=2):(a=new YN,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await t.onListen(s,!0);break;case 1:a.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const f=kg(u,`Initialization of query '${ka(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&Dg(t)}async function xg(n,e){const t=Be(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.Ra.indexOf(e);u>=0&&(a.Ra.splice(u,1),a.Ra.length===0?s=e.ma()?0:1:!a.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function ZN(n,e){const t=Be(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const f of u.Ra)f.pa(s)&&(r=!0);u.Aa=s}}r&&Dg(t)}function eO(n,e,t){const r=Be(n),s=r.queries.get(e);if(s)for(const a of s.Ra)a.onError(t);r.queries.delete(e)}function Dg(n){n.fa.forEach(e=>{e.next()})}var um,cw;(cw=um||(um={})).ya="default",cw.Cache="cache";class Ng{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.key=e}}class zS{constructor(e){this.key=e}}class tO{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=et(),this.mutatedKeys=et(),this.Ua=sS(e),this.Ka=new Ma(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new lw,s=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,f=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,w)=>{const E=s.get(v),I=cf(this.query,w)?w:null,P=!!E&&this.mutatedKeys.has(E.key),D=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let C=!1;E&&I?E.data.isEqual(I.data)?P!==D&&(r.track({type:3,doc:I}),C=!0):this.ja(E,I)||(r.track({type:2,doc:I}),C=!0,(d&&this.Ua(I,d)>0||p&&this.Ua(I,p)<0)&&(f=!0)):!E&&I?(r.track({type:0,doc:I}),C=!0):E&&!I&&(r.track({type:1,doc:E}),C=!0,(d||p)&&(f=!0)),C&&(I?(u=u.add(I),a=D?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{Ka:u,za:r,ys:f,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((v,w)=>function(I,P){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:C})}};return D(I)-D(P)}(v.type,w.type)||this.Ua(v.doc,w.doc)),this.Ha(r),s=s!=null&&s;const f=t&&!s?this.Ja():[],d=this.$a.size===0&&this.current&&!s?1:0,p=d!==this.Qa;return this.Qa=d,u.length!==0||p?{snapshot:new Wa(this.query,e.Ka,a,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:f}:{Ya:f}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new lw,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=et(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new zS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new US(r))}),t}Xa(e){this.qa=e.Ns,this.$a=et();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Wa.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Og="SyncEngine";class nO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class rO{constructor(e){this.key=e,this.tu=!1}}class iO{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Bo(f=>iS(f),uf),this.iu=new Map,this.su=new Set,this.ou=new bt(De.comparator),this._u=new Map,this.au=new wg,this.uu={},this.cu=new Map,this.lu=Ha.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function sO(n,e,t=!0){const r=qS(n);let s;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.eu()):s=await jS(r,e,t,!0),s}async function oO(n,e){const t=qS(n);await jS(t,e,!0,!1)}async function jS(n,e,t,r){const s=await CN(n.localStore,mi(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await aO(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&NS(n.remoteStore,s),f}async function aO(n,e,t,r,s){n.Pu=(w,E,I)=>async function(D,C,O,z){let W=C.view.Ga(O);W.ys&&(W=await nw(D.localStore,C.query,!1).then(({documents:k})=>C.view.Ga(k,W)));const X=z&&z.targetChanges.get(C.targetId),Y=z&&z.targetMismatches.get(C.targetId)!=null,L=C.view.applyChanges(W,D.isPrimaryClient,X,Y);return fw(D,C.targetId,L.Ya),L.snapshot}(n,w,E,I);const a=await nw(n.localStore,e,!0),u=new tO(e,a.Ns),f=u.Ga(a.documents),d=xu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(f,n.isPrimaryClient,d);fw(n,t,p.Ya);const v=new nO(e,t,u);return n.ru.set(e,v),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function lO(n,e,t){const r=Be(n),s=r.ru.get(e),a=r.iu.get(s.targetId);if(a.length>1)return r.iu.set(s.targetId,a.filter(u=>!uf(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await am(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Ig(r.remoteStore,s.targetId),cm(r,s.targetId)}).catch(el)):(cm(r,s.targetId),await am(r.localStore,s.targetId,!0))}async function uO(n,e){const t=Be(n),r=t.ru.get(e),s=t.iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ig(t.remoteStore,r.targetId))}async function cO(n,e,t){const r=yO(n);try{const s=await function(u,f){const d=Be(u),p=qt.now(),v=f.reduce((I,P)=>I.add(P.key),et());let w,E;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let P=Gi(),D=et();return d.Cs.getEntries(I,v).next(C=>{P=C,P.forEach((O,z)=>{z.isValidDocument()||(D=D.add(O))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,P)).next(C=>{w=C;const O=[];for(const z of f){const W=CD(z,w.get(z.key).overlayedDocument);W!=null&&O.push(new to(z.key,W,XT(W.value.mapValue),Er.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,O,f)}).next(C=>{E=C;const O=C.applyToLocalDocumentSet(w,D);return d.documentOverlayCache.saveOverlays(I,C.batchId,O)})}).then(()=>({batchId:E.batchId,changes:aS(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,f,d){let p=u.uu[u.currentUser.toKey()];p||(p=new bt(Ge)),p=p.insert(f,d),u.uu[u.currentUser.toKey()]=p}(r,s.batchId,t),await Nu(r,s.changes),await gf(r.remoteStore)}catch(s){const a=kg(s,"Failed to persist write");t.reject(a)}}async function $S(n,e){const t=Be(n);try{const r=await SN(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t._u.get(a);u&&(ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.tu=!0:s.modifiedDocuments.size>0?ct(u.tu,14607):s.removedDocuments.size>0&&(ct(u.tu,42227),u.tu=!1))}),await Nu(t,r,e)}catch(r){await el(r)}}function hw(n,e,t){const r=Be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ru.forEach((a,u)=>{const f=u.view.ga(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const d=Be(u);d.onlineState=f;let p=!1;d.queries.forEach((v,w)=>{for(const E of w.Ra)E.ga(f)&&(p=!0)}),p&&Dg(d)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hO(n,e,t){const r=Be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r._u.get(e),a=s&&s.key;if(a){let u=new bt(De.comparator);u=u.insert(a,Tn.newNoDocument(a,je.min()));const f=et().add(a),d=new df(je.min(),new Map,new bt(Ge),u,f);await $S(r,d),r.ou=r.ou.remove(a),r._u.delete(e),Lg(r)}else await am(r.localStore,e,!1).then(()=>cm(r,e,t)).catch(el)}async function fO(n,e){const t=Be(n),r=e.batch.batchId;try{const s=await TN(t.localStore,e);HS(t,r,null),BS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Nu(t,s)}catch(s){await el(s)}}async function dO(n,e,t){const r=Be(n);try{const s=await function(u,f){const d=Be(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return d.mutationQueue.lookupMutationBatch(p,f).next(w=>(ct(w!==null,37113),v=w.keys(),d.mutationQueue.removeMutationBatch(p,w))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>d.localDocuments.getDocuments(p,v))})}(r.localStore,e);HS(r,e,t),BS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Nu(r,s)}catch(s){await el(s)}}function BS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function HS(n,e,t){const r=Be(n);let s=r.uu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function cm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||WS(n,r)})}function WS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Ig(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Lg(n))}function fw(n,e,t){for(const r of t)r instanceof US?(n.au.addReference(r.key,e),pO(n,r)):r instanceof zS?(ye(Og,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||WS(n,r.key)):Me(19791,{Iu:r})}function pO(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(ye(Og,"New document in limbo: "+t),n.su.add(r),Lg(n))}function Lg(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new De(It.fromString(e)),r=n.lu.next();n._u.set(r,new rO(t)),n.ou=n.ou.insert(t,r),NS(n.remoteStore,new Os(mi(lf(t.path)),r,"TargetPurposeLimboResolution",sf.le))}}async function Nu(n,e,t){const r=Be(n),s=[],a=[],u=[];r.ru.isEmpty()||(r.ru.forEach((f,d)=>{u.push(r.Pu(d,e,t).then(p=>{var v;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(d.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(d.targetId,w?"current":"not-current")}if(p){s.push(p);const w=Tg.Ps(d.targetId,p);a.push(w)}}))}),await Promise.all(u),r.nu.Q_(s),await async function(d,p){const v=Be(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(p,E=>ne.forEach(E.ls,I=>v.persistence.referenceDelegate.addReference(w,E.targetId,I)).next(()=>ne.forEach(E.hs,I=>v.persistence.referenceDelegate.removeReference(w,E.targetId,I)))))}catch(w){if(!tl(w))throw w;ye(Sg,"Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const I=v.Ss.get(E),P=I.snapshotVersion,D=I.withLastLimboFreeSnapshotVersion(P);v.Ss=v.Ss.insert(E,D)}}}(r.localStore,a))}async function mO(n,e){const t=Be(n);if(!t.currentUser.isEqual(e)){ye(Og,"User change. New user:",e.toKey());const r=await kS(t.localStore,e);t.currentUser=e,function(a,u){a.cu.forEach(f=>{f.forEach(d=>{d.reject(new ve(te.CANCELLED,u))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nu(t,r.Ms)}}function gO(n,e){const t=Be(n),r=t._u.get(e);if(r&&r.tu)return et().add(r.key);{let s=et();const a=t.iu.get(e);if(!a)return s;for(const u of a){const f=t.ru.get(u);s=s.unionWith(f.view.Wa)}return s}}function qS(n){const e=Be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hO.bind(null,e),e.nu.Q_=ZN.bind(null,e.eventManager),e.nu.Tu=eO.bind(null,e.eventManager),e}function yO(n){const e=Be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dO.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return EN(this.persistence,new vN,e.initialUser,this.serializer)}Ru(e){return new PS(Eg.Ei,this.serializer)}Au(e){return new PN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class vO extends jh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){ct(this.persistence.referenceDelegate instanceof Uh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rN(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new PS(r=>Uh.Ei(r,t),this.serializer)}}class hm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mO.bind(null,this.syncEngine),await XN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JN}()}createDatastore(e){const t=pf(e.databaseInfo.databaseId),r=function(a){return new NN(a)}(e.databaseInfo);return function(a,u,f,d){return new VN(a,u,f,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,f){return new UN(r,s,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>hw(this.syncEngine,t,0),function(){return sw.C()?new sw:new kN}())}createSyncEngine(e,t){return function(s,a,u,f,d,p,v){const w=new iO(s,a,u,f,d,p);return v&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Be(s);ye(Uo,"RemoteStore shutting down."),a.aa.add(5),await Du(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}hm.provider={build:()=>new hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class _O{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=En.UNAUTHENTICATED,this.clientId=zT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ye(Qs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ye(Qs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=kg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ep(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Qs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await kS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function dw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await wO(n);ye(Qs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>aw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>aw(e.remoteStore,s)),n._onlineComponents=e}async function wO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Qs,"Using user provided OfflineComponentProvider");try{await Ep(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Ua("Error using user provided cache. Falling back to memory cache: "+t),await Ep(n,new jh)}}else ye(Qs,"Using default OfflineComponentProvider"),await Ep(n,new vO(void 0));return n._offlineComponents}async function GS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Qs,"Using user provided OnlineComponentProvider"),await dw(n,n._uninitializedComponentsProvider._online)):(ye(Qs,"Using default OnlineComponentProvider"),await dw(n,new hm))),n._onlineComponents}function EO(n){return GS(n).then(e=>e.syncEngine)}async function $h(n){const e=await GS(n),t=e.eventManager;return t.onListen=sO.bind(null,e.syncEngine),t.onUnlisten=lO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uO.bind(null,e.syncEngine),t}function TO(n,e,t={}){const r=new Bi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,d,p){const v=new Mg({next:E=>{v.yu(),u.enqueueAndForget(()=>xg(a,w));const I=E.docs.has(f);!I&&E.fromCache?p.reject(new ve(te.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&d&&d.source==="server"?p.reject(new ve(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new Ng(lf(f.path),v,{includeMetadataChanges:!0,Fa:!0});return bg(a,w)}(await $h(n),n.asyncQueue,e,t,r)),r.promise}function SO(n,e,t={}){const r=new Bi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,d,p){const v=new Mg({next:E=>{v.yu(),u.enqueueAndForget(()=>xg(a,w)),E.fromCache&&d.source==="server"?p.reject(new ve(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new Ng(f,v,{includeMetadataChanges:!0,Fa:!0});return bg(a,w)}(await $h(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n,e,t){if(!t)throw new ve(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IO(n,e,t,r){if(e===!0&&r===!0)throw new ve(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mw(n){if(!De.isDocumentKey(n))throw new ve(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gw(n){if(De.isDocumentKey(n))throw new ve(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Me(12329,{type:typeof n})}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yf(n);throw new ve(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firestore.googleapis.com",yw=!0;class vw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XS,this.ssl=yw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:yw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tN)throw new ve(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Dx;switch(r.type){case"firstParty":return new Mx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=pw.get(t);r&&(ye("ComponentProvider","Removing Datastore"),pw.delete(t),r.terminate())}(this),Promise.resolve()}}function RO(n,e,t,r={}){var s;const a=(n=Wn(n,vf))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a.host!==XS&&a.host!==f&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:f,ssl:!1,emulatorOptions:r});if(!$s(d,u)&&(n._setSettings(d),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=En.MOCK_USER;else{p=qE(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ve(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new En(w)}n._authCredentials=new Nx(new FT(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class Sn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class zs extends no{constructor(e,t,r){super(e,t,lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new De(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function n4(n,e,...t){if(n=At(n),QS("collection","path",e),n instanceof vf){const r=It.fromString(e,...t);return gw(r),new zs(n,null,r)}{if(!(n instanceof Sn||n instanceof zs))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return gw(r),new zs(n.firestore,null,r)}}function YS(n,e,...t){if(n=At(n),arguments.length===1&&(e=zT.newId()),QS("doc","path",e),n instanceof vf){const r=It.fromString(e,...t);return mw(r),new Sn(n,null,new De(r))}{if(!(n instanceof Sn||n instanceof zs))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return mw(r),new Sn(n.firestore,n instanceof zs?n.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="AsyncQueue";class ww{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new xS(this,"async_queue_retry"),this.ju=()=>{const r=wp();r&&ye(_w,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=wp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=wp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Bi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!tl(e))throw e;ye(_w,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,qi("INTERNAL UNHANDLED ERROR: ",Ew(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=Pg.createAndSchedule(this,e,t,r,a=>this.Xu(a));return this.Uu.push(s),s}Ju(){this.Ku&&Me(47125,{ec:Ew(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Ew(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ki extends vf{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new ww,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ww(e),this._firestoreClient=void 0,await e}}}function CO(n,e){const t=typeof n=="object"?n:Ym(),r=typeof n=="string"?n:Oh,s=ef(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=BE("firestore");a&&RO(s,...a)}return s}function _f(n){if(n._terminated)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AO(n),n._firestoreClient}function AO(n){var e,t,r;const s=n._freezeSettings(),a=function(f,d,p,v){return new Yx(f,d,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,KS(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new _O(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qa(dn.fromBase64String(e))}catch(t){throw new ve(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qa(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=/^__.*__$/;class kO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,t,this.fieldTransforms):new bu(e,this.data,t,this.fieldTransforms)}}class JS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new to(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ZS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{oc:n})}}class Ef{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Bh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(ZS(this.oc)&&PO.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class bO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pf(e)}dc(e,t,r,s=!1){return new Ef({oc:e,methodName:t,Ec:r,path:fn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tf(n){const e=n._freezeSettings(),t=pf(n._databaseId);return new bO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eI(n,e,t,r,s,a={}){const u=n.dc(a.merge||a.mergeFields?2:0,e,t,s);jg("Data must be an object, but it was:",u,r);const f=tI(r,u);let d,p;if(a.merge)d=new ir(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const E=fm(e,w,t);if(!u.contains(E))throw new ve(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);rI(v,E)||v.push(E)}d=new ir(v),p=u.fieldTransforms.filter(w=>d.covers(w.field))}else d=null,p=u.fieldTransforms;return new kO(new Hn(f),d,p)}class Sf extends Ou{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sf}}function xO(n,e,t){return new Ef({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ug extends Ou{_toFieldTransform(e){return new pS(e.path,new vu)}isEqual(e){return e instanceof Ug}}class zg extends Ou{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=xO(this,e,!0),r=this.Ac.map(a=>il(a,t)),s=new Ba(r);return new pS(e.path,s)}isEqual(e){return e instanceof zg&&$s(this.Ac,e.Ac)}}function DO(n,e,t,r){const s=n.dc(1,e,t);jg("Data must be an object, but it was:",s,r);const a=[],u=Hn.empty();eo(r,(d,p)=>{const v=$g(e,d,t);p=At(p);const w=s.hc(v);if(p instanceof Sf)a.push(v);else{const E=il(p,w);E!=null&&(a.push(v),u.set(v,E))}});const f=new ir(a);return new JS(u,f,s.fieldTransforms)}function NO(n,e,t,r,s,a){const u=n.dc(1,e,t),f=[fm(e,r,t)],d=[s];if(a.length%2!=0)throw new ve(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)f.push(fm(e,a[E])),d.push(a[E+1]);const p=[],v=Hn.empty();for(let E=f.length-1;E>=0;--E)if(!rI(p,f[E])){const I=f[E];let P=d[E];P=At(P);const D=u.hc(I);if(P instanceof Sf)p.push(I);else{const C=il(P,D);C!=null&&(p.push(I),v.set(I,C))}}const w=new ir(p);return new JS(v,w,u.fieldTransforms)}function OO(n,e,t,r=!1){return il(t,n.dc(r?4:3,e))}function il(n,e){if(nI(n=At(n)))return jg("Unsupported field value:",e,n),tI(n,e);if(n instanceof Ou)return function(r,s){if(!ZS(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const f of r){let d=il(f,s.Pc(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qt.fromDate(r);return{timestampValue:Fh(s.serializer,a)}}if(r instanceof qt){const a=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fh(s.serializer,a)}}if(r instanceof Vg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qa)return{bytesValue:wS(s.serializer,r._byteString)};if(r instanceof Sn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_g(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Fg)return function(u,f){return{mapValue:{fields:{[KT]:{stringValue:QT},[Lh]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.Tc("VectorValues must only contain numeric values.");return mg(f.serializer,p)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${yf(r)}`)}(n,e)}function tI(n,e){const t={};return $T(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(n,(r,s)=>{const a=il(s,e.uc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function nI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof Vg||n instanceof qa||n instanceof Sn||n instanceof Ou||n instanceof Fg)}function jg(n,e,t){if(!nI(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=yf(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function fm(n,e,t){if((e=At(e))instanceof wf)return e._internalPath;if(typeof e=="string")return $g(n,e);throw Bh("Field path arguments must be of type string or ",n,!1,void 0,t)}const LO=new RegExp("[~\\*/\\[\\]]");function $g(n,e,t){if(e.search(LO)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wf(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${r}`),u&&(d+=` in document ${s}`),d+=")"),new ve(te.INVALID_ARGUMENT,f+n+d)}function rI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(If("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class MO extends iI{data(){return super.data()}}function If(n,e){return typeof e=="string"?$g(n,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class oI extends Bg{}function r4(n,e,...t){let r=[];e instanceof Bg&&r.push(e),r=r.concat(t),function(a){const u=a.filter(d=>d instanceof Hg).length,f=a.filter(d=>d instanceof Rf).length;if(u>1||u>0&&f>0)throw new ve(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Rf extends oI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Rf(e,t,r)}_apply(e){const t=this._parse(e);return aI(e._query,t),new no(e.firestore,e.converter,tm(e._query,t))}_parse(e){const t=Tf(e.firestore);return function(a,u,f,d,p,v,w){let E;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Iw(w,v);const P=[];for(const D of w)P.push(Sw(d,a,D));E={arrayValue:{values:P}}}else E=Sw(d,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Iw(w,v),E=OO(f,u,w,v==="in"||v==="not-in");return $t.create(p,v,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function i4(n,e,t){const r=e,s=If("where",n);return Rf._create(s,r,t)}class Hg extends Bg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:qr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const f=a.getFlattenedFilters();for(const d of f)aI(u,d),u=tm(u,d)}(e._query,t),new no(e.firestore,e.converter,tm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wg extends oI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wg(e,t)}_apply(e){const t=function(s,a,u){if(s.startAt!==null)throw new ve(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ve(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(a,u)}(e._query,this._field,this._direction);return new no(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new nl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function s4(n,e="asc"){const t=e,r=If("orderBy",n);return Wg._create(r,t)}function Sw(n,e,t){if(typeof(t=At(t))=="string"){if(t==="")throw new ve(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rS(e)&&t.indexOf("/")!==-1)throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(It.fromString(t));if(!De.isDocumentKey(r))throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return V0(n,new De(r))}if(t instanceof Sn)return V0(n,t._key);throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(t)}.`)}function Iw(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aI(n,e){const t=function(s,a){for(const u of s)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class VO{convertValue(e,t="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return eo(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Lh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Mt(u.doubleValue));return new Fg(a)}convertGeoPoint(e){return new Vg(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=af(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const t=Ws(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=It.fromString(e);ct(CS(r),9688,{name:e});const s=new mu(r.get(1),r.get(3)),a=new De(r.popFirst(5));return s.isEqual(t)||qi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uI extends iI{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(If("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class mh extends uI{data(e={}){return super.data(e)}}class cI{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Zl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mh(this._firestore,this._userDataWriter,r.key,r,new Zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const d=new mh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Zl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const d=new mh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Zl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:FO(f.type),doc:d,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n){n=Wn(n,Sn);const e=Wn(n.firestore,Ki);return TO(_f(e),n._key).then(t=>hI(e,n,t))}class qg extends VO{constructor(e){super(),this.firestore=e}convertBytes(e){return new qa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}function o4(n){n=Wn(n,no);const e=Wn(n.firestore,Ki),t=_f(e),r=new qg(e);return sI(n._query),SO(t,n._query).then(s=>new cI(e,r,n,s))}function a4(n,e,t){n=Wn(n,Sn);const r=Wn(n.firestore,Ki),s=lI(n.converter,e);return Cf(r,[eI(Tf(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Er.none())])}function l4(n,e,t,...r){n=Wn(n,Sn);const s=Wn(n.firestore,Ki),a=Tf(s);let u;return u=typeof(e=At(e))=="string"||e instanceof wf?NO(a,"updateDoc",n._key,e,t,r):DO(a,"updateDoc",n._key,e),Cf(s,[u.toMutation(n._key,Er.exists(!0))])}function u4(n){return Cf(Wn(n.firestore,Ki),[new gg(n._key,Er.none())])}function c4(n,e){const t=Wn(n.firestore,Ki),r=YS(n),s=lI(n.converter,e);return Cf(t,[eI(Tf(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then(()=>r)}function h4(n,...e){var t,r,s;n=At(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Tw(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Tw(e[u])){const w=e[u];e[u]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[u+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[u+2]=(s=w.complete)===null||s===void 0?void 0:s.bind(w)}let d,p,v;if(n instanceof Sn)p=Wn(n.firestore,Ki),v=lf(n._key.path),d={next:w=>{e[u]&&e[u](hI(p,n,w))},error:e[u+1],complete:e[u+2]};else{const w=Wn(n,no);p=Wn(w.firestore,Ki),v=w._query;const E=new qg(p);d={next:I=>{e[u]&&e[u](new cI(p,E,w,I))},error:e[u+1],complete:e[u+2]},sI(n._query)}return function(E,I,P,D){const C=new Mg(D),O=new Ng(I,C,P);return E.asyncQueue.enqueueAndForget(async()=>bg(await $h(E),O)),()=>{C.yu(),E.asyncQueue.enqueueAndForget(async()=>xg(await $h(E),O))}}(_f(p),v,f,d)}function Cf(n,e){return function(r,s){const a=new Bi;return r.asyncQueue.enqueueAndForget(async()=>cO(await EO(r),s,a)),a.promise}(_f(n),e)}function hI(n,e,t){const r=t.docs.get(e._key),s=new qg(n);return new uI(n,s,e._key,r,new Zl(t.hasPendingWrites,t.fromCache),e.converter)}function f4(){return new Ug("serverTimestamp")}function d4(...n){return new zg("arrayUnion",n)}(function(e,t=!0){(function(s){Za=s})($o),Lo(new Bs("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new Ki(new Ox(r.getProvider("auth-internal")),new Vx(u,r.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(p.options.projectId,v)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),di(R0,C0,e),di(R0,C0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebasestorage.googleapis.com",dI="storageBucket",zO=2*60*1e3,jO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends vi{constructor(e,t,r=0){super(Tp(e),`Firebase Storage: ${t} (${Tp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nt||(Nt={}));function Tp(n){return"storage/"+n}function Gg(){const n="An unknown error occurred, please check the error payload for server response.";return new Ot(Nt.UNKNOWN,n)}function $O(n){return new Ot(Nt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function BO(n){return new Ot(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function HO(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot(Nt.UNAUTHENTICATED,n)}function WO(){return new Ot(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qO(n){return new Ot(Nt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function GO(){return new Ot(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KO(){return new Ot(Nt.CANCELED,"User canceled the upload/download.")}function QO(n){return new Ot(Nt.INVALID_URL,"Invalid URL '"+n+"'.")}function XO(n){return new Ot(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function YO(){return new Ot(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dI+"' property when initializing the app?")}function JO(){return new Ot(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ZO(){return new Ot(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function e2(n){return new Ot(Nt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dm(n){return new Ot(Nt.INVALID_ARGUMENT,n)}function pI(){return new Ot(Nt.APP_DELETED,"The Firebase app was deleted.")}function t2(n){return new Ot(Nt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function su(n,e){return new Ot(Nt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function $l(n){throw new Ot(Nt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=sr.makeFromUrl(e,t)}catch{return new sr(e,"")}if(r.path==="")return r;throw XO(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+s+u,"i"),d={bucket:1,path:3};function p(X){X.path_=decodeURIComponent(X.path)}const v="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",I=new RegExp(`^https?://${w}/${v}/b/${s}/o${E}`,"i"),P={bucket:1,path:3},D=t===fI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",O=new RegExp(`^https?://${D}/${s}/${C}`,"i"),W=[{regex:f,indices:d,postModify:a},{regex:I,indices:P,postModify:p},{regex:O,indices:{bucket:1,path:2},postModify:p}];for(let X=0;X<W.length;X++){const Y=W[X],L=Y.regex.exec(e);if(L){const k=L[Y.indices.bucket];let R=L[Y.indices.path];R||(R=""),r=new sr(k,R),Y.postModify(r);break}}if(r==null)throw QO(e);return r}}class n2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(n,e,t){let r=1,s=null,a=null,u=!1,f=0;function d(){return f===2}let p=!1;function v(...C){p||(p=!0,e.apply(null,C))}function w(C){s=setTimeout(()=>{s=null,n(I,d())},C)}function E(){a&&clearTimeout(a)}function I(C,...O){if(p){E();return}if(C){E(),v.call(null,C,...O);return}if(d()||u){E(),v.call(null,C,...O);return}r<64&&(r*=2);let W;f===1?(f=2,W=0):W=(r+Math.random())*1e3,w(W)}let P=!1;function D(C){P||(P=!0,E(),!p&&(s!==null?(C||(f=2),clearTimeout(s),w(0)):C||(f=1)))}return w(0),a=setTimeout(()=>{u=!0,D(!0)},t),D}function i2(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n){return n!==void 0}function o2(n){return typeof n=="object"&&!Array.isArray(n)}function Kg(n){return typeof n=="string"||n instanceof String}function Rw(n){return Qg()&&n instanceof Blob}function Qg(){return typeof Blob<"u"}function Cw(n,e,t,r){if(r<e)throw dm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw dm(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function mI(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var No;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(No||(No={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t,r,s,a,u,f,d,p,v,w,E=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=w,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,P)=>{this.resolve_=I,this.reject_=P,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Jc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const d=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===No.NO_ERROR,d=a.getStatus();if(!f||a2(d,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===No.ABORT;r(!1,new Jc(!1,null,v));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new Jc(p,a))})},t=(r,s)=>{const a=this.resolve_,u=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(f,f.getResponse());s2(d)?a(d):a()}catch(d){u(d)}else if(f!==null){const d=Gg();d.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,d)):u(d)}else if(s.canceled){const d=this.appDelete_?pI():KO();u(d)}else{const d=GO();u(d)}};this.canceled_?t(!1,new Jc(!1,null,!0)):this.backoffId_=r2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&i2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function u2(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function c2(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function h2(n,e){e&&(n["X-Firebase-GMPID"]=e)}function f2(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function d2(n,e,t,r,s,a,u=!0){const f=mI(n.urlParams),d=n.url+f,p=Object.assign({},n.headers);return h2(p,e),u2(p,t),c2(p,a),f2(p,r),new l2(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function m2(...n){const e=p2();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Qg())return new Blob(n);throw new Ot(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function g2(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(n){if(typeof atob>"u")throw e2("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sp{constructor(e,t){this.data=e,this.contentType=t||null}}function v2(n,e){switch(n){case hi.RAW:return new Sp(gI(e));case hi.BASE64:case hi.BASE64URL:return new Sp(yI(n,e));case hi.DATA_URL:return new Sp(w2(e),E2(e))}throw Gg()}function gI(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function _2(n){let e;try{e=decodeURIComponent(n)}catch{throw su(hi.DATA_URL,"Malformed data URL.")}return gI(e)}function yI(n,e){switch(n){case hi.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw su(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case hi.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw su(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=y2(e)}catch(s){throw s.message.includes("polyfill")?s:su(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class vI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw su(hi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=T2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function w2(n){const e=new vI(n);return e.base64?yI(hi.BASE64,e.rest):_2(e.rest)}function E2(n){return new vI(n).contentType}function T2(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t){let r=0,s="";Rw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Rw(this.data_)){const r=this.data_,s=g2(r,e,t);return s===null?null:new Ns(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ns(r,!0)}}static getBlob(...e){if(Qg()){const t=e.map(r=>r instanceof Ns?r.data_:r);return new Ns(m2.apply(null,t))}else{const t=e.map(u=>Kg(u)?v2(hi.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)s[a++]=u[f]}),new Ns(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(n){let e;try{e=JSON.parse(n)}catch{return null}return o2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function I2(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function wI(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(n,e){return e}class Dn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||R2}}let Zc=null;function C2(n){return!Kg(n)||n.length<2?n:wI(n)}function EI(){if(Zc)return Zc;const n=[];n.push(new Dn("bucket")),n.push(new Dn("generation")),n.push(new Dn("metageneration")),n.push(new Dn("name","fullPath",!0));function e(a,u){return C2(u)}const t=new Dn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const s=new Dn("size");return s.xform=r,n.push(s),n.push(new Dn("timeCreated")),n.push(new Dn("updated")),n.push(new Dn("md5Hash",null,!0)),n.push(new Dn("cacheControl",null,!0)),n.push(new Dn("contentDisposition",null,!0)),n.push(new Dn("contentEncoding",null,!0)),n.push(new Dn("contentLanguage",null,!0)),n.push(new Dn("contentType",null,!0)),n.push(new Dn("metadata","customMetadata",!0)),Zc=n,Zc}function A2(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new sr(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function P2(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return A2(r,n),r}function TI(n,e,t){const r=_I(e);return r===null?null:P2(n,r,t)}function k2(n,e,t,r){const s=_I(e);if(s===null||!Kg(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(p=>{const v=n.bucket,w=n.fullPath,E="/b/"+u(v)+"/o/"+u(w),I=Xg(E,t,r),P=mI({alt:"media",token:p});return I+P})[0]}function b2(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class SI{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(n){if(!n)throw Gg()}function x2(n,e){function t(r,s){const a=TI(n,s,e);return II(a!==null),a}return t}function D2(n,e){function t(r,s){const a=TI(n,s,e);return II(a!==null),k2(a,s,n.host,n._protocol)}return t}function RI(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=WO():s=HO():t.getStatus()===402?s=BO(n.bucket):t.getStatus()===403?s=qO(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function N2(n){const e=RI(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=$O(n.path)),a.serverResponse=s.serverResponse,a}return t}function O2(n,e,t){const r=e.fullServerUrl(),s=Xg(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new SI(s,a,D2(n,t),u);return f.errorHandler=N2(e),f}function L2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function M2(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=L2(null,e)),r}function V2(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let W="";for(let X=0;X<2;X++)W=W+Math.random().toString().slice(2);return W}const d=f();u["Content-Type"]="multipart/related; boundary="+d;const p=M2(e,r,s),v=b2(p,t),w="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+d+"--",I=Ns.getBlob(w,r,E);if(I===null)throw JO();const P={name:p.fullPath},D=Xg(a,n.host,n._protocol),C="POST",O=n.maxUploadRetryTime,z=new SI(D,C,x2(n,t),O);return z.urlParams=P,z.headers=u,z.body=I.uploadData(),z.errorHandler=RI(e),z}class F2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=No.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=No.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=No.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw $l("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $l("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $l("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $l("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $l("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class U2 extends F2{initXhr(){this.xhr_.responseType="text"}}function CI(){return new U2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t){this._service=e,t instanceof sr?this._location=t:this._location=sr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zo(e,t)}get root(){const e=new sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wI(this._location.path)}get storage(){return this._service}get parent(){const e=S2(this._location.path);if(e===null)return null;const t=new sr(this._location.bucket,e);return new zo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw t2(e)}}function z2(n,e,t){n._throwIfRoot("uploadBytes");const r=V2(n.storage,n._location,EI(),new Ns(e,!0),t);return n.storage.makeRequestWithTokens(r,CI).then(s=>({metadata:s,ref:n}))}function j2(n){n._throwIfRoot("getDownloadURL");const e=O2(n.storage,n._location,EI());return n.storage.makeRequestWithTokens(e,CI).then(t=>{if(t===null)throw ZO();return t})}function $2(n,e){const t=I2(n._location.path,e),r=new sr(n._location.bucket,t);return new zo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(n){return/^[A-Za-z]+:\/\//.test(n)}function H2(n,e){return new zo(n,e)}function AI(n,e){if(n instanceof Yg){const t=n;if(t._bucket==null)throw YO();const r=new zo(t,t._bucket);return e!=null?AI(r,e):r}else return e!==void 0?$2(n,e):n}function W2(n,e){if(e&&B2(e)){if(n instanceof Yg)return H2(n,e);throw dm("To use ref(service, url), the first argument must be a Storage instance.")}else return AI(n,e)}function Aw(n,e){const t=e==null?void 0:e[dI];return t==null?null:sr.makeFromBucketSpec(t,n)}function q2(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:qE(s,n.app.options.projectId))}class Yg{constructor(e,t,r,s,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=fI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zO,this._maxUploadRetryTime=jO,this._requests=new Set,s!=null?this._bucket=sr.makeFromBucketSpec(s,this._host):this._bucket=Aw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,e):this._bucket=Aw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zo(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new n2(pI());{const u=d2(e,this._appId,r,s,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Pw="@firebase/storage",kw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="storage";function p4(n,e,t){return n=At(n),z2(n,e,t)}function m4(n){return n=At(n),j2(n)}function g4(n,e){return n=At(n),W2(n,e)}function G2(n=Ym(),e){n=At(n);const r=ef(n,PI).getImmediate({identifier:e}),s=BE("storage");return s&&K2(r,...s),r}function K2(n,e,t,r={}){q2(n,e,t,r)}function Q2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Yg(t,r,s,e,$o)}function X2(){Lo(new Bs(PI,Q2,"PUBLIC").setMultipleInstances(!0)),di(Pw,kw,""),di(Pw,kw,"esm2017")}X2();const Y2={apiKey:"AIzaSyA0KMElLuUoAu_x-8ZzzcXEoMtFJ6BbQP0",authDomain:"realtime-chat-5a748.firebaseapp.com",projectId:"realtime-chat-5a748",storageBucket:"realtime-chat-5a748.firebasestorage.app",messagingSenderId:"961053510211",appId:"1:961053510211:web:1dfe11a84ef6b0db7e62f6"},Jg=QE(Y2),J2=Px(Jg),y4=new Fi,Z2=CO(Jg),v4=G2(Jg),kI=j.createContext({currentUser:null,loading:!0}),eL=({children:n})=>{const[e,t]=j.useState(null),[r,s]=j.useState(!0);j.useEffect(()=>{const u=vb(J2,f=>{t(f),s(!1)});return()=>u()},[]);const a=j.useMemo(()=>({currentUser:e,loading:r}),[e,r]);return mt.jsx(kI.Provider,{value:a,children:n})},Zg=()=>j.useContext(kI);var Ip={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var bw;function tL(){return bw||(bw=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=s(a,r(f)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)e.call(a,f)&&a[f]&&(u=s(u,f));return u}function s(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Ip)),Ip.exports}var nL=tL();const ji=Fm(nL);function pm(){return pm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pm.apply(null,arguments)}function pn(n){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(n)}var rL=Symbol.for("react.element"),iL=Symbol.for("react.transitional.element"),sL=Symbol.for("react.fragment");function oL(n){return n&&pn(n)==="object"&&(n.$$typeof===rL||n.$$typeof===iL)&&n.type===sL}var mm={},aL=function(e){};function lL(n,e){}function uL(n,e){}function cL(){mm={}}function bI(n,e,t){!e&&!mm[t]&&(n(!1,t),mm[t]=!0)}function ey(n,e){bI(lL,n,e)}function hL(n,e){bI(uL,n,e)}ey.preMessage=aL;ey.resetWarned=cL;ey.noteOnce=hL;function fL(n,e){if(pn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(pn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function xI(n){var e=fL(n,"string");return pn(e)=="symbol"?e:e+""}function He(n,e,t){return(e=xI(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function vt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xw(Object(t),!0).forEach(function(r){He(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Rp={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function dL(){if(Dw)return ut;Dw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),P;P=Symbol.for("react.module.reference");function D(C){if(typeof C=="object"&&C!==null){var O=C.$$typeof;switch(O){case n:switch(C=C.type,C){case t:case s:case r:case p:case v:return C;default:switch(C=C&&C.$$typeof,C){case f:case u:case d:case E:case w:case a:return C;default:return O}}case e:return O}}}return ut.ContextConsumer=u,ut.ContextProvider=a,ut.Element=n,ut.ForwardRef=d,ut.Fragment=t,ut.Lazy=E,ut.Memo=w,ut.Portal=e,ut.Profiler=s,ut.StrictMode=r,ut.Suspense=p,ut.SuspenseList=v,ut.isAsyncMode=function(){return!1},ut.isConcurrentMode=function(){return!1},ut.isContextConsumer=function(C){return D(C)===u},ut.isContextProvider=function(C){return D(C)===a},ut.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===n},ut.isForwardRef=function(C){return D(C)===d},ut.isFragment=function(C){return D(C)===t},ut.isLazy=function(C){return D(C)===E},ut.isMemo=function(C){return D(C)===w},ut.isPortal=function(C){return D(C)===e},ut.isProfiler=function(C){return D(C)===s},ut.isStrictMode=function(C){return D(C)===r},ut.isSuspense=function(C){return D(C)===p},ut.isSuspenseList=function(C){return D(C)===v},ut.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===t||C===s||C===r||C===p||C===v||C===I||typeof C=="object"&&C!==null&&(C.$$typeof===E||C.$$typeof===w||C.$$typeof===a||C.$$typeof===u||C.$$typeof===d||C.$$typeof===P||C.getModuleId!==void 0)},ut.typeOf=D,ut}var Nw;function pL(){return Nw||(Nw=1,Rp.exports=dL()),Rp.exports}var Cp=pL();function mL(n,e,t){var r=j.useRef({});return(!("value"in r.current)||t(r.current.condition,e))&&(r.current.value=n(),r.current.condition=e),r.current.value}var gL=Number(j.version.split(".")[0]),yL=function(e,t){typeof e=="function"?e(t):pn(e)==="object"&&e&&"current"in e&&(e.current=t)},vL=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=t.filter(Boolean);return s.length<=1?s[0]:function(a){t.forEach(function(u){yL(u,a)})}},_4=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return mL(function(){return vL.apply(void 0,t)},t,function(s,a){return s.length!==a.length||s.every(function(u,f){return u!==a[f]})})},_L=function(e){var t,r;if(!e)return!1;if(ty(e)&&gL>=19)return!0;var s=Cp.isMemo(e)?e.type.type:e.type;return!(typeof s=="function"&&!((t=s.prototype)!==null&&t!==void 0&&t.render)&&s.$$typeof!==Cp.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==Cp.ForwardRef)};function ty(n){return j.isValidElement(n)&&!oL(n)}var w4=function(e){return ty(e)&&_L(e)},E4=function(e){if(e&&ty(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function ro(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ow(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,xI(r.key),r)}}function io(n,e,t){return e&&Ow(n.prototype,e),t&&Ow(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function gm(n,e){return gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},gm(n,e)}function DI(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&gm(n,e)}function Hh(n){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hh(n)}function NI(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NI=function(){return!!n})()}function ou(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wL(n,e){if(e&&(pn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ou(n)}function OI(n){var e=NI();return function(){var t,r=Hh(n);if(e){var s=Hh(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return wL(this,t)}}function ym(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function EL(n){if(Array.isArray(n))return ym(n)}function TL(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function LI(n,e){if(n){if(typeof n=="string")return ym(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ym(n,e):void 0}}function SL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sl(n){return EL(n)||TL(n)||LI(n)||SL()}function IL(n){if(Array.isArray(n))return n}function RL(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,a,u,f=[],d=!0,p=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(r=a.call(t)).done)&&(f.push(r.value),f.length!==e);d=!0);}catch(v){p=!0,s=v}finally{try{if(!d&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(p)throw s}}return f}}function CL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(n,e){return IL(n)||RL(n,e)||LI(n,e)||CL()}function wu(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Lu(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function AL(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var Lw="data-rc-order",Mw="data-rc-priority",PL="rc-util-key",vm=new Map;function MI(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):PL}function Af(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function kL(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function ny(n){return Array.from((vm.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function VI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Lu())return null;var t=e.csp,r=e.prepend,s=e.priority,a=s===void 0?0:s,u=kL(r),f=u==="prependQueue",d=document.createElement("style");d.setAttribute(Lw,u),f&&a&&d.setAttribute(Mw,"".concat(a)),t!=null&&t.nonce&&(d.nonce=t==null?void 0:t.nonce),d.innerHTML=n;var p=Af(e),v=p.firstChild;if(r){if(f){var w=(e.styles||ny(p)).filter(function(E){if(!["prepend","prependQueue"].includes(E.getAttribute(Lw)))return!1;var I=Number(E.getAttribute(Mw)||0);return a>=I});if(w.length)return p.insertBefore(d,w[w.length-1].nextSibling),d}p.insertBefore(d,v)}else p.appendChild(d);return d}function FI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Af(e);return(e.styles||ny(t)).find(function(r){return r.getAttribute(MI(e))===n})}function UI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=FI(n,e);if(t){var r=Af(e);r.removeChild(t)}}function bL(n,e){var t=vm.get(n);if(!t||!AL(document,t)){var r=VI("",e),s=r.parentNode;vm.set(n,s),n.removeChild(r)}}function au(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Af(t),s=ny(r),a=vt(vt({},t),{},{styles:s});bL(r,a);var u=FI(e,a);if(u){var f,d;if((f=a.csp)!==null&&f!==void 0&&f.nonce&&u.nonce!==((d=a.csp)===null||d===void 0?void 0:d.nonce)){var p;u.nonce=(p=a.csp)===null||p===void 0?void 0:p.nonce}return u.innerHTML!==n&&(u.innerHTML=n),u}var v=VI(n,a);return v.setAttribute(MI(a),e),v}var xL="%";function _m(n){return n.join(xL)}var DL=function(){function n(e){ro(this,n),He(this,"instanceId",void 0),He(this,"cache",new Map),this.instanceId=e}return io(n,[{key:"get",value:function(t){return this.opGet(_m(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,r){return this.opUpdate(_m(t),r)}},{key:"opUpdate",value:function(t,r){var s=this.cache.get(t),a=r(s);a===null?this.cache.delete(t):this.cache.set(t,a)}}]),n}(),Ga="data-token-hash",Hr="data-css-hash",Ls="__cssinjs_instance__";function NL(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Hr,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(s){s[Ls]=s[Ls]||n,s[Ls]===n&&document.head.insertBefore(s,t)});var r={};Array.from(document.querySelectorAll("style[".concat(Hr,"]"))).forEach(function(s){var a=s.getAttribute(Hr);if(r[a]){if(s[Ls]===n){var u;(u=s.parentNode)===null||u===void 0||u.removeChild(s)}}else r[a]=!0})}return new DL(n)}var Pf=j.createContext({hashPriority:"low",cache:NL(),defaultCache:!0});function OL(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var ry=function(){function n(){ro(this,n),He(this,"cache",void 0),He(this,"keys",void 0),He(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return io(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var r,s,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u={map:this.cache};return t.forEach(function(f){if(!u)u=void 0;else{var d;u=(d=u)===null||d===void 0||(d=d.map)===null||d===void 0?void 0:d.get(f)}}),(r=u)!==null&&r!==void 0&&r.value&&a&&(u.value[1]=this.cacheCallTimes++),(s=u)===null||s===void 0?void 0:s.value}},{key:"get",value:function(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,r){var s=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var a=this.keys.reduce(function(p,v){var w=_t(p,2),E=w[1];return s.internalGet(v)[1]<E?[v,s.internalGet(v)[1]]:p},[this.keys[0],this.cacheCallTimes]),u=_t(a,1),f=u[0];this.delete(f)}this.keys.push(t)}var d=this.cache;t.forEach(function(p,v){if(v===t.length-1)d.set(p,{value:[r,s.cacheCallTimes++]});else{var w=d.get(p);w?w.map||(w.map=new Map):d.set(p,{map:new Map}),d=d.get(p).map}})}},{key:"deleteByPath",value:function(t,r){var s=t.get(r[0]);if(r.length===1){var a;return s.map?t.set(r[0],{map:s.map}):t.delete(r[0]),(a=s.value)===null||a===void 0?void 0:a[0]}var u=this.deleteByPath(s.map,r.slice(1));return(!s.map||s.map.size===0)&&!s.value&&t.delete(r[0]),u}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(r){return!OL(r,t)}),this.deleteByPath(this.cache,t)}}]),n}();He(ry,"MAX_CACHE_SIZE",20);He(ry,"MAX_CACHE_OFFSET",5);var Vw=0,zI=function(){function n(e){ro(this,n),He(this,"derivatives",void 0),He(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=Vw,e.length===0&&(e.length>0,void 0),Vw+=1}return io(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(r,s){return s(t,r)},void 0)}}]),n}(),Ap=new ry;function LL(n){var e=Array.isArray(n)?n:[n];return Ap.has(e)||Ap.set(e,new zI(e)),Ap.get(e)}var ML=new WeakMap,Pp={};function VL(n,e){for(var t=ML,r=0;r<e.length;r+=1){var s=e[r];t.has(s)||t.set(s,new WeakMap),t=t.get(s)}return t.has(Pp)||t.set(Pp,n()),t.get(Pp)}var Fw=new WeakMap;function lu(n){var e=Fw.get(n)||"";return e||(Object.keys(n).forEach(function(t){var r=n[t];e+=t,r instanceof zI?e+=r.id:r&&pn(r)==="object"?e+=lu(r):e+=r}),e=wu(e),Fw.set(n,e)),e}function Uw(n,e){return wu("".concat(e,"_").concat(lu(n)))}var wm=Lu();function Em(n){return typeof n=="number"?"".concat(n,"px"):n}function Wh(n,e,t){var r,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(a)return n;var u=vt(vt({},s),{},(r={},He(r,Ga,e),He(r,Hr,t),r)),f=Object.keys(u).map(function(d){var p=u[d];return p?"".concat(d,'="').concat(p,'"'):null}).filter(function(d){return d}).join(" ");return"<style ".concat(f,">").concat(n,"</style>")}var gh=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},FL=function(e,t,r){return Object.keys(e).length?".".concat(t).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(s){var a=_t(s,2),u=a[0],f=a[1];return"".concat(u,":").concat(f,";")}).join(""),"}"):""},jI=function(e,t,r){var s={},a={};return Object.entries(e).forEach(function(u){var f,d,p=_t(u,2),v=p[0],w=p[1];if(r!=null&&(f=r.preserve)!==null&&f!==void 0&&f[v])a[v]=w;else if((typeof w=="string"||typeof w=="number")&&!(r!=null&&(d=r.ignore)!==null&&d!==void 0&&d[v])){var E,I=gh(v,r==null?void 0:r.prefix);s[I]=typeof w=="number"&&!(r!=null&&(E=r.unitless)!==null&&E!==void 0&&E[v])?"".concat(w,"px"):String(w),a[v]="var(".concat(I,")")}}),[a,FL(s,t,{scope:r==null?void 0:r.scope})]},zw=Lu()?j.useLayoutEffect:j.useEffect,iy=function(e,t){var r=j.useRef(!0);zw(function(){return e(r.current)},t),zw(function(){return r.current=!1,function(){r.current=!0}},[])},T4=function(e,t){iy(function(r){if(!r)return e()},t)},UL=vt({},hE),jw=UL.useInsertionEffect,zL=function(e,t,r){j.useMemo(e,r),iy(function(){return t(!0)},r)},jL=jw?function(n,e,t){return jw(function(){return n(),e()},t)}:zL,$L=vt({},hE),BL=$L.useInsertionEffect,HL=function(e){var t=[],r=!1;function s(a){r||t.push(a)}return j.useEffect(function(){return r=!1,function(){r=!0,t.length&&t.forEach(function(a){return a()})}},e),s},WL=function(){return function(e){e()}},qL=typeof BL<"u"?HL:WL;function sy(n,e,t,r,s){var a=j.useContext(Pf),u=a.cache,f=[n].concat(sl(e)),d=_m(f),p=qL([d]),v=function(P){u.opUpdate(d,function(D){var C=D||[void 0,void 0],O=_t(C,2),z=O[0],W=z===void 0?0:z,X=O[1],Y=X,L=Y||t(),k=[W,L];return P?P(k):k})};j.useMemo(function(){v()},[d]);var w=u.opGet(d),E=w[1];return jL(function(){s==null||s(E)},function(I){return v(function(P){var D=_t(P,2),C=D[0],O=D[1];return I&&C===0&&(s==null||s(E)),[C+1,O]}),function(){u.opUpdate(d,function(P){var D=P||[],C=_t(D,2),O=C[0],z=O===void 0?0:O,W=C[1],X=z-1;return X===0?(p(function(){(I||!u.opGet(d))&&(r==null||r(W,!1))}),null):[z-1,W]})}},[d]),E}var GL={},KL="css",ko=new Map;function QL(n){ko.set(n,(ko.get(n)||0)+1)}function XL(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(Ga,'="').concat(n,'"]'));t.forEach(function(r){if(r[Ls]===e){var s;(s=r.parentNode)===null||s===void 0||s.removeChild(r)}})}}var YL=0;function JL(n,e){ko.set(n,(ko.get(n)||0)-1);var t=Array.from(ko.keys()),r=t.filter(function(s){var a=ko.get(s)||0;return a<=0});t.length-r.length>YL&&r.forEach(function(s){XL(s,e),ko.delete(s)})}var ZL=function(e,t,r,s){var a=r.getDerivativeToken(e),u=vt(vt({},a),t);return s&&(u=s(u)),u},$I="token";function eM(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=j.useContext(Pf),s=r.cache.instanceId,a=r.container,u=t.salt,f=u===void 0?"":u,d=t.override,p=d===void 0?GL:d,v=t.formatToken,w=t.getComputedToken,E=t.cssVar,I=VL(function(){return Object.assign.apply(Object,[{}].concat(sl(e)))},e),P=lu(I),D=lu(p),C=E?lu(E):"",O=sy($I,[f,n.id,P,D,C],function(){var z,W=w?w(I,p,n):ZL(I,p,n,v),X=vt({},W),Y="";if(E){var L=jI(W,E.key,{prefix:E.prefix,ignore:E.ignore,unitless:E.unitless,preserve:E.preserve}),k=_t(L,2);W=k[0],Y=k[1]}var R=Uw(W,f);W._tokenKey=R,X._tokenKey=Uw(X,f);var A=(z=E==null?void 0:E.key)!==null&&z!==void 0?z:R;W._themeKey=A,QL(A);var N="".concat(KL,"-").concat(wu(R));return W._hashId=N,[W,N,X,Y,(E==null?void 0:E.key)||""]},function(z){JL(z[0]._themeKey,s)},function(z){var W=_t(z,4),X=W[0],Y=W[3];if(E&&Y){var L=au(Y,wu("css-variables-".concat(X._themeKey)),{mark:Hr,prepend:"queue",attachTo:a,priority:-999});L[Ls]=s,L.setAttribute(Ga,X._themeKey)}});return O}var tM=function(e,t,r){var s=_t(e,5),a=s[2],u=s[3],f=s[4],d=r||{},p=d.plain;if(!u)return null;var v=a._tokenKey,w=-999,E={"data-rc-order":"prependQueue","data-rc-priority":"".concat(w)},I=Wh(u,f,v,E,p);return[w,v,I]},nM={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},BI="comm",HI="rule",WI="decl",rM="@import",iM="@namespace",sM="@keyframes",oM="@layer",qI=Math.abs,oy=String.fromCharCode;function GI(n){return n.trim()}function yh(n,e,t){return n.replace(e,t)}function aM(n,e,t){return n.indexOf(e,t)}function Va(n,e){return n.charCodeAt(e)|0}function Ka(n,e,t){return n.slice(e,t)}function ci(n){return n.length}function lM(n){return n.length}function eh(n,e){return e.push(n),n}var kf=1,Qa=1,KI=0,Ir=0,jt=0,ol="";function ay(n,e,t,r,s,a,u,f){return{value:n,root:e,parent:t,type:r,props:s,children:a,line:kf,column:Qa,length:u,return:"",siblings:f}}function uM(){return jt}function cM(){return jt=Ir>0?Va(ol,--Ir):0,Qa--,jt===10&&(Qa=1,kf--),jt}function Wr(){return jt=Ir<KI?Va(ol,Ir++):0,Qa++,jt===10&&(Qa=1,kf++),jt}function Ms(){return Va(ol,Ir)}function vh(){return Ir}function bf(n,e){return Ka(ol,n,e)}function Eu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hM(n){return kf=Qa=1,KI=ci(ol=n),Ir=0,[]}function fM(n){return ol="",n}function kp(n){return GI(bf(Ir-1,Tm(n===91?n+2:n===40?n+1:n)))}function dM(n){for(;(jt=Ms())&&jt<33;)Wr();return Eu(n)>2||Eu(jt)>3?"":" "}function pM(n,e){for(;--e&&Wr()&&!(jt<48||jt>102||jt>57&&jt<65||jt>70&&jt<97););return bf(n,vh()+(e<6&&Ms()==32&&Wr()==32))}function Tm(n){for(;Wr();)switch(jt){case n:return Ir;case 34:case 39:n!==34&&n!==39&&Tm(jt);break;case 40:n===41&&Tm(n);break;case 92:Wr();break}return Ir}function mM(n,e){for(;Wr()&&n+jt!==57;)if(n+jt===84&&Ms()===47)break;return"/*"+bf(e,Ir-1)+"*"+oy(n===47?n:Wr())}function gM(n){for(;!Eu(Ms());)Wr();return bf(n,Ir)}function yM(n){return fM(_h("",null,null,null,[""],n=hM(n),0,[0],n))}function _h(n,e,t,r,s,a,u,f,d){for(var p=0,v=0,w=u,E=0,I=0,P=0,D=1,C=1,O=1,z=0,W="",X=s,Y=a,L=r,k=W;C;)switch(P=z,z=Wr()){case 40:if(P!=108&&Va(k,w-1)==58){aM(k+=yh(kp(z),"&","&\f"),"&\f",qI(p?f[p-1]:0))!=-1&&(O=-1);break}case 34:case 39:case 91:k+=kp(z);break;case 9:case 10:case 13:case 32:k+=dM(P);break;case 92:k+=pM(vh()-1,7);continue;case 47:switch(Ms()){case 42:case 47:eh(vM(mM(Wr(),vh()),e,t,d),d),(Eu(P||1)==5||Eu(Ms()||1)==5)&&ci(k)&&Ka(k,-1,void 0)!==" "&&(k+=" ");break;default:k+="/"}break;case 123*D:f[p++]=ci(k)*O;case 125*D:case 59:case 0:switch(z){case 0:case 125:C=0;case 59+v:O==-1&&(k=yh(k,/\f/g,"")),I>0&&(ci(k)-w||D===0&&P===47)&&eh(I>32?Bw(k+";",r,t,w-1,d):Bw(yh(k," ","")+";",r,t,w-2,d),d);break;case 59:k+=";";default:if(eh(L=$w(k,e,t,p,v,s,f,W,X=[],Y=[],w,a),a),z===123)if(v===0)_h(k,e,L,L,X,a,w,f,Y);else{switch(E){case 99:if(Va(k,3)===110)break;case 108:if(Va(k,2)===97)break;default:v=0;case 100:case 109:case 115:}v?_h(n,L,L,r&&eh($w(n,L,L,0,0,s,f,W,s,X=[],w,Y),Y),s,Y,w,f,r?X:Y):_h(k,L,L,L,[""],Y,0,f,Y)}}p=v=I=0,D=O=1,W=k="",w=u;break;case 58:w=1+ci(k),I=P;default:if(D<1){if(z==123)--D;else if(z==125&&D++==0&&cM()==125)continue}switch(k+=oy(z),z*D){case 38:O=v>0?1:(k+="\f",-1);break;case 44:f[p++]=(ci(k)-1)*O,O=1;break;case 64:Ms()===45&&(k+=kp(Wr())),E=Ms(),v=w=ci(W=k+=gM(vh())),z++;break;case 45:P===45&&ci(k)==2&&(D=0)}}return a}function $w(n,e,t,r,s,a,u,f,d,p,v,w){for(var E=s-1,I=s===0?a:[""],P=lM(I),D=0,C=0,O=0;D<r;++D)for(var z=0,W=Ka(n,E+1,E=qI(C=u[D])),X=n;z<P;++z)(X=GI(C>0?I[z]+" "+W:yh(W,/&\f/g,I[z])))&&(d[O++]=X);return ay(n,e,t,s===0?HI:f,d,p,v,w)}function vM(n,e,t,r){return ay(n,e,t,BI,oy(uM()),Ka(n,2,-2),0,r)}function Bw(n,e,t,r,s){return ay(n,e,t,WI,Ka(n,0,r),Ka(n,r+1,-1),r,s)}function Sm(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function _M(n,e,t,r){switch(n.type){case oM:if(n.children.length)break;case rM:case iM:case WI:return n.return=n.return||n.value;case BI:return"";case sM:return n.return=n.value+"{"+Sm(n.children,r)+"}";case HI:if(!ci(n.value=n.props.join(",")))return""}return ci(t=Sm(n.children,r))?n.return=n.value+"{"+t+"}":""}var Hw="data-ant-cssinjs-cache-path",QI="_FILE_STYLE__",Oo,XI=!0;function wM(){if(!Oo&&(Oo={},Lu())){var n=document.createElement("div");n.className=Hw,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(s){var a=s.split(":"),u=_t(a,2),f=u[0],d=u[1];Oo[f]=d});var t=document.querySelector("style[".concat(Hw,"]"));if(t){var r;XI=!1,(r=t.parentNode)===null||r===void 0||r.removeChild(t)}document.body.removeChild(n)}}function EM(n){return wM(),!!Oo[n]}function TM(n){var e=Oo[n],t=null;if(e&&Lu())if(XI)t=QI;else{var r=document.querySelector("style[".concat(Hr,'="').concat(Oo[n],'"]'));r?t=r.innerHTML:delete Oo[n]}return[t,e]}var SM="_skip_check_",YI="_multi_value_";function wh(n){var e=Sm(yM(n),_M);return e.replace(/\{%%%\:[^;];}/g,";")}function IM(n){return pn(n)==="object"&&n&&(SM in n||YI in n)}function Ww(n,e,t){if(!e)return n;var r=".".concat(e),s=t==="low"?":where(".concat(r,")"):r,a=n.split(",").map(function(u){var f,d=u.trim().split(/\s+/),p=d[0]||"",v=((f=p.match(/^\w+/))===null||f===void 0?void 0:f[0])||"";return p="".concat(v).concat(s).concat(p.slice(v.length)),[p].concat(sl(d.slice(1))).join(" ")});return a.join(",")}var RM=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},s=r.root,a=r.injectHash,u=r.parentSelectors,f=t.hashId,d=t.layer;t.path;var p=t.hashPriority,v=t.transformers,w=v===void 0?[]:v;t.linters;var E="",I={};function P(O){var z=O.getName(f);if(!I[z]){var W=n(O.style,t,{root:!1,parentSelectors:u}),X=_t(W,1),Y=X[0];I[z]="@keyframes ".concat(O.getName(f)).concat(Y)}}function D(O){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return O.forEach(function(W){Array.isArray(W)?D(W,z):W&&z.push(W)}),z}var C=D(Array.isArray(e)?e:[e]);return C.forEach(function(O){var z=typeof O=="string"&&!s?{}:O;if(typeof z=="string")E+="".concat(z,`
`);else if(z._keyframe)P(z);else{var W=w.reduce(function(X,Y){var L;return(Y==null||(L=Y.visit)===null||L===void 0?void 0:L.call(Y,X))||X},z);Object.keys(W).forEach(function(X){var Y=W[X];if(pn(Y)==="object"&&Y&&(X!=="animationName"||!Y._keyframe)&&!IM(Y)){var L=!1,k=X.trim(),R=!1;(s||a)&&f?k.startsWith("@")?L=!0:k==="&"?k=Ww("",f,p):k=Ww(X,f,p):s&&!f&&(k==="&"||k==="")&&(k="",R=!0);var A=n(Y,t,{root:R,injectHash:L,parentSelectors:[].concat(sl(u),[k])}),N=_t(A,2),V=N[0],U=N[1];I=vt(vt({},I),U),E+="".concat(k).concat(V)}else{let xe=function(_e,Se){var re=_e.replace(/[A-Z]/g,function(le){return"-".concat(le.toLowerCase())}),ce=Se;!nM[_e]&&typeof ce=="number"&&ce!==0&&(ce="".concat(ce,"px")),_e==="animationName"&&Se!==null&&Se!==void 0&&Se._keyframe&&(P(Se),ce=Se.getName(f)),E+="".concat(re,":").concat(ce,";")};var b,de=(b=Y==null?void 0:Y.value)!==null&&b!==void 0?b:Y;pn(Y)==="object"&&Y!==null&&Y!==void 0&&Y[YI]&&Array.isArray(de)?de.forEach(function(_e){xe(X,_e)}):xe(X,de)}})}}),s?d&&(E&&(E="@layer ".concat(d.name," {").concat(E,"}")),d.dependencies&&(I["@layer ".concat(d.name)]=d.dependencies.map(function(O){return"@layer ".concat(O,", ").concat(d.name,";")}).join(`
`))):E="{".concat(E,"}"),[E,I]};function JI(n,e){return wu("".concat(n.join("%")).concat(e))}function CM(){return null}var ZI="style";function qw(n,e){var t=n.token,r=n.path,s=n.hashId,a=n.layer,u=n.nonce,f=n.clientOnly,d=n.order,p=d===void 0?0:d,v=j.useContext(Pf),w=v.autoClear;v.mock;var E=v.defaultCache,I=v.hashPriority,P=v.container,D=v.ssrInline,C=v.transformers,O=v.linters,z=v.cache,W=v.layer,X=t._tokenKey,Y=[X];W&&Y.push("layer"),Y.push.apply(Y,sl(r));var L=wm,k=sy(ZI,Y,function(){var U=Y.join("|");if(EM(U)){var b=TM(U),de=_t(b,2),xe=de[0],_e=de[1];if(xe)return[xe,X,_e,{},f,p]}var Se=e(),re=RM(Se,{hashId:s,hashPriority:I,layer:W?a:void 0,path:r.join("-"),transformers:C,linters:O}),ce=_t(re,2),le=ce[0],B=ce[1],ee=wh(le),pe=JI(Y,ee);return[ee,X,pe,B,f,p]},function(U,b){var de=_t(U,3),xe=de[2];(b||w)&&wm&&UI(xe,{mark:Hr})},function(U){var b=_t(U,4),de=b[0];b[1];var xe=b[2],_e=b[3];if(L&&de!==QI){var Se={mark:Hr,prepend:W?!1:"queue",attachTo:P,priority:p},re=typeof u=="function"?u():u;re&&(Se.csp={nonce:re});var ce=[],le=[];Object.keys(_e).forEach(function(ee){ee.startsWith("@layer")?ce.push(ee):le.push(ee)}),ce.forEach(function(ee){au(wh(_e[ee]),"_layer-".concat(ee),vt(vt({},Se),{},{prepend:!0}))});var B=au(de,xe,Se);B[Ls]=z.instanceId,B.setAttribute(Ga,X),le.forEach(function(ee){au(wh(_e[ee]),"_effect-".concat(ee),Se)})}}),R=_t(k,3),A=R[0],N=R[1],V=R[2];return function(U){var b;if(!D||L||!E)b=j.createElement(CM,null);else{var de;b=j.createElement("style",pm({},(de={},He(de,Ga,N),He(de,Hr,V),de),{dangerouslySetInnerHTML:{__html:A}}))}return j.createElement(j.Fragment,null,b,U)}}var AM=function(e,t,r){var s=_t(e,6),a=s[0],u=s[1],f=s[2],d=s[3],p=s[4],v=s[5],w=r||{},E=w.plain;if(p)return null;var I=a,P={"data-rc-order":"prependQueue","data-rc-priority":"".concat(v)};return I=Wh(a,u,f,P,E),d&&Object.keys(d).forEach(function(D){if(!t[D]){t[D]=!0;var C=wh(d[D]),O=Wh(C,u,"_effect-".concat(D),P,E);D.startsWith("@layer")?I=O+I:I+=O}}),[v,f,I]},eR="cssVar",PM=function(e,t){var r=e.key,s=e.prefix,a=e.unitless,u=e.ignore,f=e.token,d=e.scope,p=d===void 0?"":d,v=j.useContext(Pf),w=v.cache.instanceId,E=v.container,I=f._tokenKey,P=[].concat(sl(e.path),[r,p,I]),D=sy(eR,P,function(){var C=t(),O=jI(C,r,{prefix:s,unitless:a,ignore:u,scope:p}),z=_t(O,2),W=z[0],X=z[1],Y=JI(P,X);return[W,X,Y,r]},function(C){var O=_t(C,3),z=O[2];wm&&UI(z,{mark:Hr})},function(C){var O=_t(C,3),z=O[1],W=O[2];if(z){var X=au(z,W,{mark:Hr,prepend:"queue",attachTo:E,priority:-999});X[Ls]=w,X.setAttribute(Ga,r)}});return D},kM=function(e,t,r){var s=_t(e,4),a=s[1],u=s[2],f=s[3],d=r||{},p=d.plain;if(!a)return null;var v=-999,w={"data-rc-order":"prependQueue","data-rc-priority":"".concat(v)},E=Wh(a,f,u,w,p);return[v,u,E]},Bl;Bl={},He(Bl,ZI,AM),He(Bl,$I,tM),He(Bl,eR,kM);var tR=function(){function n(e,t){ro(this,n),He(this,"name",void 0),He(this,"style",void 0),He(this,"_keyframe",!0),this.name=e,this.style=t}return io(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function Ca(n){return n.notSplit=!0,n}Ca(["borderTop","borderBottom"]),Ca(["borderTop"]),Ca(["borderBottom"]),Ca(["borderLeft","borderRight"]),Ca(["borderLeft"]),Ca(["borderRight"]);const nR={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},qh=Object.assign(Object.assign({},nR),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),tn=Math.round;function bp(n,e){const t=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=t.map(s=>parseFloat(s));for(let s=0;s<3;s+=1)r[s]=e(r[s]||0,t[s]||"",s);return t[3]?r[3]=t[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Gw=(n,e,t)=>t===0?n:n/100;function Hl(n,e){const t=e||255;return n>t?t:n<0?0:n}class rn{constructor(e){He(this,"isValid",!0),He(this,"r",0),He(this,"g",0),He(this,"b",0),He(this,"a",1),He(this,"_h",void 0),He(this,"_s",void 0),He(this,"_l",void 0),He(this,"_v",void 0),He(this,"_max",void 0),He(this,"_min",void 0),He(this,"_brightness",void 0);function t(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let s=function(a){return r.startsWith(a)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):s("rgb")?this.fromRgbString(r):s("hsl")?this.fromHslString(r):(s("hsv")||s("hsb"))&&this.fromHsvString(r)}else if(e instanceof rn)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Hl(e.r),this.g=Hl(e.g),this.b=Hl(e.b),this.a=typeof e.a=="number"?Hl(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else if(t("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(a){const u=a/255;return u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4)}const t=e(this.r),r=e(this.g),s=e(this.b);return .2126*t+.7152*r+.0722*s}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=tn(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const t=this.getHue(),r=this.getSaturation();let s=this.getLightness()-e/100;return s<0&&(s=0),this._c({h:t,s:r,l:s,a:this.a})}lighten(e=10){const t=this.getHue(),r=this.getSaturation();let s=this.getLightness()+e/100;return s>1&&(s=1),this._c({h:t,s:r,l:s,a:this.a})}mix(e,t=50){const r=this._c(e),s=t/100,a=f=>(r[f]-this[f])*s+this[f],u={r:tn(a("r")),g:tn(a("g")),b:tn(a("b")),a:tn(a("a")*100)/100};return this._c(u)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),r=this.a+t.a*(1-this.a),s=a=>tn((this[a]*this.a+t[a]*t.a*(1-this.a))/r);return this._c({r:s("r"),g:s("g"),b:s("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=t.length===2?t:"0"+t;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const s=(this.b||0).toString(16);if(e+=s.length===2?s:"0"+s,typeof this.a=="number"&&this.a>=0&&this.a<1){const a=tn(this.a*255).toString(16);e+=a.length===2?a:"0"+a}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=tn(this.getSaturation()*100),r=tn(this.getLightness()*100);return this.a!==1?`hsla(${e},${t}%,${r}%,${this.a})`:`hsl(${e},${t}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,r){const s=this.clone();return s[e]=Hl(t,r),s}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function r(s,a){return parseInt(t[s]+t[a||s],16)}t.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=t[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=t[6]?r(6,7)/255:1)}fromHsl({h:e,s:t,l:r,a:s}){if(this._h=e%360,this._s=t,this._l=r,this.a=typeof s=="number"?s:1,t<=0){const E=tn(r*255);this.r=E,this.g=E,this.b=E}let a=0,u=0,f=0;const d=e/60,p=(1-Math.abs(2*r-1))*t,v=p*(1-Math.abs(d%2-1));d>=0&&d<1?(a=p,u=v):d>=1&&d<2?(a=v,u=p):d>=2&&d<3?(u=p,f=v):d>=3&&d<4?(u=v,f=p):d>=4&&d<5?(a=v,f=p):d>=5&&d<6&&(a=p,f=v);const w=r-p/2;this.r=tn((a+w)*255),this.g=tn((u+w)*255),this.b=tn((f+w)*255)}fromHsv({h:e,s:t,v:r,a:s}){this._h=e%360,this._s=t,this._v=r,this.a=typeof s=="number"?s:1;const a=tn(r*255);if(this.r=a,this.g=a,this.b=a,t<=0)return;const u=e/60,f=Math.floor(u),d=u-f,p=tn(r*(1-t)*255),v=tn(r*(1-t*d)*255),w=tn(r*(1-t*(1-d))*255);switch(f){case 0:this.g=w,this.b=p;break;case 1:this.r=v,this.b=p;break;case 2:this.r=p,this.b=w;break;case 3:this.r=p,this.g=v;break;case 4:this.r=w,this.g=p;break;case 5:default:this.g=p,this.b=v;break}}fromHsvString(e){const t=bp(e,Gw);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=bp(e,Gw);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=bp(e,(r,s)=>s.includes("%")?tn(r/100*255):r);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var th=2,Kw=.16,bM=.05,xM=.05,DM=.15,rR=5,iR=4,NM=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Qw(n,e,t){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-th*e:Math.round(n.h)+th*e:r=t?Math.round(n.h)+th*e:Math.round(n.h)-th*e,r<0?r+=360:r>=360&&(r-=360),r}function Xw(n,e,t){if(n.h===0&&n.s===0)return n.s;var r;return t?r=n.s-Kw*e:e===iR?r=n.s+Kw:r=n.s+bM*e,r>1&&(r=1),t&&e===rR&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function Yw(n,e,t){var r;return t?r=n.v+xM*e:r=n.v-DM*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function sR(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=new rn(n),s=r.toHsv(),a=rR;a>0;a-=1){var u=new rn({h:Qw(s,a,!0),s:Xw(s,a,!0),v:Yw(s,a,!0)});t.push(u)}t.push(r);for(var f=1;f<=iR;f+=1){var d=new rn({h:Qw(s,f),s:Xw(s,f),v:Yw(s,f)});t.push(d)}return e.theme==="dark"?NM.map(function(p){var v=p.index,w=p.amount;return new rn(e.backgroundColor||"#141414").mix(t[v],w).toHexString()}):t.map(function(p){return p.toHexString()})}var xp={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Im=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Im.primary=Im[5];var Rm=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Rm.primary=Rm[5];var Cm=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Cm.primary=Cm[5];var Am=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Am.primary=Am[5];var Pm=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Pm.primary=Pm[5];var km=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];km.primary=km[5];var bm=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];bm.primary=bm[5];var xm=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];xm.primary=xm[5];var Dm=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Dm.primary=Dm[5];var Nm=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Nm.primary=Nm[5];var Om=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Om.primary=Om[5];var Lm=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Lm.primary=Lm[5];var Mm=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Mm.primary=Mm[5];var Dp={red:Im,volcano:Rm,orange:Cm,gold:Am,yellow:Pm,lime:km,green:bm,cyan:xm,blue:Dm,geekblue:Nm,purple:Om,magenta:Lm,grey:Mm};function OM(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:r}=e;const{colorSuccess:s,colorWarning:a,colorError:u,colorInfo:f,colorPrimary:d,colorBgBase:p,colorTextBase:v}=n,w=t(d),E=t(s),I=t(a),P=t(u),D=t(f),C=r(p,v),O=n.colorLink||n.colorInfo,z=t(O),W=new rn(P[1]).mix(new rn(P[3]),50).toHexString();return Object.assign(Object.assign({},C),{colorPrimaryBg:w[1],colorPrimaryBgHover:w[2],colorPrimaryBorder:w[3],colorPrimaryBorderHover:w[4],colorPrimaryHover:w[5],colorPrimary:w[6],colorPrimaryActive:w[7],colorPrimaryTextHover:w[8],colorPrimaryText:w[9],colorPrimaryTextActive:w[10],colorSuccessBg:E[1],colorSuccessBgHover:E[2],colorSuccessBorder:E[3],colorSuccessBorderHover:E[4],colorSuccessHover:E[4],colorSuccess:E[6],colorSuccessActive:E[7],colorSuccessTextHover:E[8],colorSuccessText:E[9],colorSuccessTextActive:E[10],colorErrorBg:P[1],colorErrorBgHover:P[2],colorErrorBgFilledHover:W,colorErrorBgActive:P[3],colorErrorBorder:P[3],colorErrorBorderHover:P[4],colorErrorHover:P[5],colorError:P[6],colorErrorActive:P[7],colorErrorTextHover:P[8],colorErrorText:P[9],colorErrorTextActive:P[10],colorWarningBg:I[1],colorWarningBgHover:I[2],colorWarningBorder:I[3],colorWarningBorderHover:I[4],colorWarningHover:I[4],colorWarning:I[6],colorWarningActive:I[7],colorWarningTextHover:I[8],colorWarningText:I[9],colorWarningTextActive:I[10],colorInfoBg:D[1],colorInfoBgHover:D[2],colorInfoBorder:D[3],colorInfoBorderHover:D[4],colorInfoHover:D[4],colorInfo:D[6],colorInfoActive:D[7],colorInfoTextHover:D[8],colorInfoText:D[9],colorInfoTextActive:D[10],colorLinkHover:z[4],colorLink:z[6],colorLinkActive:z[7],colorBgMask:new rn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const LM=n=>{let e=n,t=n,r=n,s=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?s=4:n>=8&&(s=6),{borderRadius:n,borderRadiusXS:r,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:s}};function MM(n){const{motionUnit:e,motionBase:t,borderRadius:r,lineWidth:s}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:s+1},LM(r))}const VM=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function FM(n){return(n+8)/n}function UM(n){const e=Array.from({length:10}).map((t,r)=>{const s=r-1,a=n*Math.pow(Math.E,s/5),u=r>1?Math.floor(a):Math.ceil(a);return Math.floor(u/2)*2});return e[1]=n,e.map(t=>({size:t,lineHeight:FM(t)}))}const zM=n=>{const e=UM(n),t=e.map(v=>v.size),r=e.map(v=>v.lineHeight),s=t[1],a=t[0],u=t[2],f=r[1],d=r[0],p=r[2];return{fontSizeSM:a,fontSize:s,fontSizeLG:u,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:f,lineHeightLG:p,lineHeightSM:d,fontHeight:Math.round(f*s),fontHeightLG:Math.round(p*u),fontHeightSM:Math.round(d*a),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function jM(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const _r=(n,e)=>new rn(n).setA(e).toRgbString(),Wl=(n,e)=>new rn(n).darken(e).toHexString(),$M=n=>{const e=sR(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},BM=(n,e)=>{const t=n||"#fff",r=e||"#000";return{colorBgBase:t,colorTextBase:r,colorText:_r(r,.88),colorTextSecondary:_r(r,.65),colorTextTertiary:_r(r,.45),colorTextQuaternary:_r(r,.25),colorFill:_r(r,.15),colorFillSecondary:_r(r,.06),colorFillTertiary:_r(r,.04),colorFillQuaternary:_r(r,.02),colorBgSolid:_r(r,1),colorBgSolidHover:_r(r,.75),colorBgSolidActive:_r(r,.95),colorBgLayout:Wl(t,4),colorBgContainer:Wl(t,0),colorBgElevated:Wl(t,0),colorBgSpotlight:_r(r,.85),colorBgBlur:"transparent",colorBorder:Wl(t,15),colorBorderSecondary:Wl(t,6)}};function HM(n){xp.pink=xp.magenta,Dp.pink=Dp.magenta;const e=Object.keys(nR).map(t=>{const r=n[t]===xp[t]?Dp[t]:sR(n[t]);return Array.from({length:10},()=>1).reduce((s,a,u)=>(s[`${t}-${u+1}`]=r[u],s[`${t}${u+1}`]=r[u],s),{})}).reduce((t,r)=>(t=Object.assign(Object.assign({},t),r),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),OM(n,{generateColorPalettes:$M,generateNeutralColorPalettes:BM})),zM(n.fontSize)),jM(n)),VM(n)),MM(n))}const WM=LL(HM),qM={token:qh,override:{override:qh},hashed:!0},GM=$r.createContext(qM),Jw="ant",oR="anticon",S4=["outlined","borderless","filled","underlined"],KM=(n,e)=>e||(n?`${Jw}-${n}`:Jw),Gh=j.createContext({getPrefixCls:KM,iconPrefixCls:oR}),{Consumer:I4}=Gh,Zw={};function QM(n){const e=j.useContext(Gh),{getPrefixCls:t,direction:r,getPopupContainer:s}=e,a=e[n];return Object.assign(Object.assign({classNames:Zw,styles:Zw},a),{getPrefixCls:t,direction:r,getPopupContainer:s})}var aR=io(function n(){ro(this,n)}),lR="CALC_UNIT",XM=new RegExp(lR,"g");function Np(n){return typeof n=="number"?"".concat(n).concat(lR):n}var YM=function(n){DI(t,n);var e=OI(t);function t(r,s){var a;ro(this,t),a=e.call(this),He(ou(a),"result",""),He(ou(a),"unitlessCssVar",void 0),He(ou(a),"lowPriority",void 0);var u=pn(r);return a.unitlessCssVar=s,r instanceof t?a.result="(".concat(r.result,")"):u==="number"?a.result=Np(r):u==="string"&&(a.result=r),a}return io(t,[{key:"add",value:function(s){return s instanceof t?this.result="".concat(this.result," + ").concat(s.getResult()):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," + ").concat(Np(s))),this.lowPriority=!0,this}},{key:"sub",value:function(s){return s instanceof t?this.result="".concat(this.result," - ").concat(s.getResult()):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," - ").concat(Np(s))),this.lowPriority=!0,this}},{key:"mul",value:function(s){return this.lowPriority&&(this.result="(".concat(this.result,")")),s instanceof t?this.result="".concat(this.result," * ").concat(s.getResult(!0)):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," * ").concat(s)),this.lowPriority=!1,this}},{key:"div",value:function(s){return this.lowPriority&&(this.result="(".concat(this.result,")")),s instanceof t?this.result="".concat(this.result," / ").concat(s.getResult(!0)):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," / ").concat(s)),this.lowPriority=!1,this}},{key:"getResult",value:function(s){return this.lowPriority||s?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(s){var a=this,u=s||{},f=u.unit,d=!0;return typeof f=="boolean"?d=f:Array.from(this.unitlessCssVar).some(function(p){return a.result.includes(p)})&&(d=!1),this.result=this.result.replace(XM,d?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(aR),JM=function(n){DI(t,n);var e=OI(t);function t(r){var s;return ro(this,t),s=e.call(this),He(ou(s),"result",0),r instanceof t?s.result=r.result:typeof r=="number"&&(s.result=r),s}return io(t,[{key:"add",value:function(s){return s instanceof t?this.result+=s.result:typeof s=="number"&&(this.result+=s),this}},{key:"sub",value:function(s){return s instanceof t?this.result-=s.result:typeof s=="number"&&(this.result-=s),this}},{key:"mul",value:function(s){return s instanceof t?this.result*=s.result:typeof s=="number"&&(this.result*=s),this}},{key:"div",value:function(s){return s instanceof t?this.result/=s.result:typeof s=="number"&&(this.result/=s),this}},{key:"equal",value:function(){return this.result}}]),t}(aR),ZM=function(e,t){var r=e==="css"?YM:JM;return function(s){return new r(s,t)}},eE=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function tE(n,e,t,r){var s=vt({},e[n]);if(r!=null&&r.deprecatedTokens){var a=r.deprecatedTokens;a.forEach(function(f){var d=_t(f,2),p=d[0],v=d[1];if(s!=null&&s[p]||s!=null&&s[v]){var w;(w=s[v])!==null&&w!==void 0||(s[v]=s==null?void 0:s[p])}})}var u=vt(vt({},t),s);return Object.keys(u).forEach(function(f){u[f]===e[f]&&delete u[f]}),u}var uR=typeof CSSINJS_STATISTIC<"u",Vm=!0;function ly(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!uR)return Object.assign.apply(Object,[{}].concat(e));Vm=!1;var r={};return e.forEach(function(s){if(pn(s)==="object"){var a=Object.keys(s);a.forEach(function(u){Object.defineProperty(r,u,{configurable:!0,enumerable:!0,get:function(){return s[u]}})})}}),Vm=!0,r}var nE={};function eV(){}var tV=function(e){var t,r=e,s=eV;return uR&&typeof Proxy<"u"&&(t=new Set,r=new Proxy(e,{get:function(u,f){if(Vm){var d;(d=t)===null||d===void 0||d.add(f)}return u[f]}}),s=function(u,f){var d;nE[u]={global:Array.from(t),component:vt(vt({},(d=nE[u])===null||d===void 0?void 0:d.component),f)}}),{token:r,keys:t,flush:s}};function rE(n,e,t){if(typeof t=="function"){var r;return t(ly(e,(r=e[n])!==null&&r!==void 0?r:{}))}return t??{}}function nV(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return"max(".concat(r.map(function(a){return Em(a)}).join(","),")")},min:function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return"min(".concat(r.map(function(a){return Em(a)}).join(","),")")}}}var rV=1e3*60*10,iV=function(){function n(){ro(this,n),He(this,"map",new Map),He(this,"objectIDMap",new WeakMap),He(this,"nextID",0),He(this,"lastAccessBeat",new Map),He(this,"accessBeat",0)}return io(n,[{key:"set",value:function(t,r){this.clear();var s=this.getCompositeKey(t);this.map.set(s,r),this.lastAccessBeat.set(s,Date.now())}},{key:"get",value:function(t){var r=this.getCompositeKey(t),s=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,s}},{key:"getCompositeKey",value:function(t){var r=this,s=t.map(function(a){return a&&pn(a)==="object"?"obj_".concat(r.getObjectID(a)):"".concat(pn(a),"_").concat(a)});return s.join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);var r=this.nextID;return this.objectIDMap.set(t,r),this.nextID+=1,r}},{key:"clear",value:function(){var t=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(s,a){r-s>rV&&(t.map.delete(a),t.lastAccessBeat.delete(a))}),this.accessBeat=0}}}]),n}(),iE=new iV;function sV(n,e){return $r.useMemo(function(){var t=iE.get(e);if(t)return t;var r=n();return iE.set(e,r),r},e)}var oV=function(){return{}};function aV(n){var e=n.useCSP,t=e===void 0?oV:e,r=n.useToken,s=n.usePrefix,a=n.getResetStyles,u=n.getCommonStyle,f=n.getCompUnitless;function d(E,I,P,D){var C=Array.isArray(E)?E[0]:E;function O(R){return"".concat(String(C)).concat(R.slice(0,1).toUpperCase()).concat(R.slice(1))}var z=(D==null?void 0:D.unitless)||{},W=typeof f=="function"?f(E):{},X=vt(vt({},W),{},He({},O("zIndexPopup"),!0));Object.keys(z).forEach(function(R){X[O(R)]=z[R]});var Y=vt(vt({},D),{},{unitless:X,prefixToken:O}),L=v(E,I,P,Y),k=p(C,P,Y);return function(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R,N=L(R,A),V=_t(N,2),U=V[1],b=k(A),de=_t(b,2),xe=de[0],_e=de[1];return[xe,U,_e]}}function p(E,I,P){var D=P.unitless,C=P.injectStyle,O=C===void 0?!0:C,z=P.prefixToken,W=P.ignore,X=function(k){var R=k.rootCls,A=k.cssVar,N=A===void 0?{}:A,V=r(),U=V.realToken;return PM({path:[E],prefix:N.prefix,key:N.key,unitless:D,ignore:W,token:U,scope:R},function(){var b=rE(E,U,I),de=tE(E,U,b,{deprecatedTokens:P==null?void 0:P.deprecatedTokens});return Object.keys(b).forEach(function(xe){de[z(xe)]=de[xe],delete de[xe]}),de}),null},Y=function(k){var R=r(),A=R.cssVar;return[function(N){return O&&A?$r.createElement($r.Fragment,null,$r.createElement(X,{rootCls:k,cssVar:A,component:E}),N):N},A==null?void 0:A.key]};return Y}function v(E,I,P){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},C=Array.isArray(E)?E:[E,E],O=_t(C,1),z=O[0],W=C.join("-"),X=n.layer||{name:"antd"};return function(Y){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y,k=r(),R=k.theme,A=k.realToken,N=k.hashId,V=k.token,U=k.cssVar,b=s(),de=b.rootPrefixCls,xe=b.iconPrefixCls,_e=t(),Se=U?"css":"js",re=sV(function(){var ke=new Set;return U&&Object.keys(D.unitless||{}).forEach(function(Ve){ke.add(gh(Ve,U.prefix)),ke.add(gh(Ve,eE(z,U.prefix)))}),ZM(Se,ke)},[Se,z,U==null?void 0:U.prefix]),ce=nV(Se),le=ce.max,B=ce.min,ee={theme:R,token:V,hashId:N,nonce:function(){return _e.nonce},clientOnly:D.clientOnly,layer:X,order:D.order||-999};typeof a=="function"&&qw(vt(vt({},ee),{},{clientOnly:!1,path:["Shared",de]}),function(){return a(V,{prefix:{rootPrefixCls:de,iconPrefixCls:xe},csp:_e})});var pe=qw(vt(vt({},ee),{},{path:[W,Y,xe]}),function(){if(D.injectStyle===!1)return[];var ke=tV(V),Ve=ke.token,$e=ke.flush,qe=rE(z,A,P),tt=".".concat(Y),lt=tE(z,A,qe,{deprecatedTokens:D.deprecatedTokens});U&&qe&&pn(qe)==="object"&&Object.keys(qe).forEach(function(qn){qe[qn]="var(".concat(gh(qn,eE(z,U.prefix)),")")});var Je=ly(Ve,{componentCls:tt,prefixCls:Y,iconCls:".".concat(xe),antCls:".".concat(de),calc:re,max:le,min:B},U?qe:lt),Kt=I(Je,{hashId:N,prefixCls:Y,rootPrefixCls:de,iconPrefixCls:xe});$e(z,lt);var Cr=typeof u=="function"?u(Je,Y,L,D.resetFont):null;return[D.resetStyle===!1?null:Cr,Kt]});return[pe,N]}}function w(E,I,P){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},C=v(E,I,P,vt({resetStyle:!1,order:-998},D)),O=function(W){var X=W.prefixCls,Y=W.rootCls,L=Y===void 0?X:Y;return C(X,L),null};return O}return{genStyleHooks:d,genSubStyleComponent:w,genComponentStyleHook:v}}const lV="5.24.9";function Op(n){return n>=0&&n<=255}function nh(n,e){const{r:t,g:r,b:s,a}=new rn(n).toRgb();if(a<1)return n;const{r:u,g:f,b:d}=new rn(e).toRgb();for(let p=.01;p<=1;p+=.01){const v=Math.round((t-u*(1-p))/p),w=Math.round((r-f*(1-p))/p),E=Math.round((s-d*(1-p))/p);if(Op(v)&&Op(w)&&Op(E))return new rn({r:v,g:w,b:E,a:Math.round(p*100)/100}).toRgbString()}return new rn({r:t,g:r,b:s,a:1}).toRgbString()}var uV=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function cR(n){const{override:e}=n,t=uV(n,["override"]),r=Object.assign({},e);Object.keys(qh).forEach(E=>{delete r[E]});const s=Object.assign(Object.assign({},t),r),a=480,u=576,f=768,d=992,p=1200,v=1600;if(s.motion===!1){const E="0s";s.motionDurationFast=E,s.motionDurationMid=E,s.motionDurationSlow=E}return Object.assign(Object.assign(Object.assign({},s),{colorFillContent:s.colorFillSecondary,colorFillContentHover:s.colorFill,colorFillAlter:s.colorFillQuaternary,colorBgContainerDisabled:s.colorFillTertiary,colorBorderBg:s.colorBgContainer,colorSplit:nh(s.colorBorderSecondary,s.colorBgContainer),colorTextPlaceholder:s.colorTextQuaternary,colorTextDisabled:s.colorTextQuaternary,colorTextHeading:s.colorText,colorTextLabel:s.colorTextSecondary,colorTextDescription:s.colorTextTertiary,colorTextLightSolid:s.colorWhite,colorHighlight:s.colorError,colorBgTextHover:s.colorFillSecondary,colorBgTextActive:s.colorFill,colorIcon:s.colorTextTertiary,colorIconHover:s.colorText,colorErrorOutline:nh(s.colorErrorBg,s.colorBgContainer),colorWarningOutline:nh(s.colorWarningBg,s.colorBgContainer),fontSizeIcon:s.fontSizeSM,lineWidthFocus:s.lineWidth*3,lineWidth:s.lineWidth,controlOutlineWidth:s.lineWidth*2,controlInteractiveSize:s.controlHeight/2,controlItemBgHover:s.colorFillTertiary,controlItemBgActive:s.colorPrimaryBg,controlItemBgActiveHover:s.colorPrimaryBgHover,controlItemBgActiveDisabled:s.colorFill,controlTmpOutline:s.colorFillQuaternary,controlOutline:nh(s.colorPrimaryBg,s.colorBgContainer),lineType:s.lineType,borderRadius:s.borderRadius,borderRadiusXS:s.borderRadiusXS,borderRadiusSM:s.borderRadiusSM,borderRadiusLG:s.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:s.sizeXXS,paddingXS:s.sizeXS,paddingSM:s.sizeSM,padding:s.size,paddingMD:s.sizeMD,paddingLG:s.sizeLG,paddingXL:s.sizeXL,paddingContentHorizontalLG:s.sizeLG,paddingContentVerticalLG:s.sizeMS,paddingContentHorizontal:s.sizeMS,paddingContentVertical:s.sizeSM,paddingContentHorizontalSM:s.size,paddingContentVerticalSM:s.sizeXS,marginXXS:s.sizeXXS,marginXS:s.sizeXS,marginSM:s.sizeSM,margin:s.size,marginMD:s.sizeMD,marginLG:s.sizeLG,marginXL:s.sizeXL,marginXXL:s.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:a,screenXSMin:a,screenXSMax:u-1,screenSM:u,screenSMMin:u,screenSMMax:f-1,screenMD:f,screenMDMin:f,screenMDMax:d-1,screenLG:d,screenLGMin:d,screenLGMax:p-1,screenXL:p,screenXLMin:p,screenXLMax:v-1,screenXXL:v,screenXXLMin:v,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new rn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new rn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new rn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var sE=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const hR={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},cV={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},hV={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},fR=(n,e,t)=>{const r=t.getDerivativeToken(n),{override:s}=e,a=sE(e,["override"]);let u=Object.assign(Object.assign({},r),{override:s});return u=cR(u),a&&Object.entries(a).forEach(f=>{let[d,p]=f;const{theme:v}=p,w=sE(p,["theme"]);let E=w;v&&(E=fR(Object.assign(Object.assign({},u),w),{override:w},v)),u[d]=E}),u};function fV(){const{token:n,hashed:e,theme:t,override:r,cssVar:s}=$r.useContext(GM),a=`${lV}-${e||""}`,u=t||WM,[f,d,p]=eM(u,[qh,n],{salt:a,override:r,getComputedToken:fR,formatToken:cR,cssVar:s&&{prefix:s.prefix,key:s.key,unitless:hR,ignore:cV,preserve:hV}});return[u,p,e?d:"",f,s]}const R4={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},dV=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},pV=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),C4=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),mV=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active, &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),gV=(n,e,t,r)=>{const s=`[class^="${e}"], [class*=" ${e}"]`,a=t?`.${t}`:s,u={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let f={};return r!==!1&&(f={fontFamily:n.fontFamily,fontSize:n.fontSize}),{[a]:Object.assign(Object.assign(Object.assign({},f),u),{[s]:u})}},yV=(n,e)=>({outline:`${Em(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),A4=(n,e)=>({"&:focus-visible":Object.assign({},yV(n,e))}),vV=n=>({[`.${n}`]:Object.assign(Object.assign({},pV()),{[`.${n} .${n}-icon`]:{display:"block"}})}),{genStyleHooks:_V,genComponentStyleHook:P4,genSubStyleComponent:k4}=aV({usePrefix:()=>{const{getPrefixCls:n,iconPrefixCls:e}=j.useContext(Gh);return{rootPrefixCls:n(),iconPrefixCls:e}},useToken:()=>{const[n,e,t,r,s]=fV();return{theme:n,realToken:e,hashId:t,token:r,cssVar:s}},useCSP:()=>{const{csp:n}=j.useContext(Gh);return n??{}},getResetStyles:(n,e)=>{var t;const r=mV(n);return[r,{"&":r},vV((t=e==null?void 0:e.prefix.iconPrefixCls)!==null&&t!==void 0?t:oR)]},getCommonStyle:gV,getCompUnitless:()=>hR});function b4(n){return n&&$r.isValidElement(n)&&n.type===$r.Fragment}const wV=(n,e,t)=>$r.isValidElement(n)?$r.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e;function EV(n,e){return wV(n,n,e)}function TV(n,e,t){var r=t||{},s=r.noTrailing,a=s===void 0?!1:s,u=r.noLeading,f=u===void 0?!1:u,d=r.debounceMode,p=d===void 0?void 0:d,v,w=!1,E=0;function I(){v&&clearTimeout(v)}function P(C){var O=C||{},z=O.upcomingOnly,W=z===void 0?!1:z;I(),w=!W}function D(){for(var C=arguments.length,O=new Array(C),z=0;z<C;z++)O[z]=arguments[z];var W=this,X=Date.now()-E;if(w)return;function Y(){E=Date.now(),e.apply(W,O)}function L(){v=void 0}!f&&p&&!v&&Y(),I(),p===void 0&&X>n?f?(E=Date.now(),a||(v=setTimeout(p?L:Y,n))):Y():a!==!0&&(v=setTimeout(p?L:Y,p===void 0?n-X:n))}return D.cancel=P,D}function SV(n,e,t){var r={},s=r.atBegin,a=s===void 0?!1:s;return TV(n,e,{debounceMode:a!==!1})}const Kh=100,dR=Kh/5,pR=Kh/2-dR/2,Lp=pR*2*Math.PI,oE=50,aE=n=>{const{dotClassName:e,style:t,hasCircleCls:r}=n;return j.createElement("circle",{className:ji(`${e}-circle`,{[`${e}-circle-bg`]:r}),r:pR,cx:oE,cy:oE,strokeWidth:dR,style:t})},IV=n=>{let{percent:e,prefixCls:t}=n;const r=`${t}-dot`,s=`${r}-holder`,a=`${s}-hidden`,[u,f]=j.useState(!1);iy(()=>{e!==0&&f(!0)},[e!==0]);const d=Math.max(Math.min(e,100),0);if(!u)return null;const p={strokeDashoffset:`${Lp/4}`,strokeDasharray:`${Lp*d/100} ${Lp*(100-d)/100}`};return j.createElement("span",{className:ji(s,`${r}-progress`,d<=0&&a)},j.createElement("svg",{viewBox:`0 0 ${Kh} ${Kh}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":d},j.createElement(aE,{dotClassName:r,hasCircleCls:!0}),j.createElement(aE,{dotClassName:r,style:p})))};function RV(n){const{prefixCls:e,percent:t=0}=n,r=`${e}-dot`,s=`${r}-holder`,a=`${s}-hidden`;return j.createElement(j.Fragment,null,j.createElement("span",{className:ji(s,t>0&&a)},j.createElement("span",{className:ji(r,`${e}-dot-spin`)},[1,2,3,4].map(u=>j.createElement("i",{className:`${e}-dot-item`,key:u})))),j.createElement(IV,{prefixCls:e,percent:t}))}function CV(n){const{prefixCls:e,indicator:t,percent:r}=n,s=`${e}-dot`;return t&&j.isValidElement(t)?EV(t,{className:ji(t.props.className,s),percent:r}):j.createElement(RV,{prefixCls:e,percent:r})}const AV=new tR("antSpinMove",{to:{opacity:1}}),PV=new tR("antRotate",{to:{transform:"rotate(405deg)"}}),kV=n=>{const{componentCls:e,calc:t}=n;return{[e]:Object.assign(Object.assign({},dV(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:n.fontSize,paddingTop:t(t(n.dotSize).sub(n.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:n.colorBgMask,zIndex:n.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${n.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:n.colorWhite},[`${e}-text`]:{color:n.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(n.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(n.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeSM).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(n.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeLG).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:n.dotSize,display:"inline-block",transition:`transform ${n.motionDurationSlow} ease, opacity ${n.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:n.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),height:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:AV,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:PV,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${n.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:n.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal(),height:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal(),height:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},bV=n=>{const{controlHeightLG:e,controlHeight:t}=n;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},xV=_V("Spin",n=>{const e=ly(n,{spinDotDefault:n.colorTextDescription});return[kV(e)]},bV),DV=200,lE=[[30,.05],[70,.03],[96,.01]];function NV(n,e){const[t,r]=j.useState(0),s=j.useRef(null),a=e==="auto";return j.useEffect(()=>(a&&n&&(r(0),s.current=setInterval(()=>{r(u=>{const f=100-u;for(let d=0;d<lE.length;d+=1){const[p,v]=lE[d];if(u<=p)return u+f*v}return u})},DV)),()=>{clearInterval(s.current)}),[a,n]),a?t:e}var OV=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let mR;function LV(n,e){return!!n&&!!e&&!Number.isNaN(Number(e))}const uy=n=>{var e;const{prefixCls:t,spinning:r=!0,delay:s=0,className:a,rootClassName:u,size:f="default",tip:d,wrapperClassName:p,style:v,children:w,fullscreen:E=!1,indicator:I,percent:P}=n,D=OV(n,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:C,direction:O,className:z,style:W,indicator:X}=QM("spin"),Y=C("spin",t),[L,k,R]=xV(Y),[A,N]=j.useState(()=>r&&!LV(r,s)),V=NV(A,P);j.useEffect(()=>{if(r){const re=SV(s,()=>{N(!0)});return re(),()=>{var ce;(ce=re==null?void 0:re.cancel)===null||ce===void 0||ce.call(re)}}N(!1)},[s,r]);const U=j.useMemo(()=>typeof w<"u"&&!E,[w,E]),b=ji(Y,z,{[`${Y}-sm`]:f==="small",[`${Y}-lg`]:f==="large",[`${Y}-spinning`]:A,[`${Y}-show-text`]:!!d,[`${Y}-rtl`]:O==="rtl"},a,!E&&u,k,R),de=ji(`${Y}-container`,{[`${Y}-blur`]:A}),xe=(e=I??X)!==null&&e!==void 0?e:mR,_e=Object.assign(Object.assign({},W),v),Se=j.createElement("div",Object.assign({},D,{style:_e,className:b,"aria-live":"polite","aria-busy":A}),j.createElement(CV,{prefixCls:Y,indicator:xe,percent:V}),d&&(U||E)?j.createElement("div",{className:`${Y}-text`},d):null);return L(U?j.createElement("div",Object.assign({},D,{className:ji(`${Y}-nested-loading`,p,k,R)}),A&&j.createElement("div",{key:"loading"},Se),j.createElement("div",{className:de,key:"container"},w)):E?j.createElement("div",{className:ji(`${Y}-fullscreen`,{[`${Y}-fullscreen-show`]:A},u,k,R)},Se):Se)};uy.setDefaultIndicator=n=>{mR=n};function MV({children:n}){const{currentUser:e,loading:t}=Zg();return t?mt.jsx("div",{className:"h-screen flex items-center justify-center",children:mt.jsx(uy,{size:"large"})}):e?mt.jsx(mt.Fragment,{children:n}):mt.jsx(DE,{to:"/login",replace:!0})}function uE({children:n}){const{currentUser:e,loading:t}=Zg();return t?mt.jsx("div",{className:"h-screen flex items-center justify-center",children:mt.jsx(uy,{size:"large"})}):e?mt.jsx(DE,{to:"/",replace:!0}):mt.jsx(mt.Fragment,{children:n})}const VV=j.lazy(()=>Ya(()=>import("./App-g4oPtJJC.js"),[])),FV=j.lazy(()=>Ya(()=>import("./Login-wZXqpeMJ.js"),__vite__mapDeps([0,1,2,3]))),UV=j.lazy(()=>Ya(()=>import("./Register-BGnYz-76.js"),__vite__mapDeps([4,1,2,3]))),zV=j.lazy(()=>Ya(()=>import("./Home-AeO-hTDd.js"),__vite__mapDeps([5,6,2,3]))),jV=j.lazy(()=>Ya(()=>import("./ChatRoom-yZhzDi-V.js"),__vite__mapDeps([7,6,2]))),$V=j.lazy(()=>Ya(()=>import("./NotFound-DBGixV9A.js"),[])),BV=T1([{path:"/",element:mt.jsx(MV,{children:mt.jsx(VV,{})}),children:[{path:"",element:mt.jsx(zV,{})},{path:"chat/:chatId",element:mt.jsx(jV,{})}]},{path:"login",element:mt.jsx(uE,{children:mt.jsx(FV,{})})},{path:"register",element:mt.jsx(uE,{children:mt.jsx(UV,{})})},{path:"*",element:mt.jsx($V,{})}]);function HV(){return mt.jsx("div",{className:"flex justify-center items-center h-screen text-xl text-blue-500",children:"ang ti ni dung..."})}const gR=j.createContext({user:null}),WV=({children:n})=>{const{currentUser:e}=Zg(),[t,r]=j.useState(null);j.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid)){r(null);return}try{const u=await UO(YS(Z2,"users",e.uid));u.exists()?r(u.data()):(console.warn("Khng tm thy user trong Firestore."),r(null))}catch(u){console.error("Li khi ly user t Firestore:",u),r(null)}})()},[e]);const s=j.useMemo(()=>({user:t}),[t]);return mt.jsx(gR.Provider,{value:s,children:n})},x4=()=>j.useContext(gR);AC.createRoot(document.getElementById("root")).render(mt.jsx(j.StrictMode,{children:mt.jsx(eL,{children:mt.jsx(WV,{children:mt.jsx(j.Suspense,{fallback:mt.jsx(HV,{}),children:mt.jsx(L1,{router:BV})})})})}));export{xp as $,Lu as A,C4 as B,Gh as C,vt as D,_t as E,vi as F,Km as G,He as H,mL as I,ey as J,tR as K,VE as L,_4 as M,DI as N,KV as O,OI as P,ro as Q,$r as R,io as S,pn as T,w4 as U,yV as V,R4 as W,rn as X,pV as Y,A4 as Z,sl as _,iy as a,ou as a0,Dm as a1,Fm as a2,g4 as a3,p4 as a4,m4 as a5,v4 as a6,l4 as a7,d4 as a8,u4 as a9,vV as aA,hE as aB,qM as aC,oR as aD,Pf as aE,LL as aF,WM as aG,qh as aH,GM as aI,Jw as aJ,QV as aK,P4 as aL,FM as aM,nh as aN,UI as aO,NI as aP,gm as aQ,Hh as aR,S4 as aS,ZV as aa,JV as ab,n4 as ac,r4 as ad,i4 as ae,o4 as af,x4 as ag,h4 as ah,c4 as ai,f4 as aj,yL as ak,b4 as al,qV as am,Ys as an,s4 as ao,AL as ap,O1 as aq,oL as ar,IL as as,TL as at,LI as au,CL as av,au as aw,sR as ax,T4 as ay,qw as az,dV as b,ji as c,Em as d,QM as e,E4 as f,_V as g,vL as h,k4 as i,mt as j,pm as k,EV as l,ly as m,e4 as n,YS as o,Z2 as p,UO as q,j as r,_L as s,a4 as t,fV as u,y4 as v,J2 as w,bE as x,YV as y,XV as z};
