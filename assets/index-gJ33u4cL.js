const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-xM9Q1PSH.js","assets/AuthForm-Dr_PkIIy.js","assets/index-D4q4rngQ.js","assets/index-C6m0BQzp.js","assets/Register-D6j9RZDm.js","assets/Home-B1JAywd8.js","assets/Avatar-Dlwhu0HS.js","assets/ChatRoom-p66oCXiC.js"])))=>i.map(i=>d[i]);
function fE(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Um(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var np={exports:{}},Fl={},rp={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function SC(){if(v_)return Xe;v_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function C(B,ee,pe){this.props=B,this.context=ee,this.refs=D,this.updater=pe||I}C.prototype.isReactComponent={},C.prototype.setState=function(B,ee){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ee,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function M(){}M.prototype=C.prototype;function j(B,ee,pe){this.props=B,this.context=ee,this.refs=D,this.updater=pe||I}var W=j.prototype=new M;W.constructor=j,A(W,C.prototype),W.isPureReactComponent=!0;var X=Array.isArray,Y=Object.prototype.hasOwnProperty,L={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(B,ee,pe){var ke,Ve={},$e=null,qe=null;if(ee!=null)for(ke in ee.ref!==void 0&&(qe=ee.ref),ee.key!==void 0&&($e=""+ee.key),ee)Y.call(ee,ke)&&!k.hasOwnProperty(ke)&&(Ve[ke]=ee[ke]);var tt=arguments.length-2;if(tt===1)Ve.children=pe;else if(1<tt){for(var lt=Array(tt),Je=0;Je<tt;Je++)lt[Je]=arguments[Je+2];Ve.children=lt}if(B&&B.defaultProps)for(ke in tt=B.defaultProps,tt)Ve[ke]===void 0&&(Ve[ke]=tt[ke]);return{$$typeof:n,type:B,key:$e,ref:qe,props:Ve,_owner:L.current}}function P(B,ee){return{$$typeof:n,type:B.type,key:ee,ref:B.ref,props:B.props,_owner:B._owner}}function N(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function V(B){var ee={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(pe){return ee[pe]})}var U=/\/+/g;function b(B,ee){return typeof B=="object"&&B!==null&&B.key!=null?V(""+B.key):ee.toString(36)}function de(B,ee,pe,ke,Ve){var $e=typeof B;($e==="undefined"||$e==="boolean")&&(B=null);var qe=!1;if(B===null)qe=!0;else switch($e){case"string":case"number":qe=!0;break;case"object":switch(B.$$typeof){case n:case e:qe=!0}}if(qe)return qe=B,Ve=Ve(qe),B=ke===""?"."+b(qe,0):ke,X(Ve)?(pe="",B!=null&&(pe=B.replace(U,"$&/")+"/"),de(Ve,ee,pe,"",function(Je){return Je})):Ve!=null&&(N(Ve)&&(Ve=P(Ve,pe+(!Ve.key||qe&&qe.key===Ve.key?"":(""+Ve.key).replace(U,"$&/")+"/")+B)),ee.push(Ve)),1;if(qe=0,ke=ke===""?".":ke+":",X(B))for(var tt=0;tt<B.length;tt++){$e=B[tt];var lt=ke+b($e,tt);qe+=de($e,ee,pe,lt,Ve)}else if(lt=E(B),typeof lt=="function")for(B=lt.call(B),tt=0;!($e=B.next()).done;)$e=$e.value,lt=ke+b($e,tt++),qe+=de($e,ee,pe,lt,Ve);else if($e==="object")throw ee=String(B),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return qe}function xe(B,ee,pe){if(B==null)return B;var ke=[],Ve=0;return de(B,ke,"","",function($e){return ee.call(pe,$e,Ve++)}),ke}function _e(B){if(B._status===-1){var ee=B._result;ee=ee(),ee.then(function(pe){(B._status===0||B._status===-1)&&(B._status=1,B._result=pe)},function(pe){(B._status===0||B._status===-1)&&(B._status=2,B._result=pe)}),B._status===-1&&(B._status=0,B._result=ee)}if(B._status===1)return B._result.default;throw B._result}var Se={current:null},re={transition:null},ce={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:re,ReactCurrentOwner:L};function le(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:xe,forEach:function(B,ee,pe){xe(B,function(){ee.apply(this,arguments)},pe)},count:function(B){var ee=0;return xe(B,function(){ee++}),ee},toArray:function(B){return xe(B,function(ee){return ee})||[]},only:function(B){if(!N(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Xe.Component=C,Xe.Fragment=t,Xe.Profiler=s,Xe.PureComponent=j,Xe.StrictMode=r,Xe.Suspense=d,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Xe.act=le,Xe.cloneElement=function(B,ee,pe){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ke=A({},B.props),Ve=B.key,$e=B.ref,qe=B._owner;if(ee!=null){if(ee.ref!==void 0&&($e=ee.ref,qe=L.current),ee.key!==void 0&&(Ve=""+ee.key),B.type&&B.type.defaultProps)var tt=B.type.defaultProps;for(lt in ee)Y.call(ee,lt)&&!k.hasOwnProperty(lt)&&(ke[lt]=ee[lt]===void 0&&tt!==void 0?tt[lt]:ee[lt])}var lt=arguments.length-2;if(lt===1)ke.children=pe;else if(1<lt){tt=Array(lt);for(var Je=0;Je<lt;Je++)tt[Je]=arguments[Je+2];ke.children=tt}return{$$typeof:n,type:B.type,key:Ve,ref:$e,props:ke,_owner:qe}},Xe.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Xe.createElement=R,Xe.createFactory=function(B){var ee=R.bind(null,B);return ee.type=B,ee},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(B){return{$$typeof:f,render:B}},Xe.isValidElement=N,Xe.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:_e}},Xe.memo=function(B,ee){return{$$typeof:p,type:B,compare:ee===void 0?null:ee}},Xe.startTransition=function(B){var ee=re.transition;re.transition={};try{B()}finally{re.transition=ee}},Xe.unstable_act=le,Xe.useCallback=function(B,ee){return Se.current.useCallback(B,ee)},Xe.useContext=function(B){return Se.current.useContext(B)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(B){return Se.current.useDeferredValue(B)},Xe.useEffect=function(B,ee){return Se.current.useEffect(B,ee)},Xe.useId=function(){return Se.current.useId()},Xe.useImperativeHandle=function(B,ee,pe){return Se.current.useImperativeHandle(B,ee,pe)},Xe.useInsertionEffect=function(B,ee){return Se.current.useInsertionEffect(B,ee)},Xe.useLayoutEffect=function(B,ee){return Se.current.useLayoutEffect(B,ee)},Xe.useMemo=function(B,ee){return Se.current.useMemo(B,ee)},Xe.useReducer=function(B,ee,pe){return Se.current.useReducer(B,ee,pe)},Xe.useRef=function(B){return Se.current.useRef(B)},Xe.useState=function(B){return Se.current.useState(B)},Xe.useSyncExternalStore=function(B,ee,pe){return Se.current.useSyncExternalStore(B,ee,pe)},Xe.useTransition=function(){return Se.current.useTransition()},Xe.version="18.3.1",Xe}var __;function zm(){return __||(__=1,rp.exports=SC()),rp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function IC(){if(w_)return Fl;w_=1;var n=zm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,p){var v,w={},E=null,I=null;p!==void 0&&(E=""+p),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(I=d.ref);for(v in d)r.call(d,v)&&!a.hasOwnProperty(v)&&(w[v]=d[v]);if(f&&f.defaultProps)for(v in d=f.defaultProps,d)w[v]===void 0&&(w[v]=d[v]);return{$$typeof:e,type:f,key:E,ref:I,props:w,_owner:s.current}}return Fl.Fragment=t,Fl.jsx=u,Fl.jsxs=u,Fl}var E_;function RC(){return E_||(E_=1,np.exports=IC()),np.exports}var mt=RC(),z=zm();const $r=Um(z),dE=fE({__proto__:null,default:$r},[z]);var Hc={},ip={exports:{}},jn={},sp={exports:{}},op={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function CC(){return T_||(T_=1,function(n){function e(re,ce){var le=re.length;re.push(ce);e:for(;0<le;){var B=le-1>>>1,ee=re[B];if(0<s(ee,ce))re[B]=ce,re[le]=ee,le=B;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ce=re[0],le=re.pop();if(le!==ce){re[0]=le;e:for(var B=0,ee=re.length,pe=ee>>>1;B<pe;){var ke=2*(B+1)-1,Ve=re[ke],$e=ke+1,qe=re[$e];if(0>s(Ve,le))$e<ee&&0>s(qe,Ve)?(re[B]=qe,re[$e]=le,B=$e):(re[B]=Ve,re[ke]=le,B=ke);else if($e<ee&&0>s(qe,le))re[B]=qe,re[$e]=le,B=$e;else break e}}return ce}function s(re,ce){var le=re.sortIndex-ce.sortIndex;return le!==0?le:re.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var d=[],p=[],v=1,w=null,E=3,I=!1,A=!1,D=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(re){for(var ce=t(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=re)r(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=t(p)}}function X(re){if(D=!1,W(re),!A)if(t(d)!==null)A=!0,_e(Y);else{var ce=t(p);ce!==null&&Se(X,ce.startTime-re)}}function Y(re,ce){A=!1,D&&(D=!1,M(R),R=-1),I=!0;var le=E;try{for(W(ce),w=t(d);w!==null&&(!(w.expirationTime>ce)||re&&!V());){var B=w.callback;if(typeof B=="function"){w.callback=null,E=w.priorityLevel;var ee=B(w.expirationTime<=ce);ce=n.unstable_now(),typeof ee=="function"?w.callback=ee:w===t(d)&&r(d),W(ce)}else r(d);w=t(d)}if(w!==null)var pe=!0;else{var ke=t(p);ke!==null&&Se(X,ke.startTime-ce),pe=!1}return pe}finally{w=null,E=le,I=!1}}var L=!1,k=null,R=-1,P=5,N=-1;function V(){return!(n.unstable_now()-N<P)}function U(){if(k!==null){var re=n.unstable_now();N=re;var ce=!0;try{ce=k(!0,re)}finally{ce?b():(L=!1,k=null)}}else L=!1}var b;if(typeof j=="function")b=function(){j(U)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,xe=de.port2;de.port1.onmessage=U,b=function(){xe.postMessage(null)}}else b=function(){C(U,0)};function _e(re){k=re,L||(L=!0,b())}function Se(re,ce){R=C(function(){re(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){A||I||(A=!0,_e(Y))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var le=E;E=ce;try{return re()}finally{E=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ce){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=E;E=re;try{return ce()}finally{E=le}},n.unstable_scheduleCallback=function(re,ce,le){var B=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,re){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,re={id:v++,callback:ce,priorityLevel:re,startTime:le,expirationTime:ee,sortIndex:-1},le>B?(re.sortIndex=le,e(p,re),t(d)===null&&re===t(p)&&(D?(M(R),R=-1):D=!0,Se(X,le-B))):(re.sortIndex=ee,e(d,re),A||I||(A=!0,_e(Y))),re},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(re){var ce=E;return function(){var le=E;E=ce;try{return re.apply(this,arguments)}finally{E=le}}}}(op)),op}var S_;function AC(){return S_||(S_=1,sp.exports=CC()),sp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function PC(){if(I_)return jn;I_=1;var n=zm(),e=AC();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(i){return d.call(w,i)?!0:d.call(v,i)?!1:p.test(i)?w[i]=!0:(v[i]=!0,!1)}function I(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,o,l,h){if(o===null||typeof o>"u"||I(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,l,h,m,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(M,j);C[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(M,j);C[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(M,j);C[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function W(i,o,l,h){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,l,m,h)&&(l=null),h||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),L=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),re=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,B;function ee(i){if(B===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var pe=!1;function ke(i,o){if(!i||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var h=J}Reflect.construct(i,[],o)}else{try{o.call()}catch(J){h=J}i.call(o.prototype)}else{try{throw Error()}catch(J){h=J}i()}}catch(J){if(J&&h&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),y=h.stack.split(`
`),T=m.length-1,x=y.length-1;1<=T&&0<=x&&m[T]!==y[x];)x--;for(;1<=T&&0<=x;T--,x--)if(m[T]!==y[x]){if(T!==1||x!==1)do if(T--,x--,0>x||m[T]!==y[x]){var F=`
`+m[T].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=T&&0<=x);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?ee(i):""}function Ve(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=ke(i.type,!1),i;case 11:return i=ke(i.type.render,!1),i;case 1:return i=ke(i.type,!0),i;default:return""}}function $e(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case L:return"Portal";case P:return"Profiler";case R:return"StrictMode";case b:return"Suspense";case de:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case xe:return o=i.displayName||null,o!==null?o:$e(i.type)||"Memo";case _e:o=i._payload,i=i._init;try{return $e(i(o))}catch{}}return null}function qe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function tt(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function lt(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Je(i){var o=lt(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Kt(i){i._valueTracker||(i._valueTracker=Je(i))}function Cr(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=lt(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function qn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Rn(i,o){var l=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Xi(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=tt(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function so(i,o){o=o.checked,o!=null&&W(i,"checked",o,!1)}function Yi(i,o){so(i,o);var l=tt(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Ji(i,o.type,l):o.hasOwnProperty("defaultValue")&&Ji(i,o.type,tt(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Wo(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Ji(i,o,l){(o!=="number"||qn(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Ar=Array.isArray;function Pr(i,o,l,h){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+tt(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Gn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function or(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Ar(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:tt(l)}}function _i(i,o){var l=tt(o.value),h=tt(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function wi(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function dt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?dt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ar,Ei=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ar.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Kr(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qr=["Webkit","ms","Moz","O"];Object.keys(mn).forEach(function(i){Qr.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),mn[o]=mn[i]})});function Zi(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||mn.hasOwnProperty(i)&&mn[i]?(""+o).trim():o+"px"}function es(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=Zi(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var oo=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ts(i,o){if(o){if(oo[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Xr(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function Jr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ns=null,Cn=null,lr=null;function Ti(i){if(i=Sl(i)){if(typeof ns!="function")throw Error(t(280));var o=i.stateNode;o&&(o=sc(o),ns(i.stateNode,i.type,o))}}function An(i){Cn?lr?lr.push(i):lr=[i]:Cn=i}function Zr(){if(Cn){var i=Cn,o=lr;if(lr=Cn=null,Ti(i),o)for(i=0;i<o.length;i++)Ti(o[i])}}function Si(i,o){return i(o)}function ao(){}var O=!1;function H(i,o,l){if(O)return i(o,l);O=!0;try{return Si(i,o,l)}finally{O=!1,(Cn!==null||lr!==null)&&(ao(),Zr())}}function K(i,o){var l=i.stateNode;if(l===null)return null;var h=sc(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var oe=!1;if(f)try{var he={};Object.defineProperty(he,"passive",{get:function(){oe=!0}}),window.addEventListener("test",he,he),window.removeEventListener("test",he,he)}catch{oe=!1}function Ie(i,o,l,h,m,y,T,x,F){var J=Array.prototype.slice.call(arguments,3);try{o.apply(l,J)}catch(se){this.onError(se)}}var be=!1,me=null,Ee=!1,Pe=null,Fe={onError:function(i){be=!0,me=i}};function Ce(i,o,l,h,m,y,T,x,F){be=!1,me=null,Ie.apply(Fe,arguments)}function ze(i,o,l,h,m,y,T,x,F){if(Ce.apply(this,arguments),be){if(be){var J=me;be=!1,me=null}else throw Error(t(198));Ee||(Ee=!0,Pe=J)}}function Ke(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function gt(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function pt(i){if(Ke(i)!==i)throw Error(t(188))}function Qt(i){var o=i.alternate;if(!o){if(o=Ke(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return pt(m),i;if(y===h)return pt(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var T=!1,x=m.child;x;){if(x===l){T=!0,l=m,h=y;break}if(x===h){T=!0,h=m,l=y;break}x=x.sibling}if(!T){for(x=y.child;x;){if(x===l){T=!0,l=y,h=m;break}if(x===h){T=!0,h=y,l=m;break}x=x.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Qe(i){return i=Qt(i),i!==null?ur(i):null}function ur(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=ur(i);if(o!==null)return o;i=i.sibling}return null}var Nn=e.unstable_scheduleCallback,kr=e.unstable_cancelCallback,sn=e.unstable_shouldYield,Ii=e.unstable_requestPaint,ot=e.unstable_now,rs=e.unstable_getCurrentPriorityLevel,Pn=e.unstable_ImmediatePriority,Kn=e.unstable_UserBlockingPriority,We=e.unstable_NormalPriority,Xt=e.unstable_LowPriority,Qn=e.unstable_IdlePriority,cr=null,on=null;function Et(i){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(cr,i,void 0,(i.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Vu,is=Math.log,qo=Math.LN2;function Vu(i){return i>>>=0,i===0?32:31-(is(i)/qo|0)|0}var Go=64,Ko=4194304;function ss(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function lo(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var x=T&~m;x!==0?h=ss(x):(y&=T,y!==0&&(h=ss(y)))}else T=l&~m,T!==0?h=ss(T):y!==0&&(h=ss(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-xt(o),m=1<<l,h|=i[l],o&=~m;return h}function Df(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ri(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-xt(y),x=1<<T,F=m[T];F===-1?((x&l)===0||(x&h)!==0)&&(m[T]=Df(x,o)):F<=o&&(i.expiredLanes|=x),y&=~x}}function Xn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function uo(){var i=Go;return Go<<=1,(Go&4194240)===0&&(Go=64),i}function os(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function as(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-xt(o),i[o]=l}function yt(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-xt(l),y=1<<m;o[m]=0,h[m]=-1,i[m]=-1,l&=~y}}function ls(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-xt(l),m=1<<h;m&o|i[h]&o&&(i[h]|=o),l&=~m}}var nt=0;function us(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Fu,Qo,Uu,zu,ju,ll=!1,ei=[],an=null,br=null,xr=null,cs=new Map,hr=new Map,ti=[],Nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $u(i,o){switch(i){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":cs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(o.pointerId)}}function On(i,o,l,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Sl(o),o!==null&&Qo(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Of(i,o,l,h,m){switch(o){case"focusin":return an=On(an,i,o,l,h,m),!0;case"dragenter":return br=On(br,i,o,l,h,m),!0;case"mouseover":return xr=On(xr,i,o,l,h,m),!0;case"pointerover":var y=m.pointerId;return cs.set(y,On(cs.get(y)||null,i,o,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,hr.set(y,On(hr.get(y)||null,i,o,l,h,m)),!0}return!1}function Bu(i){var o=mo(i.target);if(o!==null){var l=Ke(o);if(l!==null){if(o=l.tag,o===13){if(o=gt(l),o!==null){i.blockedOn=o,ju(i.priority,function(){Uu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ci(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Xo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Yr=h,l.target.dispatchEvent(h),Yr=null}else return o=Sl(l),o!==null&&Qo(o),i.blockedOn=l,!1;o.shift()}return!0}function co(i,o,l){Ci(i)&&l.delete(o)}function Hu(){ll=!1,an!==null&&Ci(an)&&(an=null),br!==null&&Ci(br)&&(br=null),xr!==null&&Ci(xr)&&(xr=null),cs.forEach(co),hr.forEach(co)}function Dr(i,o){i.blockedOn===o&&(i.blockedOn=null,ll||(ll=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hu)))}function Nr(i){function o(m){return Dr(m,i)}if(0<ei.length){Dr(ei[0],i);for(var l=1;l<ei.length;l++){var h=ei[l];h.blockedOn===i&&(h.blockedOn=null)}}for(an!==null&&Dr(an,i),br!==null&&Dr(br,i),xr!==null&&Dr(xr,i),cs.forEach(o),hr.forEach(o),l=0;l<ti.length;l++)h=ti[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<ti.length&&(l=ti[0],l.blockedOn===null);)Bu(l),l.blockedOn===null&&ti.shift()}var Ai=X.ReactCurrentBatchConfig,hs=!0;function Rt(i,o,l,h){var m=nt,y=Ai.transition;Ai.transition=null;try{nt=1,ul(i,o,l,h)}finally{nt=m,Ai.transition=y}}function Lf(i,o,l,h){var m=nt,y=Ai.transition;Ai.transition=null;try{nt=4,ul(i,o,l,h)}finally{nt=m,Ai.transition=y}}function ul(i,o,l,h){if(hs){var m=Xo(i,o,l,h);if(m===null)qf(i,o,h,ho,l),$u(i,h);else if(Of(m,i,o,l,h))h.stopPropagation();else if($u(i,h),o&4&&-1<Nf.indexOf(i)){for(;m!==null;){var y=Sl(m);if(y!==null&&Fu(y),y=Xo(i,o,l,h),y===null&&qf(i,o,h,ho,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else qf(i,o,h,null,l)}}var ho=null;function Xo(i,o,l,h){if(ho=null,i=Jr(h),i=mo(i),i!==null)if(o=Ke(i),o===null)i=null;else if(l=o.tag,l===13){if(i=gt(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ho=i,null}function cl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rs()){case Pn:return 1;case Kn:return 4;case We:case Xt:return 16;case Qn:return 536870912;default:return 16}default:return 16}}var Yn=null,Yo=null,Ln=null;function hl(){if(Ln)return Ln;var i,o=Yo,l=o.length,h,m="value"in Yn?Yn.value:Yn.textContent,y=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(h=1;h<=T&&o[l-h]===m[y-h];h++);return Ln=m.slice(i,1<h?1-h:void 0)}function Jo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ni(){return!0}function fl(){return!1}function ln(i){function o(l,h,m,y,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(l=i[x],this[x]=l?l(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ni:fl,this.isPropagationStopped=fl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),o}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=ln(Or),ri=le({},Or,{view:0,detail:0}),Mf=ln(ri),ea,Pi,fs,fo=le({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ii,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fs&&(fs&&i.type==="mousemove"?(ea=i.screenX-fs.screenX,Pi=i.screenY-fs.screenY):Pi=ea=0,fs=i),ea)},movementY:function(i){return"movementY"in i?i.movementY:Pi}}),ta=ln(fo),dl=le({},fo,{dataTransfer:0}),Wu=ln(dl),na=le({},ri,{relatedTarget:0}),ra=ln(na),qu=le({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),ki=ln(qu),Gu=le({},Or,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ku=ln(Gu),Qu=le({},Or,{data:0}),pl=ln(Qu),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Xu[i])?!!o[i]:!1}function ii(){return Yu}var c=le({},ri,{key:function(i){if(i.key){var o=ia[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Jo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ii,charCode:function(i){return i.type==="keypress"?Jo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Jo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=ln(c),_=le({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=ln(_),q=le({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ii}),Z=ln(q),fe=le({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),ft=ln(fe),Bt=le({},fo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=ln(Bt),Yt=[9,13,27,32],Ft=f&&"CompositionEvent"in window,fr=null;f&&"documentMode"in document&&(fr=document.documentMode);var Jn=f&&"TextEvent"in window&&!fr,po=f&&(!Ft||fr&&8<fr&&11>=fr),sa=" ",fy=!1;function dy(i,o){switch(i){case"keyup":return Yt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var oa=!1;function wR(i,o){switch(i){case"compositionend":return py(o);case"keypress":return o.which!==32?null:(fy=!0,sa);case"textInput":return i=o.data,i===sa&&fy?null:i;default:return null}}function ER(i,o){if(oa)return i==="compositionend"||!Ft&&dy(i,o)?(i=hl(),Ln=Yo=Yn=null,oa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return po&&o.locale!=="ko"?null:o.data;default:return null}}var TR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!TR[i.type]:o==="textarea"}function gy(i,o,l,h){An(h),o=nc(o,"onChange"),0<o.length&&(l=new Zo("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var ml=null,gl=null;function SR(i){Oy(i,0)}function Ju(i){var o=ha(i);if(Cr(o))return i}function IR(i,o){if(i==="change")return o}var yy=!1;if(f){var Vf;if(f){var Ff="oninput"in document;if(!Ff){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),Ff=typeof vy.oninput=="function"}Vf=Ff}else Vf=!1;yy=Vf&&(!document.documentMode||9<document.documentMode)}function _y(){ml&&(ml.detachEvent("onpropertychange",wy),gl=ml=null)}function wy(i){if(i.propertyName==="value"&&Ju(gl)){var o=[];gy(o,gl,i,Jr(i)),H(SR,o)}}function RR(i,o,l){i==="focusin"?(_y(),ml=o,gl=l,ml.attachEvent("onpropertychange",wy)):i==="focusout"&&_y()}function CR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ju(gl)}function AR(i,o){if(i==="click")return Ju(o)}function PR(i,o){if(i==="input"||i==="change")return Ju(o)}function kR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Lr=typeof Object.is=="function"?Object.is:kR;function yl(i,o){if(Lr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!d.call(o,m)||!Lr(i[m],o[m]))return!1}return!0}function Ey(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ty(i,o){var l=Ey(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ey(l)}}function Sy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Sy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Iy(){for(var i=window,o=qn();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=qn(i.document)}return o}function Uf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function bR(i){var o=Iy(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Sy(l.ownerDocument.documentElement,l)){if(h!==null&&Uf(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!i.extend&&y>h&&(m=h,h=y,y=m),m=Ty(l,y);var T=Ty(l,h);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var xR=f&&"documentMode"in document&&11>=document.documentMode,aa=null,zf=null,vl=null,jf=!1;function Ry(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;jf||aa==null||aa!==qn(h)||(h=aa,"selectionStart"in h&&Uf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),vl&&yl(vl,h)||(vl=h,h=nc(zf,"onSelect"),0<h.length&&(o=new Zo("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=aa)))}function Zu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var la={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},$f={},Cy={};f&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function ec(i){if($f[i])return $f[i];if(!la[i])return i;var o=la[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Cy)return $f[i]=o[l];return i}var Ay=ec("animationend"),Py=ec("animationiteration"),ky=ec("animationstart"),by=ec("transitionend"),xy=new Map,Dy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(i,o){xy.set(i,o),a(o,[i])}for(var Bf=0;Bf<Dy.length;Bf++){var Hf=Dy[Bf],DR=Hf.toLowerCase(),NR=Hf[0].toUpperCase()+Hf.slice(1);ds(DR,"on"+NR)}ds(Ay,"onAnimationEnd"),ds(Py,"onAnimationIteration"),ds(ky,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(by,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OR=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function Ny(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,ze(h,o,void 0,i),i.currentTarget=null}function Oy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var T=h.length-1;0<=T;T--){var x=h[T],F=x.instance,J=x.currentTarget;if(x=x.listener,F!==y&&m.isPropagationStopped())break e;Ny(m,x,J),y=F}else for(T=0;T<h.length;T++){if(x=h[T],F=x.instance,J=x.currentTarget,x=x.listener,F!==y&&m.isPropagationStopped())break e;Ny(m,x,J),y=F}}}if(Ee)throw i=Pe,Ee=!1,Pe=null,i}function Tt(i,o){var l=o[Jf];l===void 0&&(l=o[Jf]=new Set);var h=i+"__bubble";l.has(h)||(Ly(o,i,2,!1),l.add(h))}function Wf(i,o,l){var h=0;o&&(h|=4),Ly(l,i,h,o)}var tc="_reactListening"+Math.random().toString(36).slice(2);function wl(i){if(!i[tc]){i[tc]=!0,r.forEach(function(l){l!=="selectionchange"&&(OR.has(l)||Wf(l,!1,i),Wf(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[tc]||(o[tc]=!0,Wf("selectionchange",!1,o))}}function Ly(i,o,l,h){switch(cl(o)){case 1:var m=Rt;break;case 4:m=Lf;break;default:m=ul}l=m.bind(null,o,l,i),m=void 0,!oe||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function qf(i,o,l,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var x=h.stateNode.containerInfo;if(x===m||x.nodeType===8&&x.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;T=T.return}for(;x!==null;){if(T=mo(x),T===null)return;if(F=T.tag,F===5||F===6){h=y=T;continue e}x=x.parentNode}}h=h.return}H(function(){var J=y,se=Jr(l),ae=[];e:{var ie=xy.get(i);if(ie!==void 0){var ge=Zo,Te=i;switch(i){case"keypress":if(Jo(l)===0)break e;case"keydown":case"keyup":ge=g;break;case"focusin":Te="focus",ge=ra;break;case"focusout":Te="blur",ge=ra;break;case"beforeblur":case"afterblur":ge=ra;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=ta;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Z;break;case Ay:case Py:case ky:ge=ki;break;case by:ge=ft;break;case"scroll":ge=Mf;break;case"wheel":ge=rt;break;case"copy":case"cut":case"paste":ge=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=S}var Re=(o&4)!==0,Lt=!Re&&i==="scroll",G=Re?ie!==null?ie+"Capture":null:ie;Re=[];for(var $=J,Q;$!==null;){Q=$;var ue=Q.stateNode;if(Q.tag===5&&ue!==null&&(Q=ue,G!==null&&(ue=K($,G),ue!=null&&Re.push(El($,ue,Q)))),Lt)break;$=$.return}0<Re.length&&(ie=new ge(ie,Te,null,l,se),ae.push({event:ie,listeners:Re}))}}if((o&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",ie&&l!==Yr&&(Te=l.relatedTarget||l.fromElement)&&(mo(Te)||Te[bi]))break e;if((ge||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,ge?(Te=l.relatedTarget||l.toElement,ge=J,Te=Te?mo(Te):null,Te!==null&&(Lt=Ke(Te),Te!==Lt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(ge=null,Te=J),ge!==Te)){if(Re=ta,ue="onMouseLeave",G="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(Re=S,ue="onPointerLeave",G="onPointerEnter",$="pointer"),Lt=ge==null?ie:ha(ge),Q=Te==null?ie:ha(Te),ie=new Re(ue,$+"leave",ge,l,se),ie.target=Lt,ie.relatedTarget=Q,ue=null,mo(se)===J&&(Re=new Re(G,$+"enter",Te,l,se),Re.target=Q,Re.relatedTarget=Lt,ue=Re),Lt=ue,ge&&Te)t:{for(Re=ge,G=Te,$=0,Q=Re;Q;Q=ua(Q))$++;for(Q=0,ue=G;ue;ue=ua(ue))Q++;for(;0<$-Q;)Re=ua(Re),$--;for(;0<Q-$;)G=ua(G),Q--;for(;$--;){if(Re===G||G!==null&&Re===G.alternate)break t;Re=ua(Re),G=ua(G)}Re=null}else Re=null;ge!==null&&My(ae,ie,ge,Re,!1),Te!==null&&Lt!==null&&My(ae,Lt,Te,Re,!0)}}e:{if(ie=J?ha(J):window,ge=ie.nodeName&&ie.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ie.type==="file")var Ae=IR;else if(my(ie))if(yy)Ae=PR;else{Ae=CR;var Ne=RR}else(ge=ie.nodeName)&&ge.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ae=AR);if(Ae&&(Ae=Ae(i,J))){gy(ae,Ae,l,se);break e}Ne&&Ne(i,ie,J),i==="focusout"&&(Ne=ie._wrapperState)&&Ne.controlled&&ie.type==="number"&&Ji(ie,"number",ie.value)}switch(Ne=J?ha(J):window,i){case"focusin":(my(Ne)||Ne.contentEditable==="true")&&(aa=Ne,zf=J,vl=null);break;case"focusout":vl=zf=aa=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Ry(ae,l,se);break;case"selectionchange":if(xR)break;case"keydown":case"keyup":Ry(ae,l,se)}var Oe;if(Ft)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else oa?dy(i,l)&&(Ue="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(po&&l.locale!=="ko"&&(oa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&oa&&(Oe=hl()):(Yn=se,Yo="value"in Yn?Yn.value:Yn.textContent,oa=!0)),Ne=nc(J,Ue),0<Ne.length&&(Ue=new pl(Ue,i,null,l,se),ae.push({event:Ue,listeners:Ne}),Oe?Ue.data=Oe:(Oe=py(l),Oe!==null&&(Ue.data=Oe)))),(Oe=Jn?wR(i,l):ER(i,l))&&(J=nc(J,"onBeforeInput"),0<J.length&&(se=new pl("onBeforeInput","beforeinput",null,l,se),ae.push({event:se,listeners:J}),se.data=Oe))}Oy(ae,o)})}function El(i,o,l){return{instance:i,listener:o,currentTarget:l}}function nc(i,o){for(var l=o+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=K(i,l),y!=null&&h.unshift(El(i,y,m)),y=K(i,o),y!=null&&h.push(El(i,y,m))),i=i.return}return h}function ua(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function My(i,o,l,h,m){for(var y=o._reactName,T=[];l!==null&&l!==h;){var x=l,F=x.alternate,J=x.stateNode;if(F!==null&&F===h)break;x.tag===5&&J!==null&&(x=J,m?(F=K(l,y),F!=null&&T.unshift(El(l,F,x))):m||(F=K(l,y),F!=null&&T.push(El(l,F,x)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var LR=/\r\n?/g,MR=/\u0000|\uFFFD/g;function Vy(i){return(typeof i=="string"?i:""+i).replace(LR,`
`).replace(MR,"")}function rc(i,o,l){if(o=Vy(o),Vy(i)!==o&&l)throw Error(t(425))}function ic(){}var Gf=null,Kf=null;function Qf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xf=typeof setTimeout=="function"?setTimeout:void 0,VR=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,FR=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(i){return Fy.resolve(null).then(i).catch(UR)}:Xf;function UR(i){setTimeout(function(){throw i})}function Yf(i,o){var l=o,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),Nr(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Nr(o)}function ps(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Uy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var ca=Math.random().toString(36).slice(2),si="__reactFiber$"+ca,Tl="__reactProps$"+ca,bi="__reactContainer$"+ca,Jf="__reactEvents$"+ca,zR="__reactListeners$"+ca,jR="__reactHandles$"+ca;function mo(i){var o=i[si];if(o)return o;for(var l=i.parentNode;l;){if(o=l[bi]||l[si]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Uy(i);i!==null;){if(l=i[si])return l;i=Uy(i)}return o}i=l,l=i.parentNode}return null}function Sl(i){return i=i[si]||i[bi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ha(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function sc(i){return i[Tl]||null}var Zf=[],fa=-1;function ms(i){return{current:i}}function St(i){0>fa||(i.current=Zf[fa],Zf[fa]=null,fa--)}function wt(i,o){fa++,Zf[fa]=i.current,i.current=o}var gs={},gn=ms(gs),Mn=ms(!1),go=gs;function da(i,o){var l=i.type.contextTypes;if(!l)return gs;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Vn(i){return i=i.childContextTypes,i!=null}function oc(){St(Mn),St(gn)}function zy(i,o,l){if(gn.current!==gs)throw Error(t(168));wt(gn,o),wt(Mn,l)}function jy(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,qe(i)||"Unknown",m));return le({},l,h)}function ac(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||gs,go=gn.current,wt(gn,i),wt(Mn,Mn.current),!0}function $y(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=jy(i,o,go),h.__reactInternalMemoizedMergedChildContext=i,St(Mn),St(gn),wt(gn,i)):St(Mn),wt(Mn,l)}var xi=null,lc=!1,ed=!1;function By(i){xi===null?xi=[i]:xi.push(i)}function $R(i){lc=!0,By(i)}function ys(){if(!ed&&xi!==null){ed=!0;var i=0,o=nt;try{var l=xi;for(nt=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}xi=null,lc=!1}catch(m){throw xi!==null&&(xi=xi.slice(i+1)),Nn(Pn,ys),m}finally{nt=o,ed=!1}}return null}var pa=[],ma=0,uc=null,cc=0,dr=[],pr=0,yo=null,Di=1,Ni="";function vo(i,o){pa[ma++]=cc,pa[ma++]=uc,uc=i,cc=o}function Hy(i,o,l){dr[pr++]=Di,dr[pr++]=Ni,dr[pr++]=yo,yo=i;var h=Di;i=Ni;var m=32-xt(h)-1;h&=~(1<<m),l+=1;var y=32-xt(o)+m;if(30<y){var T=m-m%5;y=(h&(1<<T)-1).toString(32),h>>=T,m-=T,Di=1<<32-xt(o)+m|l<<m|h,Ni=y+i}else Di=1<<y|l<<m|h,Ni=i}function td(i){i.return!==null&&(vo(i,1),Hy(i,1,0))}function nd(i){for(;i===uc;)uc=pa[--ma],pa[ma]=null,cc=pa[--ma],pa[ma]=null;for(;i===yo;)yo=dr[--pr],dr[pr]=null,Ni=dr[--pr],dr[pr]=null,Di=dr[--pr],dr[pr]=null}var Zn=null,er=null,Ct=!1,Mr=null;function Wy(i,o){var l=vr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function qy(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Zn=i,er=ps(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Zn=i,er=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=yo!==null?{id:Di,overflow:Ni}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=vr(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Zn=i,er=null,!0):!1;default:return!1}}function rd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function id(i){if(Ct){var o=er;if(o){var l=o;if(!qy(i,o)){if(rd(i))throw Error(t(418));o=ps(l.nextSibling);var h=Zn;o&&qy(i,o)?Wy(h,l):(i.flags=i.flags&-4097|2,Ct=!1,Zn=i)}}else{if(rd(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ct=!1,Zn=i}}}function Gy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Zn=i}function hc(i){if(i!==Zn)return!1;if(!Ct)return Gy(i),Ct=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Qf(i.type,i.memoizedProps)),o&&(o=er)){if(rd(i))throw Ky(),Error(t(418));for(;o;)Wy(i,o),o=ps(o.nextSibling)}if(Gy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){er=ps(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}er=null}}else er=Zn?ps(i.stateNode.nextSibling):null;return!0}function Ky(){for(var i=er;i;)i=ps(i.nextSibling)}function ga(){er=Zn=null,Ct=!1}function sd(i){Mr===null?Mr=[i]:Mr.push(i)}var BR=X.ReactCurrentBatchConfig;function Il(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var x=m.refs;T===null?delete x[y]:x[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function fc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Qy(i){var o=i._init;return o(i._payload)}function Xy(i){function o(G,$){if(i){var Q=G.deletions;Q===null?(G.deletions=[$],G.flags|=16):Q.push($)}}function l(G,$){if(!i)return null;for(;$!==null;)o(G,$),$=$.sibling;return null}function h(G,$){for(G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function m(G,$){return G=Rs(G,$),G.index=0,G.sibling=null,G}function y(G,$,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<$?(G.flags|=2,$):Q):(G.flags|=2,$)):(G.flags|=1048576,$)}function T(G){return i&&G.alternate===null&&(G.flags|=2),G}function x(G,$,Q,ue){return $===null||$.tag!==6?($=Xd(Q,G.mode,ue),$.return=G,$):($=m($,Q),$.return=G,$)}function F(G,$,Q,ue){var Ae=Q.type;return Ae===k?se(G,$,Q.props.children,ue,Q.key):$!==null&&($.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===_e&&Qy(Ae)===$.type)?(ue=m($,Q.props),ue.ref=Il(G,$,Q),ue.return=G,ue):(ue=Mc(Q.type,Q.key,Q.props,null,G.mode,ue),ue.ref=Il(G,$,Q),ue.return=G,ue)}function J(G,$,Q,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==Q.containerInfo||$.stateNode.implementation!==Q.implementation?($=Yd(Q,G.mode,ue),$.return=G,$):($=m($,Q.children||[]),$.return=G,$)}function se(G,$,Q,ue,Ae){return $===null||$.tag!==7?($=Co(Q,G.mode,ue,Ae),$.return=G,$):($=m($,Q),$.return=G,$)}function ae(G,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Xd(""+$,G.mode,Q),$.return=G,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Y:return Q=Mc($.type,$.key,$.props,null,G.mode,Q),Q.ref=Il(G,null,$),Q.return=G,Q;case L:return $=Yd($,G.mode,Q),$.return=G,$;case _e:var ue=$._init;return ae(G,ue($._payload),Q)}if(Ar($)||ce($))return $=Co($,G.mode,Q,null),$.return=G,$;fc(G,$)}return null}function ie(G,$,Q,ue){var Ae=$!==null?$.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ae!==null?null:x(G,$,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return Q.key===Ae?F(G,$,Q,ue):null;case L:return Q.key===Ae?J(G,$,Q,ue):null;case _e:return Ae=Q._init,ie(G,$,Ae(Q._payload),ue)}if(Ar(Q)||ce(Q))return Ae!==null?null:se(G,$,Q,ue,null);fc(G,Q)}return null}function ge(G,$,Q,ue,Ae){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return G=G.get(Q)||null,x($,G,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Y:return G=G.get(ue.key===null?Q:ue.key)||null,F($,G,ue,Ae);case L:return G=G.get(ue.key===null?Q:ue.key)||null,J($,G,ue,Ae);case _e:var Ne=ue._init;return ge(G,$,Q,Ne(ue._payload),Ae)}if(Ar(ue)||ce(ue))return G=G.get(Q)||null,se($,G,ue,Ae,null);fc($,ue)}return null}function Te(G,$,Q,ue){for(var Ae=null,Ne=null,Oe=$,Ue=$=0,en=null;Oe!==null&&Ue<Q.length;Ue++){Oe.index>Ue?(en=Oe,Oe=null):en=Oe.sibling;var at=ie(G,Oe,Q[Ue],ue);if(at===null){Oe===null&&(Oe=en);break}i&&Oe&&at.alternate===null&&o(G,Oe),$=y(at,$,Ue),Ne===null?Ae=at:Ne.sibling=at,Ne=at,Oe=en}if(Ue===Q.length)return l(G,Oe),Ct&&vo(G,Ue),Ae;if(Oe===null){for(;Ue<Q.length;Ue++)Oe=ae(G,Q[Ue],ue),Oe!==null&&($=y(Oe,$,Ue),Ne===null?Ae=Oe:Ne.sibling=Oe,Ne=Oe);return Ct&&vo(G,Ue),Ae}for(Oe=h(G,Oe);Ue<Q.length;Ue++)en=ge(Oe,G,Ue,Q[Ue],ue),en!==null&&(i&&en.alternate!==null&&Oe.delete(en.key===null?Ue:en.key),$=y(en,$,Ue),Ne===null?Ae=en:Ne.sibling=en,Ne=en);return i&&Oe.forEach(function(Cs){return o(G,Cs)}),Ct&&vo(G,Ue),Ae}function Re(G,$,Q,ue){var Ae=ce(Q);if(typeof Ae!="function")throw Error(t(150));if(Q=Ae.call(Q),Q==null)throw Error(t(151));for(var Ne=Ae=null,Oe=$,Ue=$=0,en=null,at=Q.next();Oe!==null&&!at.done;Ue++,at=Q.next()){Oe.index>Ue?(en=Oe,Oe=null):en=Oe.sibling;var Cs=ie(G,Oe,at.value,ue);if(Cs===null){Oe===null&&(Oe=en);break}i&&Oe&&Cs.alternate===null&&o(G,Oe),$=y(Cs,$,Ue),Ne===null?Ae=Cs:Ne.sibling=Cs,Ne=Cs,Oe=en}if(at.done)return l(G,Oe),Ct&&vo(G,Ue),Ae;if(Oe===null){for(;!at.done;Ue++,at=Q.next())at=ae(G,at.value,ue),at!==null&&($=y(at,$,Ue),Ne===null?Ae=at:Ne.sibling=at,Ne=at);return Ct&&vo(G,Ue),Ae}for(Oe=h(G,Oe);!at.done;Ue++,at=Q.next())at=ge(Oe,G,Ue,at.value,ue),at!==null&&(i&&at.alternate!==null&&Oe.delete(at.key===null?Ue:at.key),$=y(at,$,Ue),Ne===null?Ae=at:Ne.sibling=at,Ne=at);return i&&Oe.forEach(function(TC){return o(G,TC)}),Ct&&vo(G,Ue),Ae}function Lt(G,$,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:e:{for(var Ae=Q.key,Ne=$;Ne!==null;){if(Ne.key===Ae){if(Ae=Q.type,Ae===k){if(Ne.tag===7){l(G,Ne.sibling),$=m(Ne,Q.props.children),$.return=G,G=$;break e}}else if(Ne.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===_e&&Qy(Ae)===Ne.type){l(G,Ne.sibling),$=m(Ne,Q.props),$.ref=Il(G,Ne,Q),$.return=G,G=$;break e}l(G,Ne);break}else o(G,Ne);Ne=Ne.sibling}Q.type===k?($=Co(Q.props.children,G.mode,ue,Q.key),$.return=G,G=$):(ue=Mc(Q.type,Q.key,Q.props,null,G.mode,ue),ue.ref=Il(G,$,Q),ue.return=G,G=ue)}return T(G);case L:e:{for(Ne=Q.key;$!==null;){if($.key===Ne)if($.tag===4&&$.stateNode.containerInfo===Q.containerInfo&&$.stateNode.implementation===Q.implementation){l(G,$.sibling),$=m($,Q.children||[]),$.return=G,G=$;break e}else{l(G,$);break}else o(G,$);$=$.sibling}$=Yd(Q,G.mode,ue),$.return=G,G=$}return T(G);case _e:return Ne=Q._init,Lt(G,$,Ne(Q._payload),ue)}if(Ar(Q))return Te(G,$,Q,ue);if(ce(Q))return Re(G,$,Q,ue);fc(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,$!==null&&$.tag===6?(l(G,$.sibling),$=m($,Q),$.return=G,G=$):(l(G,$),$=Xd(Q,G.mode,ue),$.return=G,G=$),T(G)):l(G,$)}return Lt}var ya=Xy(!0),Yy=Xy(!1),dc=ms(null),pc=null,va=null,od=null;function ad(){od=va=pc=null}function ld(i){var o=dc.current;St(dc),i._currentValue=o}function ud(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function _a(i,o){pc=i,od=va=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Fn=!0),i.firstContext=null)}function mr(i){var o=i._currentValue;if(od!==i)if(i={context:i,memoizedValue:o,next:null},va===null){if(pc===null)throw Error(t(308));va=i,pc.dependencies={lanes:0,firstContext:i}}else va=va.next=i;return o}var _o=null;function cd(i){_o===null?_o=[i]:_o.push(i)}function Jy(i,o,l,h){var m=o.interleaved;return m===null?(l.next=l,cd(o)):(l.next=m.next,m.next=l),o.interleaved=l,Oi(i,h)}function Oi(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var vs=!1;function hd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Li(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function _s(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(st&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Oi(i,l)}return m=h.interleaved,m===null?(o.next=o,cd(h)):(o.next=m.next,m.next=o),h.interleaved=o,Oi(i,l)}function mc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ls(i,l)}}function ev(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function gc(i,o,l,h){var m=i.updateQueue;vs=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var F=x,J=F.next;F.next=null,T===null?y=J:T.next=J,T=F;var se=i.alternate;se!==null&&(se=se.updateQueue,x=se.lastBaseUpdate,x!==T&&(x===null?se.firstBaseUpdate=J:x.next=J,se.lastBaseUpdate=F))}if(y!==null){var ae=m.baseState;T=0,se=J=F=null,x=y;do{var ie=x.lane,ge=x.eventTime;if((h&ie)===ie){se!==null&&(se=se.next={eventTime:ge,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var Te=i,Re=x;switch(ie=o,ge=l,Re.tag){case 1:if(Te=Re.payload,typeof Te=="function"){ae=Te.call(ge,ae,ie);break e}ae=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Re.payload,ie=typeof Te=="function"?Te.call(ge,ae,ie):Te,ie==null)break e;ae=le({},ae,ie);break e;case 2:vs=!0}}x.callback!==null&&x.lane!==0&&(i.flags|=64,ie=m.effects,ie===null?m.effects=[x]:ie.push(x))}else ge={eventTime:ge,lane:ie,tag:x.tag,payload:x.payload,callback:x.callback,next:null},se===null?(J=se=ge,F=ae):se=se.next=ge,T|=ie;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;ie=x,x=ie.next,ie.next=null,m.lastBaseUpdate=ie,m.shared.pending=null}}while(!0);if(se===null&&(F=ae),m.baseState=F,m.firstBaseUpdate=J,m.lastBaseUpdate=se,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);To|=T,i.lanes=T,i.memoizedState=ae}}function tv(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Rl={},oi=ms(Rl),Cl=ms(Rl),Al=ms(Rl);function wo(i){if(i===Rl)throw Error(t(174));return i}function fd(i,o){switch(wt(Al,o),wt(Cl,i),wt(oi,Rl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ht(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ht(o,i)}St(oi),wt(oi,o)}function wa(){St(oi),St(Cl),St(Al)}function nv(i){wo(Al.current);var o=wo(oi.current),l=ht(o,i.type);o!==l&&(wt(Cl,i),wt(oi,l))}function dd(i){Cl.current===i&&(St(oi),St(Cl))}var Pt=ms(0);function yc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var pd=[];function md(){for(var i=0;i<pd.length;i++)pd[i]._workInProgressVersionPrimary=null;pd.length=0}var vc=X.ReactCurrentDispatcher,gd=X.ReactCurrentBatchConfig,Eo=0,kt=null,Ht=null,Jt=null,_c=!1,Pl=!1,kl=0,HR=0;function yn(){throw Error(t(321))}function yd(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Lr(i[l],o[l]))return!1;return!0}function vd(i,o,l,h,m,y){if(Eo=y,kt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,vc.current=i===null||i.memoizedState===null?KR:QR,i=l(h,m),Pl){y=0;do{if(Pl=!1,kl=0,25<=y)throw Error(t(301));y+=1,Jt=Ht=null,o.updateQueue=null,vc.current=XR,i=l(h,m)}while(Pl)}if(vc.current=Tc,o=Ht!==null&&Ht.next!==null,Eo=0,Jt=Ht=kt=null,_c=!1,o)throw Error(t(300));return i}function _d(){var i=kl!==0;return kl=0,i}function ai(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?kt.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function gr(){if(Ht===null){var i=kt.alternate;i=i!==null?i.memoizedState:null}else i=Ht.next;var o=Jt===null?kt.memoizedState:Jt.next;if(o!==null)Jt=o,Ht=i;else{if(i===null)throw Error(t(310));Ht=i,i={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Jt===null?kt.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function bl(i,o){return typeof o=="function"?o(i):o}function wd(i){var o=gr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Ht,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var x=T=null,F=null,J=y;do{var se=J.lane;if((Eo&se)===se)F!==null&&(F=F.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),h=J.hasEagerState?J.eagerState:i(h,J.action);else{var ae={lane:se,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};F===null?(x=F=ae,T=h):F=F.next=ae,kt.lanes|=se,To|=se}J=J.next}while(J!==null&&J!==y);F===null?T=h:F.next=x,Lr(h,o.memoizedState)||(Fn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=F,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do y=m.lane,kt.lanes|=y,To|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Ed(i){var o=gr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=i(y,T.action),T=T.next;while(T!==m);Lr(y,o.memoizedState)||(Fn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function rv(){}function iv(i,o){var l=kt,h=gr(),m=o(),y=!Lr(h.memoizedState,m);if(y&&(h.memoizedState=m,Fn=!0),h=h.queue,Td(av.bind(null,l,h,i),[i]),h.getSnapshot!==o||y||Jt!==null&&Jt.memoizedState.tag&1){if(l.flags|=2048,xl(9,ov.bind(null,l,h,m,o),void 0,null),Zt===null)throw Error(t(349));(Eo&30)!==0||sv(l,o,m)}return m}function sv(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=kt.updateQueue,o===null?(o={lastEffect:null,stores:null},kt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function ov(i,o,l,h){o.value=l,o.getSnapshot=h,lv(o)&&uv(i)}function av(i,o,l){return l(function(){lv(o)&&uv(i)})}function lv(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Lr(i,l)}catch{return!0}}function uv(i){var o=Oi(i,1);o!==null&&zr(o,i,1,-1)}function cv(i){var o=ai();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:i},o.queue=i,i=i.dispatch=GR.bind(null,kt,i),[o.memoizedState,i]}function xl(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=kt.updateQueue,o===null?(o={lastEffect:null,stores:null},kt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function hv(){return gr().memoizedState}function wc(i,o,l,h){var m=ai();kt.flags|=i,m.memoizedState=xl(1|o,l,void 0,h===void 0?null:h)}function Ec(i,o,l,h){var m=gr();h=h===void 0?null:h;var y=void 0;if(Ht!==null){var T=Ht.memoizedState;if(y=T.destroy,h!==null&&yd(h,T.deps)){m.memoizedState=xl(o,l,y,h);return}}kt.flags|=i,m.memoizedState=xl(1|o,l,y,h)}function fv(i,o){return wc(8390656,8,i,o)}function Td(i,o){return Ec(2048,8,i,o)}function dv(i,o){return Ec(4,2,i,o)}function pv(i,o){return Ec(4,4,i,o)}function mv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function gv(i,o,l){return l=l!=null?l.concat([i]):null,Ec(4,4,mv.bind(null,o,i),l)}function Sd(){}function yv(i,o){var l=gr();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&yd(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function vv(i,o){var l=gr();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&yd(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function _v(i,o,l){return(Eo&21)===0?(i.baseState&&(i.baseState=!1,Fn=!0),i.memoizedState=l):(Lr(l,o)||(l=uo(),kt.lanes|=l,To|=l,i.baseState=!0),o)}function WR(i,o){var l=nt;nt=l!==0&&4>l?l:4,i(!0);var h=gd.transition;gd.transition={};try{i(!1),o()}finally{nt=l,gd.transition=h}}function wv(){return gr().memoizedState}function qR(i,o,l){var h=Ss(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Ev(i))Tv(o,l);else if(l=Jy(i,o,l,h),l!==null){var m=xn();zr(l,i,h,m),Sv(l,o,h)}}function GR(i,o,l){var h=Ss(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ev(i))Tv(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,x=y(T,l);if(m.hasEagerState=!0,m.eagerState=x,Lr(x,T)){var F=o.interleaved;F===null?(m.next=m,cd(o)):(m.next=F.next,F.next=m),o.interleaved=m;return}}catch{}finally{}l=Jy(i,o,m,h),l!==null&&(m=xn(),zr(l,i,h,m),Sv(l,o,h))}}function Ev(i){var o=i.alternate;return i===kt||o!==null&&o===kt}function Tv(i,o){Pl=_c=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Sv(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ls(i,l)}}var Tc={readContext:mr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},KR={readContext:mr,useCallback:function(i,o){return ai().memoizedState=[i,o===void 0?null:o],i},useContext:mr,useEffect:fv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,wc(4194308,4,mv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return wc(4194308,4,i,o)},useInsertionEffect:function(i,o){return wc(4,2,i,o)},useMemo:function(i,o){var l=ai();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=ai();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=qR.bind(null,kt,i),[h.memoizedState,i]},useRef:function(i){var o=ai();return i={current:i},o.memoizedState=i},useState:cv,useDebugValue:Sd,useDeferredValue:function(i){return ai().memoizedState=i},useTransition:function(){var i=cv(!1),o=i[0];return i=WR.bind(null,i[1]),ai().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=kt,m=ai();if(Ct){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Zt===null)throw Error(t(349));(Eo&30)!==0||sv(h,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,fv(av.bind(null,h,y,i),[i]),h.flags|=2048,xl(9,ov.bind(null,h,y,l,o),void 0,null),l},useId:function(){var i=ai(),o=Zt.identifierPrefix;if(Ct){var l=Ni,h=Di;l=(h&~(1<<32-xt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=kl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=HR++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},QR={readContext:mr,useCallback:yv,useContext:mr,useEffect:Td,useImperativeHandle:gv,useInsertionEffect:dv,useLayoutEffect:pv,useMemo:vv,useReducer:wd,useRef:hv,useState:function(){return wd(bl)},useDebugValue:Sd,useDeferredValue:function(i){var o=gr();return _v(o,Ht.memoizedState,i)},useTransition:function(){var i=wd(bl)[0],o=gr().memoizedState;return[i,o]},useMutableSource:rv,useSyncExternalStore:iv,useId:wv,unstable_isNewReconciler:!1},XR={readContext:mr,useCallback:yv,useContext:mr,useEffect:Td,useImperativeHandle:gv,useInsertionEffect:dv,useLayoutEffect:pv,useMemo:vv,useReducer:Ed,useRef:hv,useState:function(){return Ed(bl)},useDebugValue:Sd,useDeferredValue:function(i){var o=gr();return Ht===null?o.memoizedState=i:_v(o,Ht.memoizedState,i)},useTransition:function(){var i=Ed(bl)[0],o=gr().memoizedState;return[i,o]},useMutableSource:rv,useSyncExternalStore:iv,useId:wv,unstable_isNewReconciler:!1};function Vr(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Id(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:le({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Sc={isMounted:function(i){return(i=i._reactInternals)?Ke(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=xn(),m=Ss(i),y=Li(h,m);y.payload=o,l!=null&&(y.callback=l),o=_s(i,y,m),o!==null&&(zr(o,i,m,h),mc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=xn(),m=Ss(i),y=Li(h,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=_s(i,y,m),o!==null&&(zr(o,i,m,h),mc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=xn(),h=Ss(i),m=Li(l,h);m.tag=2,o!=null&&(m.callback=o),o=_s(i,m,h),o!==null&&(zr(o,i,h,l),mc(o,i,h))}};function Iv(i,o,l,h,m,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,T):o.prototype&&o.prototype.isPureReactComponent?!yl(l,h)||!yl(m,y):!0}function Rv(i,o,l){var h=!1,m=gs,y=o.contextType;return typeof y=="object"&&y!==null?y=mr(y):(m=Vn(o)?go:gn.current,h=o.contextTypes,y=(h=h!=null)?da(i,m):gs),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Sc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function Cv(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&Sc.enqueueReplaceState(o,o.state,null)}function Rd(i,o,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},hd(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=mr(y):(y=Vn(o)?go:gn.current,m.context=da(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Id(i,o,y,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Sc.enqueueReplaceState(m,m.state,null),gc(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Ea(i,o){try{var l="",h=o;do l+=Ve(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function Cd(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Ad(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var YR=typeof WeakMap=="function"?WeakMap:Map;function Av(i,o,l){l=Li(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){bc||(bc=!0,$d=h),Ad(i,o)},l}function Pv(i,o,l){l=Li(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){Ad(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Ad(i,o),typeof h!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function kv(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new YR;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),i=hC.bind(null,i,o,l),o.then(i,i))}function bv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function xv(i,o,l,h,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Li(-1,1),o.tag=2,_s(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var JR=X.ReactCurrentOwner,Fn=!1;function bn(i,o,l,h){o.child=i===null?Yy(o,null,l,h):ya(o,i.child,l,h)}function Dv(i,o,l,h,m){l=l.render;var y=o.ref;return _a(o,m),h=vd(i,o,l,h,y,m),l=_d(),i!==null&&!Fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Mi(i,o,m)):(Ct&&l&&td(o),o.flags|=1,bn(i,o,h,m),o.child)}function Nv(i,o,l,h,m){if(i===null){var y=l.type;return typeof y=="function"&&!Qd(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Ov(i,o,y,h,m)):(i=Mc(l.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&m)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:yl,l(T,h)&&i.ref===o.ref)return Mi(i,o,m)}return o.flags|=1,i=Rs(y,h),i.ref=o.ref,i.return=o,o.child=i}function Ov(i,o,l,h,m){if(i!==null){var y=i.memoizedProps;if(yl(y,h)&&i.ref===o.ref)if(Fn=!1,o.pendingProps=h=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Fn=!0);else return o.lanes=i.lanes,Mi(i,o,m)}return Pd(i,o,l,h,m)}function Lv(i,o,l){var h=o.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Sa,tr),tr|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,wt(Sa,tr),tr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,wt(Sa,tr),tr|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,wt(Sa,tr),tr|=h;return bn(i,o,m,l),o.child}function Mv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Pd(i,o,l,h,m){var y=Vn(l)?go:gn.current;return y=da(o,y),_a(o,m),l=vd(i,o,l,h,y,m),h=_d(),i!==null&&!Fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Mi(i,o,m)):(Ct&&h&&td(o),o.flags|=1,bn(i,o,l,m),o.child)}function Vv(i,o,l,h,m){if(Vn(l)){var y=!0;ac(o)}else y=!1;if(_a(o,m),o.stateNode===null)Rc(i,o),Rv(o,l,h),Rd(o,l,h,m),h=!0;else if(i===null){var T=o.stateNode,x=o.memoizedProps;T.props=x;var F=T.context,J=l.contextType;typeof J=="object"&&J!==null?J=mr(J):(J=Vn(l)?go:gn.current,J=da(o,J));var se=l.getDerivedStateFromProps,ae=typeof se=="function"||typeof T.getSnapshotBeforeUpdate=="function";ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(x!==h||F!==J)&&Cv(o,T,h,J),vs=!1;var ie=o.memoizedState;T.state=ie,gc(o,h,T,m),F=o.memoizedState,x!==h||ie!==F||Mn.current||vs?(typeof se=="function"&&(Id(o,l,se,h),F=o.memoizedState),(x=vs||Iv(o,l,x,h,ie,F,J))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=F),T.props=h,T.state=F,T.context=J,h=x):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,Zy(i,o),x=o.memoizedProps,J=o.type===o.elementType?x:Vr(o.type,x),T.props=J,ae=o.pendingProps,ie=T.context,F=l.contextType,typeof F=="object"&&F!==null?F=mr(F):(F=Vn(l)?go:gn.current,F=da(o,F));var ge=l.getDerivedStateFromProps;(se=typeof ge=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(x!==ae||ie!==F)&&Cv(o,T,h,F),vs=!1,ie=o.memoizedState,T.state=ie,gc(o,h,T,m);var Te=o.memoizedState;x!==ae||ie!==Te||Mn.current||vs?(typeof ge=="function"&&(Id(o,l,ge,h),Te=o.memoizedState),(J=vs||Iv(o,l,J,h,ie,Te,F)||!1)?(se||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,Te,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,Te,F)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Te),T.props=h,T.state=Te,T.context=F,h=J):(typeof T.componentDidUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),h=!1)}return kd(i,o,l,h,y,m)}function kd(i,o,l,h,m,y){Mv(i,o);var T=(o.flags&128)!==0;if(!h&&!T)return m&&$y(o,l,!1),Mi(i,o,y);h=o.stateNode,JR.current=o;var x=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&T?(o.child=ya(o,i.child,null,y),o.child=ya(o,null,x,y)):bn(i,o,x,y),o.memoizedState=h.state,m&&$y(o,l,!0),o.child}function Fv(i){var o=i.stateNode;o.pendingContext?zy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&zy(i,o.context,!1),fd(i,o.containerInfo)}function Uv(i,o,l,h,m){return ga(),sd(m),o.flags|=256,bn(i,o,l,h),o.child}var bd={dehydrated:null,treeContext:null,retryLane:0};function xd(i){return{baseLanes:i,cachePool:null,transitions:null}}function zv(i,o,l){var h=o.pendingProps,m=Pt.current,y=!1,T=(o.flags&128)!==0,x;if((x=T)||(x=i!==null&&i.memoizedState===null?!1:(m&2)!==0),x?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),wt(Pt,m&1),i===null)return id(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=h.children,i=h.fallback,y?(h=o.mode,y=o.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Vc(T,h,0,null),i=Co(i,h,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=xd(l),o.memoizedState=bd,i):Dd(o,T));if(m=i.memoizedState,m!==null&&(x=m.dehydrated,x!==null))return ZR(i,o,T,h,x,m,l);if(y){y=h.fallback,T=o.mode,m=i.child,x=m.sibling;var F={mode:"hidden",children:h.children};return(T&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=F,o.deletions=null):(h=Rs(m,F),h.subtreeFlags=m.subtreeFlags&14680064),x!==null?y=Rs(x,y):(y=Co(y,T,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,T=i.child.memoizedState,T=T===null?xd(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=bd,h}return y=i.child,i=y.sibling,h=Rs(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function Dd(i,o){return o=Vc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Ic(i,o,l,h){return h!==null&&sd(h),ya(o,i.child,null,l),i=Dd(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function ZR(i,o,l,h,m,y,T){if(l)return o.flags&256?(o.flags&=-257,h=Cd(Error(t(422))),Ic(i,o,T,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=Vc({mode:"visible",children:h.children},m,0,null),y=Co(y,m,T,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&ya(o,i.child,null,T),o.child.memoizedState=xd(T),o.memoizedState=bd,y);if((o.mode&1)===0)return Ic(i,o,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var x=h.dgst;return h=x,y=Error(t(419)),h=Cd(y,h,void 0),Ic(i,o,T,h)}if(x=(T&i.childLanes)!==0,Fn||x){if(h=Zt,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|T))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Oi(i,m),zr(h,i,m,-1))}return Kd(),h=Cd(Error(t(421))),Ic(i,o,T,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=fC.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,er=ps(m.nextSibling),Zn=o,Ct=!0,Mr=null,i!==null&&(dr[pr++]=Di,dr[pr++]=Ni,dr[pr++]=yo,Di=i.id,Ni=i.overflow,yo=o),o=Dd(o,h.children),o.flags|=4096,o)}function jv(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),ud(i.return,o,l)}function Nd(i,o,l,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function $v(i,o,l){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(bn(i,o,h.children,l),h=Pt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&jv(i,l,o);else if(i.tag===19)jv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(wt(Pt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&yc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Nd(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&yc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Nd(o,!0,l,null,y);break;case"together":Nd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Rc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Mi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),To|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Rs(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Rs(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function eC(i,o,l){switch(o.tag){case 3:Fv(o),ga();break;case 5:nv(o);break;case 1:Vn(o.type)&&ac(o);break;case 4:fd(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;wt(dc,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(wt(Pt,Pt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?zv(i,o,l):(wt(Pt,Pt.current&1),i=Mi(i,o,l),i!==null?i.sibling:null);wt(Pt,Pt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return $v(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),wt(Pt,Pt.current),h)break;return null;case 22:case 23:return o.lanes=0,Lv(i,o,l)}return Mi(i,o,l)}var Bv,Od,Hv,Wv;Bv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Od=function(){},Hv=function(i,o,l,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,wo(oi.current);var y=null;switch(l){case"input":m=Rn(i,m),h=Rn(i,h),y=[];break;case"select":m=le({},m,{value:void 0}),h=le({},h,{value:void 0}),y=[];break;case"textarea":m=Gn(i,m),h=Gn(i,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=ic)}ts(l,h);var T;l=null;for(J in m)if(!h.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var x=m[J];for(T in x)x.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?y||(y=[]):(y=y||[]).push(J,null));for(J in h){var F=h[J];if(x=m!=null?m[J]:void 0,h.hasOwnProperty(J)&&F!==x&&(F!=null||x!=null))if(J==="style")if(x){for(T in x)!x.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in F)F.hasOwnProperty(T)&&x[T]!==F[T]&&(l||(l={}),l[T]=F[T])}else l||(y||(y=[]),y.push(J,l)),l=F;else J==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,x=x?x.__html:void 0,F!=null&&x!==F&&(y=y||[]).push(J,F)):J==="children"?typeof F!="string"&&typeof F!="number"||(y=y||[]).push(J,""+F):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(s.hasOwnProperty(J)?(F!=null&&J==="onScroll"&&Tt("scroll",i),y||x===F||(y=[])):(y=y||[]).push(J,F))}l&&(y=y||[]).push("style",l);var J=y;(o.updateQueue=J)&&(o.flags|=4)}},Wv=function(i,o,l,h){l!==h&&(o.flags|=4)};function Dl(i,o){if(!Ct)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function vn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function tC(i,o,l){var h=o.pendingProps;switch(nd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(o),null;case 1:return Vn(o.type)&&oc(),vn(o),null;case 3:return h=o.stateNode,wa(),St(Mn),St(gn),md(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(hc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Mr!==null&&(Wd(Mr),Mr=null))),Od(i,o),vn(o),null;case 5:dd(o);var m=wo(Al.current);if(l=o.type,i!==null&&o.stateNode!=null)Hv(i,o,l,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return vn(o),null}if(i=wo(oi.current),hc(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[si]=o,h[Tl]=y,i=(o.mode&1)!==0,l){case"dialog":Tt("cancel",h),Tt("close",h);break;case"iframe":case"object":case"embed":Tt("load",h);break;case"video":case"audio":for(m=0;m<_l.length;m++)Tt(_l[m],h);break;case"source":Tt("error",h);break;case"img":case"image":case"link":Tt("error",h),Tt("load",h);break;case"details":Tt("toggle",h);break;case"input":Xi(h,y),Tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Tt("invalid",h);break;case"textarea":or(h,y),Tt("invalid",h)}ts(l,y),m=null;for(var T in y)if(y.hasOwnProperty(T)){var x=y[T];T==="children"?typeof x=="string"?h.textContent!==x&&(y.suppressHydrationWarning!==!0&&rc(h.textContent,x,i),m=["children",x]):typeof x=="number"&&h.textContent!==""+x&&(y.suppressHydrationWarning!==!0&&rc(h.textContent,x,i),m=["children",""+x]):s.hasOwnProperty(T)&&x!=null&&T==="onScroll"&&Tt("scroll",h)}switch(l){case"input":Kt(h),Wo(h,y,!0);break;case"textarea":Kt(h),wi(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ic)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=dt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[si]=o,i[Tl]=h,Bv(i,o,!1,!1),o.stateNode=i;e:{switch(T=Xr(l,h),l){case"dialog":Tt("cancel",i),Tt("close",i),m=h;break;case"iframe":case"object":case"embed":Tt("load",i),m=h;break;case"video":case"audio":for(m=0;m<_l.length;m++)Tt(_l[m],i);m=h;break;case"source":Tt("error",i),m=h;break;case"img":case"image":case"link":Tt("error",i),Tt("load",i),m=h;break;case"details":Tt("toggle",i),m=h;break;case"input":Xi(i,h),m=Rn(i,h),Tt("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=le({},h,{value:void 0}),Tt("invalid",i);break;case"textarea":or(i,h),m=Gn(i,h),Tt("invalid",i);break;default:m=h}ts(l,m),x=m;for(y in x)if(x.hasOwnProperty(y)){var F=x[y];y==="style"?es(i,F):y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Ei(i,F)):y==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&Kr(i,F):typeof F=="number"&&Kr(i,""+F):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?F!=null&&y==="onScroll"&&Tt("scroll",i):F!=null&&W(i,y,F,T))}switch(l){case"input":Kt(i),Wo(i,h,!1);break;case"textarea":Kt(i),wi(i);break;case"option":h.value!=null&&i.setAttribute("value",""+tt(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Pr(i,!!h.multiple,y,!1):h.defaultValue!=null&&Pr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=ic)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return vn(o),null;case 6:if(i&&o.stateNode!=null)Wv(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=wo(Al.current),wo(oi.current),hc(o)){if(h=o.stateNode,l=o.memoizedProps,h[si]=o,(y=h.nodeValue!==l)&&(i=Zn,i!==null))switch(i.tag){case 3:rc(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&rc(h.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[si]=o,o.stateNode=h}return vn(o),null;case 13:if(St(Pt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ct&&er!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Ky(),ga(),o.flags|=98560,y=!1;else if(y=hc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[si]=o}else ga(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vn(o),y=!1}else Mr!==null&&(Wd(Mr),Mr=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Pt.current&1)!==0?Wt===0&&(Wt=3):Kd())),o.updateQueue!==null&&(o.flags|=4),vn(o),null);case 4:return wa(),Od(i,o),i===null&&wl(o.stateNode.containerInfo),vn(o),null;case 10:return ld(o.type._context),vn(o),null;case 17:return Vn(o.type)&&oc(),vn(o),null;case 19:if(St(Pt),y=o.memoizedState,y===null)return vn(o),null;if(h=(o.flags&128)!==0,T=y.rendering,T===null)if(h)Dl(y,!1);else{if(Wt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=yc(i),T!==null){for(o.flags|=128,Dl(y,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,i=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return wt(Pt,Pt.current&1|2),o.child}i=i.sibling}y.tail!==null&&ot()>Ia&&(o.flags|=128,h=!0,Dl(y,!1),o.lanes=4194304)}else{if(!h)if(i=yc(T),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Dl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Ct)return vn(o),null}else 2*ot()-y.renderingStartTime>Ia&&l!==1073741824&&(o.flags|=128,h=!0,Dl(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=ot(),o.sibling=null,l=Pt.current,wt(Pt,h?l&1|2:l&1),o):(vn(o),null);case 22:case 23:return Gd(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(tr&1073741824)!==0&&(vn(o),o.subtreeFlags&6&&(o.flags|=8192)):vn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function nC(i,o){switch(nd(o),o.tag){case 1:return Vn(o.type)&&oc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return wa(),St(Mn),St(gn),md(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return dd(o),null;case 13:if(St(Pt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ga()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return St(Pt),null;case 4:return wa(),null;case 10:return ld(o.type._context),null;case 22:case 23:return Gd(),null;case 24:return null;default:return null}}var Cc=!1,_n=!1,rC=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ta(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Dt(i,o,h)}else l.current=null}function Ld(i,o,l){try{l()}catch(h){Dt(i,o,h)}}var qv=!1;function iC(i,o){if(Gf=hs,i=Iy(),Uf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,x=-1,F=-1,J=0,se=0,ae=i,ie=null;t:for(;;){for(var ge;ae!==l||m!==0&&ae.nodeType!==3||(x=T+m),ae!==y||h!==0&&ae.nodeType!==3||(F=T+h),ae.nodeType===3&&(T+=ae.nodeValue.length),(ge=ae.firstChild)!==null;)ie=ae,ae=ge;for(;;){if(ae===i)break t;if(ie===l&&++J===m&&(x=T),ie===y&&++se===h&&(F=T),(ge=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=ge}l=x===-1||F===-1?null:{start:x,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kf={focusedElem:i,selectionRange:l},hs=!1,we=o;we!==null;)if(o=we,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,we=i;else for(;we!==null;){o=we;try{var Te=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Re=Te.memoizedProps,Lt=Te.memoizedState,G=o.stateNode,$=G.getSnapshotBeforeUpdate(o.elementType===o.type?Re:Vr(o.type,Re),Lt);G.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){Dt(o,o.return,ue)}if(i=o.sibling,i!==null){i.return=o.return,we=i;break}we=o.return}return Te=qv,qv=!1,Te}function Nl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&Ld(o,l,y)}m=m.next}while(m!==h)}}function Ac(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Md(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Gv(i){var o=i.alternate;o!==null&&(i.alternate=null,Gv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[si],delete o[Tl],delete o[Jf],delete o[zR],delete o[jR])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Kv(i){return i.tag===5||i.tag===3||i.tag===4}function Qv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Kv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vd(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=ic));else if(h!==4&&(i=i.child,i!==null))for(Vd(i,o,l),i=i.sibling;i!==null;)Vd(i,o,l),i=i.sibling}function Fd(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Fd(i,o,l),i=i.sibling;i!==null;)Fd(i,o,l),i=i.sibling}var un=null,Fr=!1;function ws(i,o,l){for(l=l.child;l!==null;)Xv(i,o,l),l=l.sibling}function Xv(i,o,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(cr,l)}catch{}switch(l.tag){case 5:_n||Ta(l,o);case 6:var h=un,m=Fr;un=null,ws(i,o,l),un=h,Fr=m,un!==null&&(Fr?(i=un,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):un.removeChild(l.stateNode));break;case 18:un!==null&&(Fr?(i=un,l=l.stateNode,i.nodeType===8?Yf(i.parentNode,l):i.nodeType===1&&Yf(i,l),Nr(i)):Yf(un,l.stateNode));break;case 4:h=un,m=Fr,un=l.stateNode.containerInfo,Fr=!0,ws(i,o,l),un=h,Fr=m;break;case 0:case 11:case 14:case 15:if(!_n&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Ld(l,o,T),m=m.next}while(m!==h)}ws(i,o,l);break;case 1:if(!_n&&(Ta(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(x){Dt(l,o,x)}ws(i,o,l);break;case 21:ws(i,o,l);break;case 22:l.mode&1?(_n=(h=_n)||l.memoizedState!==null,ws(i,o,l),_n=h):ws(i,o,l);break;default:ws(i,o,l)}}function Yv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new rC),o.forEach(function(h){var m=dC.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Ur(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=i,T=o,x=T;e:for(;x!==null;){switch(x.tag){case 5:un=x.stateNode,Fr=!1;break e;case 3:un=x.stateNode.containerInfo,Fr=!0;break e;case 4:un=x.stateNode.containerInfo,Fr=!0;break e}x=x.return}if(un===null)throw Error(t(160));Xv(y,T,m),un=null,Fr=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(J){Dt(m,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Jv(o,i),o=o.sibling}function Jv(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ur(o,i),li(i),h&4){try{Nl(3,i,i.return),Ac(3,i)}catch(Re){Dt(i,i.return,Re)}try{Nl(5,i,i.return)}catch(Re){Dt(i,i.return,Re)}}break;case 1:Ur(o,i),li(i),h&512&&l!==null&&Ta(l,l.return);break;case 5:if(Ur(o,i),li(i),h&512&&l!==null&&Ta(l,l.return),i.flags&32){var m=i.stateNode;try{Kr(m,"")}catch(Re){Dt(i,i.return,Re)}}if(h&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,x=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{x==="input"&&y.type==="radio"&&y.name!=null&&so(m,y),Xr(x,T);var J=Xr(x,y);for(T=0;T<F.length;T+=2){var se=F[T],ae=F[T+1];se==="style"?es(m,ae):se==="dangerouslySetInnerHTML"?Ei(m,ae):se==="children"?Kr(m,ae):W(m,se,ae,J)}switch(x){case"input":Yi(m,y);break;case"textarea":_i(m,y);break;case"select":var ie=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ge=y.value;ge!=null?Pr(m,!!y.multiple,ge,!1):ie!==!!y.multiple&&(y.defaultValue!=null?Pr(m,!!y.multiple,y.defaultValue,!0):Pr(m,!!y.multiple,y.multiple?[]:"",!1))}m[Tl]=y}catch(Re){Dt(i,i.return,Re)}}break;case 6:if(Ur(o,i),li(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(Re){Dt(i,i.return,Re)}}break;case 3:if(Ur(o,i),li(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Nr(o.containerInfo)}catch(Re){Dt(i,i.return,Re)}break;case 4:Ur(o,i),li(i);break;case 13:Ur(o,i),li(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(jd=ot())),h&4&&Yv(i);break;case 22:if(se=l!==null&&l.memoizedState!==null,i.mode&1?(_n=(J=_n)||se,Ur(o,i),_n=J):Ur(o,i),li(i),h&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!se&&(i.mode&1)!==0)for(we=i,se=i.child;se!==null;){for(ae=we=se;we!==null;){switch(ie=we,ge=ie.child,ie.tag){case 0:case 11:case 14:case 15:Nl(4,ie,ie.return);break;case 1:Ta(ie,ie.return);var Te=ie.stateNode;if(typeof Te.componentWillUnmount=="function"){h=ie,l=ie.return;try{o=h,Te.props=o.memoizedProps,Te.state=o.memoizedState,Te.componentWillUnmount()}catch(Re){Dt(h,l,Re)}}break;case 5:Ta(ie,ie.return);break;case 22:if(ie.memoizedState!==null){t_(ae);continue}}ge!==null?(ge.return=ie,we=ge):t_(ae)}se=se.sibling}e:for(se=null,ae=i;;){if(ae.tag===5){if(se===null){se=ae;try{m=ae.stateNode,J?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(x=ae.stateNode,F=ae.memoizedProps.style,T=F!=null&&F.hasOwnProperty("display")?F.display:null,x.style.display=Zi("display",T))}catch(Re){Dt(i,i.return,Re)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=J?"":ae.memoizedProps}catch(Re){Dt(i,i.return,Re)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Ur(o,i),li(i),h&4&&Yv(i);break;case 21:break;default:Ur(o,i),li(i)}}function li(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Kv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Kr(m,""),h.flags&=-33);var y=Qv(i);Fd(i,y,m);break;case 3:case 4:var T=h.stateNode.containerInfo,x=Qv(i);Vd(i,x,T);break;default:throw Error(t(161))}}catch(F){Dt(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function sC(i,o,l){we=i,Zv(i)}function Zv(i,o,l){for(var h=(i.mode&1)!==0;we!==null;){var m=we,y=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||Cc;if(!T){var x=m.alternate,F=x!==null&&x.memoizedState!==null||_n;x=Cc;var J=_n;if(Cc=T,(_n=F)&&!J)for(we=m;we!==null;)T=we,F=T.child,T.tag===22&&T.memoizedState!==null?n_(m):F!==null?(F.return=T,we=F):n_(m);for(;y!==null;)we=y,Zv(y),y=y.sibling;we=m,Cc=x,_n=J}e_(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,we=y):e_(i)}}function e_(i){for(;we!==null;){var o=we;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:_n||Ac(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!_n)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Vr(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&tv(o,y,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}tv(o,T,l)}break;case 5:var x=o.stateNode;if(l===null&&o.flags&4){l=x;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var se=J.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&Nr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}_n||o.flags&512&&Md(o)}catch(ie){Dt(o,o.return,ie)}}if(o===i){we=null;break}if(l=o.sibling,l!==null){l.return=o.return,we=l;break}we=o.return}}function t_(i){for(;we!==null;){var o=we;if(o===i){we=null;break}var l=o.sibling;if(l!==null){l.return=o.return,we=l;break}we=o.return}}function n_(i){for(;we!==null;){var o=we;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Ac(4,o)}catch(F){Dt(o,l,F)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(F){Dt(o,m,F)}}var y=o.return;try{Md(o)}catch(F){Dt(o,y,F)}break;case 5:var T=o.return;try{Md(o)}catch(F){Dt(o,T,F)}}}catch(F){Dt(o,o.return,F)}if(o===i){we=null;break}var x=o.sibling;if(x!==null){x.return=o.return,we=x;break}we=o.return}}var oC=Math.ceil,Pc=X.ReactCurrentDispatcher,Ud=X.ReactCurrentOwner,yr=X.ReactCurrentBatchConfig,st=0,Zt=null,Ut=null,cn=0,tr=0,Sa=ms(0),Wt=0,Ol=null,To=0,kc=0,zd=0,Ll=null,Un=null,jd=0,Ia=1/0,Vi=null,bc=!1,$d=null,Es=null,xc=!1,Ts=null,Dc=0,Ml=0,Bd=null,Nc=-1,Oc=0;function xn(){return(st&6)!==0?ot():Nc!==-1?Nc:Nc=ot()}function Ss(i){return(i.mode&1)===0?1:(st&2)!==0&&cn!==0?cn&-cn:BR.transition!==null?(Oc===0&&(Oc=uo()),Oc):(i=nt,i!==0||(i=window.event,i=i===void 0?16:cl(i.type)),i)}function zr(i,o,l,h){if(50<Ml)throw Ml=0,Bd=null,Error(t(185));as(i,l,h),((st&2)===0||i!==Zt)&&(i===Zt&&((st&2)===0&&(kc|=l),Wt===4&&Is(i,cn)),zn(i,h),l===1&&st===0&&(o.mode&1)===0&&(Ia=ot()+500,lc&&ys()))}function zn(i,o){var l=i.callbackNode;Ri(i,o);var h=lo(i,i===Zt?cn:0);if(h===0)l!==null&&kr(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&kr(l),o===1)i.tag===0?$R(i_.bind(null,i)):By(i_.bind(null,i)),FR(function(){(st&6)===0&&ys()}),l=null;else{switch(us(h)){case 1:l=Pn;break;case 4:l=Kn;break;case 16:l=We;break;case 536870912:l=Qn;break;default:l=We}l=f_(l,r_.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function r_(i,o){if(Nc=-1,Oc=0,(st&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Ra()&&i.callbackNode!==l)return null;var h=lo(i,i===Zt?cn:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Lc(i,h);else{o=h;var m=st;st|=2;var y=o_();(Zt!==i||cn!==o)&&(Vi=null,Ia=ot()+500,Io(i,o));do try{uC();break}catch(x){s_(i,x)}while(!0);ad(),Pc.current=y,st=m,Ut!==null?o=0:(Zt=null,cn=0,o=Wt)}if(o!==0){if(o===2&&(m=Xn(i),m!==0&&(h=m,o=Hd(i,m))),o===1)throw l=Ol,Io(i,0),Is(i,h),zn(i,ot()),l;if(o===6)Is(i,h);else{if(m=i.current.alternate,(h&30)===0&&!aC(m)&&(o=Lc(i,h),o===2&&(y=Xn(i),y!==0&&(h=y,o=Hd(i,y))),o===1))throw l=Ol,Io(i,0),Is(i,h),zn(i,ot()),l;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Ro(i,Un,Vi);break;case 3:if(Is(i,h),(h&130023424)===h&&(o=jd+500-ot(),10<o)){if(lo(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){xn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Xf(Ro.bind(null,i,Un,Vi),o);break}Ro(i,Un,Vi);break;case 4:if(Is(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var T=31-xt(h);y=1<<T,T=o[T],T>m&&(m=T),h&=~y}if(h=m,h=ot()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*oC(h/1960))-h,10<h){i.timeoutHandle=Xf(Ro.bind(null,i,Un,Vi),h);break}Ro(i,Un,Vi);break;case 5:Ro(i,Un,Vi);break;default:throw Error(t(329))}}}return zn(i,ot()),i.callbackNode===l?r_.bind(null,i):null}function Hd(i,o){var l=Ll;return i.current.memoizedState.isDehydrated&&(Io(i,o).flags|=256),i=Lc(i,o),i!==2&&(o=Un,Un=l,o!==null&&Wd(o)),i}function Wd(i){Un===null?Un=i:Un.push.apply(Un,i)}function aC(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!Lr(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Is(i,o){for(o&=~zd,o&=~kc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-xt(o),h=1<<l;i[l]=-1,o&=~h}}function i_(i){if((st&6)!==0)throw Error(t(327));Ra();var o=lo(i,0);if((o&1)===0)return zn(i,ot()),null;var l=Lc(i,o);if(i.tag!==0&&l===2){var h=Xn(i);h!==0&&(o=h,l=Hd(i,h))}if(l===1)throw l=Ol,Io(i,0),Is(i,o),zn(i,ot()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ro(i,Un,Vi),zn(i,ot()),null}function qd(i,o){var l=st;st|=1;try{return i(o)}finally{st=l,st===0&&(Ia=ot()+500,lc&&ys())}}function So(i){Ts!==null&&Ts.tag===0&&(st&6)===0&&Ra();var o=st;st|=1;var l=yr.transition,h=nt;try{if(yr.transition=null,nt=1,i)return i()}finally{nt=h,yr.transition=l,st=o,(st&6)===0&&ys()}}function Gd(){tr=Sa.current,St(Sa)}function Io(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,VR(l)),Ut!==null)for(l=Ut.return;l!==null;){var h=l;switch(nd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&oc();break;case 3:wa(),St(Mn),St(gn),md();break;case 5:dd(h);break;case 4:wa();break;case 13:St(Pt);break;case 19:St(Pt);break;case 10:ld(h.type._context);break;case 22:case 23:Gd()}l=l.return}if(Zt=i,Ut=i=Rs(i.current,null),cn=tr=o,Wt=0,Ol=null,zd=kc=To=0,Un=Ll=null,_o!==null){for(o=0;o<_o.length;o++)if(l=_o[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=m,h.next=T}l.pending=h}_o=null}return i}function s_(i,o){do{var l=Ut;try{if(ad(),vc.current=Tc,_c){for(var h=kt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}_c=!1}if(Eo=0,Jt=Ht=kt=null,Pl=!1,kl=0,Ud.current=null,l===null||l.return===null){Wt=1,Ol=o,Ut=null;break}e:{var y=i,T=l.return,x=l,F=o;if(o=cn,x.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var J=F,se=x,ae=se.tag;if((se.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var ge=bv(T);if(ge!==null){ge.flags&=-257,xv(ge,T,x,y,o),ge.mode&1&&kv(y,J,o),o=ge,F=J;var Te=o.updateQueue;if(Te===null){var Re=new Set;Re.add(F),o.updateQueue=Re}else Te.add(F);break e}else{if((o&1)===0){kv(y,J,o),Kd();break e}F=Error(t(426))}}else if(Ct&&x.mode&1){var Lt=bv(T);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),xv(Lt,T,x,y,o),sd(Ea(F,x));break e}}y=F=Ea(F,x),Wt!==4&&(Wt=2),Ll===null?Ll=[y]:Ll.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var G=Av(y,F,o);ev(y,G);break e;case 1:x=F;var $=y.type,Q=y.stateNode;if((y.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Es===null||!Es.has(Q)))){y.flags|=65536,o&=-o,y.lanes|=o;var ue=Pv(y,x,o);ev(y,ue);break e}}y=y.return}while(y!==null)}l_(l)}catch(Ae){o=Ae,Ut===l&&l!==null&&(Ut=l=l.return);continue}break}while(!0)}function o_(){var i=Pc.current;return Pc.current=Tc,i===null?Tc:i}function Kd(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Zt===null||(To&268435455)===0&&(kc&268435455)===0||Is(Zt,cn)}function Lc(i,o){var l=st;st|=2;var h=o_();(Zt!==i||cn!==o)&&(Vi=null,Io(i,o));do try{lC();break}catch(m){s_(i,m)}while(!0);if(ad(),st=l,Pc.current=h,Ut!==null)throw Error(t(261));return Zt=null,cn=0,Wt}function lC(){for(;Ut!==null;)a_(Ut)}function uC(){for(;Ut!==null&&!sn();)a_(Ut)}function a_(i){var o=h_(i.alternate,i,tr);i.memoizedProps=i.pendingProps,o===null?l_(i):Ut=o,Ud.current=null}function l_(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=tC(l,o,tr),l!==null){Ut=l;return}}else{if(l=nC(l,o),l!==null){l.flags&=32767,Ut=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Wt=6,Ut=null;return}}if(o=o.sibling,o!==null){Ut=o;return}Ut=o=i}while(o!==null);Wt===0&&(Wt=5)}function Ro(i,o,l){var h=nt,m=yr.transition;try{yr.transition=null,nt=1,cC(i,o,l,h)}finally{yr.transition=m,nt=h}return null}function cC(i,o,l,h){do Ra();while(Ts!==null);if((st&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(yt(i,y),i===Zt&&(Ut=Zt=null,cn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||xc||(xc=!0,f_(We,function(){return Ra(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=yr.transition,yr.transition=null;var T=nt;nt=1;var x=st;st|=4,Ud.current=null,iC(i,l),Jv(l,i),bR(Kf),hs=!!Gf,Kf=Gf=null,i.current=l,sC(l),Ii(),st=x,nt=T,yr.transition=y}else i.current=l;if(xc&&(xc=!1,Ts=i,Dc=m),y=i.pendingLanes,y===0&&(Es=null),Et(l.stateNode),zn(i,ot()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(bc)throw bc=!1,i=$d,$d=null,i;return(Dc&1)!==0&&i.tag!==0&&Ra(),y=i.pendingLanes,(y&1)!==0?i===Bd?Ml++:(Ml=0,Bd=i):Ml=0,ys(),null}function Ra(){if(Ts!==null){var i=us(Dc),o=yr.transition,l=nt;try{if(yr.transition=null,nt=16>i?16:i,Ts===null)var h=!1;else{if(i=Ts,Ts=null,Dc=0,(st&6)!==0)throw Error(t(331));var m=st;for(st|=4,we=i.current;we!==null;){var y=we,T=y.child;if((we.flags&16)!==0){var x=y.deletions;if(x!==null){for(var F=0;F<x.length;F++){var J=x[F];for(we=J;we!==null;){var se=we;switch(se.tag){case 0:case 11:case 15:Nl(8,se,y)}var ae=se.child;if(ae!==null)ae.return=se,we=ae;else for(;we!==null;){se=we;var ie=se.sibling,ge=se.return;if(Gv(se),se===J){we=null;break}if(ie!==null){ie.return=ge,we=ie;break}we=ge}}}var Te=y.alternate;if(Te!==null){var Re=Te.child;if(Re!==null){Te.child=null;do{var Lt=Re.sibling;Re.sibling=null,Re=Lt}while(Re!==null)}}we=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,we=T;else e:for(;we!==null;){if(y=we,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Nl(9,y,y.return)}var G=y.sibling;if(G!==null){G.return=y.return,we=G;break e}we=y.return}}var $=i.current;for(we=$;we!==null;){T=we;var Q=T.child;if((T.subtreeFlags&2064)!==0&&Q!==null)Q.return=T,we=Q;else e:for(T=$;we!==null;){if(x=we,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Ac(9,x)}}catch(Ae){Dt(x,x.return,Ae)}if(x===T){we=null;break e}var ue=x.sibling;if(ue!==null){ue.return=x.return,we=ue;break e}we=x.return}}if(st=m,ys(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(cr,i)}catch{}h=!0}return h}finally{nt=l,yr.transition=o}}return!1}function u_(i,o,l){o=Ea(l,o),o=Av(i,o,1),i=_s(i,o,1),o=xn(),i!==null&&(as(i,1,o),zn(i,o))}function Dt(i,o,l){if(i.tag===3)u_(i,i,l);else for(;o!==null;){if(o.tag===3){u_(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Es===null||!Es.has(h))){i=Ea(l,i),i=Pv(o,i,1),o=_s(o,i,1),i=xn(),o!==null&&(as(o,1,i),zn(o,i));break}}o=o.return}}function hC(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=xn(),i.pingedLanes|=i.suspendedLanes&l,Zt===i&&(cn&l)===l&&(Wt===4||Wt===3&&(cn&130023424)===cn&&500>ot()-jd?Io(i,0):zd|=l),zn(i,o)}function c_(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ko,Ko<<=1,(Ko&130023424)===0&&(Ko=4194304)));var l=xn();i=Oi(i,o),i!==null&&(as(i,o,l),zn(i,l))}function fC(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),c_(i,l)}function dC(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),c_(i,l)}var h_;h_=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Mn.current)Fn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return Fn=!1,eC(i,o,l);Fn=(i.flags&131072)!==0}else Fn=!1,Ct&&(o.flags&1048576)!==0&&Hy(o,cc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Rc(i,o),i=o.pendingProps;var m=da(o,gn.current);_a(o,l),m=vd(null,o,h,i,m,l);var y=_d();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Vn(h)?(y=!0,ac(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,hd(o),m.updater=Sc,o.stateNode=m,m._reactInternals=o,Rd(o,h,i,l),o=kd(null,o,h,!0,y,l)):(o.tag=0,Ct&&y&&td(o),bn(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Rc(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=mC(h),i=Vr(h,i),m){case 0:o=Pd(null,o,h,i,l);break e;case 1:o=Vv(null,o,h,i,l);break e;case 11:o=Dv(null,o,h,i,l);break e;case 14:o=Nv(null,o,h,Vr(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Vr(h,m),Pd(i,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Vr(h,m),Vv(i,o,h,m,l);case 3:e:{if(Fv(o),i===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,Zy(i,o),gc(o,h,null,l);var T=o.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Ea(Error(t(423)),o),o=Uv(i,o,h,l,m);break e}else if(h!==m){m=Ea(Error(t(424)),o),o=Uv(i,o,h,l,m);break e}else for(er=ps(o.stateNode.containerInfo.firstChild),Zn=o,Ct=!0,Mr=null,l=Yy(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ga(),h===m){o=Mi(i,o,l);break e}bn(i,o,h,l)}o=o.child}return o;case 5:return nv(o),i===null&&id(o),h=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,T=m.children,Qf(h,m)?T=null:y!==null&&Qf(h,y)&&(o.flags|=32),Mv(i,o),bn(i,o,T,l),o.child;case 6:return i===null&&id(o),null;case 13:return zv(i,o,l);case 4:return fd(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ya(o,null,h,l):bn(i,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Vr(h,m),Dv(i,o,h,m,l);case 7:return bn(i,o,o.pendingProps,l),o.child;case 8:return bn(i,o,o.pendingProps.children,l),o.child;case 12:return bn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,T=m.value,wt(dc,h._currentValue),h._currentValue=T,y!==null)if(Lr(y.value,T)){if(y.children===m.children&&!Mn.current){o=Mi(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var x=y.dependencies;if(x!==null){T=y.child;for(var F=x.firstContext;F!==null;){if(F.context===h){if(y.tag===1){F=Li(-1,l&-l),F.tag=2;var J=y.updateQueue;if(J!==null){J=J.shared;var se=J.pending;se===null?F.next=F:(F.next=se.next,se.next=F),J.pending=F}}y.lanes|=l,F=y.alternate,F!==null&&(F.lanes|=l),ud(y.return,l,o),x.lanes|=l;break}F=F.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,x=T.alternate,x!==null&&(x.lanes|=l),ud(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}bn(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,_a(o,l),m=mr(m),h=h(m),o.flags|=1,bn(i,o,h,l),o.child;case 14:return h=o.type,m=Vr(h,o.pendingProps),m=Vr(h.type,m),Nv(i,o,h,m,l);case 15:return Ov(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Vr(h,m),Rc(i,o),o.tag=1,Vn(h)?(i=!0,ac(o)):i=!1,_a(o,l),Rv(o,h,m),Rd(o,h,m,l),kd(null,o,h,!0,i,l);case 19:return $v(i,o,l);case 22:return Lv(i,o,l)}throw Error(t(156,o.tag))};function f_(i,o){return Nn(i,o)}function pC(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(i,o,l,h){return new pC(i,o,l,h)}function Qd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function mC(i){if(typeof i=="function")return Qd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===xe)return 14}return 2}function Rs(i,o){var l=i.alternate;return l===null?(l=vr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Mc(i,o,l,h,m,y){var T=2;if(h=i,typeof i=="function")Qd(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case k:return Co(l.children,m,y,o);case R:T=8,m|=8;break;case P:return i=vr(12,l,o,m|2),i.elementType=P,i.lanes=y,i;case b:return i=vr(13,l,o,m),i.elementType=b,i.lanes=y,i;case de:return i=vr(19,l,o,m),i.elementType=de,i.lanes=y,i;case Se:return Vc(l,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:T=10;break e;case V:T=9;break e;case U:T=11;break e;case xe:T=14;break e;case _e:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=vr(T,l,o,m),o.elementType=i,o.type=h,o.lanes=y,o}function Co(i,o,l,h){return i=vr(7,i,h,o),i.lanes=l,i}function Vc(i,o,l,h){return i=vr(22,i,h,o),i.elementType=Se,i.lanes=l,i.stateNode={isHidden:!1},i}function Xd(i,o,l){return i=vr(6,i,null,o),i.lanes=l,i}function Yd(i,o,l){return o=vr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function gC(i,o,l,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=os(0),this.expirationTimes=os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Jd(i,o,l,h,m,y,T,x,F){return i=new gC(i,o,l,x,F),o===1?(o=1,y===!0&&(o|=8)):o=0,y=vr(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},hd(y),i}function yC(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function d_(i){if(!i)return gs;i=i._reactInternals;e:{if(Ke(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Vn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Vn(l))return jy(i,l,o)}return o}function p_(i,o,l,h,m,y,T,x,F){return i=Jd(l,h,!0,i,m,y,T,x,F),i.context=d_(null),l=i.current,h=xn(),m=Ss(l),y=Li(h,m),y.callback=o??null,_s(l,y,m),i.current.lanes=m,as(i,m,h),zn(i,h),i}function Fc(i,o,l,h){var m=o.current,y=xn(),T=Ss(m);return l=d_(l),o.context===null?o.context=l:o.pendingContext=l,o=Li(y,T),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=_s(m,o,T),i!==null&&(zr(i,m,T,y),mc(i,m,T)),T}function Uc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function m_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Zd(i,o){m_(i,o),(i=i.alternate)&&m_(i,o)}function vC(){return null}var g_=typeof reportError=="function"?reportError:function(i){console.error(i)};function ep(i){this._internalRoot=i}zc.prototype.render=ep.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Fc(i,o,null,null)},zc.prototype.unmount=ep.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;So(function(){Fc(null,i,null,null)}),o[bi]=null}};function zc(i){this._internalRoot=i}zc.prototype.unstable_scheduleHydration=function(i){if(i){var o=zu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<ti.length&&o!==0&&o<ti[l].priority;l++);ti.splice(l,0,i),l===0&&Bu(i)}};function tp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function jc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function y_(){}function _C(i,o,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var J=Uc(T);y.call(J)}}var T=p_(o,h,i,0,null,!1,!1,"",y_);return i._reactRootContainer=T,i[bi]=T.current,wl(i.nodeType===8?i.parentNode:i),So(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var x=h;h=function(){var J=Uc(F);x.call(J)}}var F=Jd(i,0,!1,null,null,!1,!1,"",y_);return i._reactRootContainer=F,i[bi]=F.current,wl(i.nodeType===8?i.parentNode:i),So(function(){Fc(o,F,l,h)}),F}function $c(i,o,l,h,m){var y=l._reactRootContainer;if(y){var T=y;if(typeof m=="function"){var x=m;m=function(){var F=Uc(T);x.call(F)}}Fc(o,T,i,m)}else T=_C(l,o,i,m,h);return Uc(T)}Fu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=ss(o.pendingLanes);l!==0&&(ls(o,l|1),zn(o,ot()),(st&6)===0&&(Ia=ot()+500,ys()))}break;case 13:So(function(){var h=Oi(i,1);if(h!==null){var m=xn();zr(h,i,1,m)}}),Zd(i,1)}},Qo=function(i){if(i.tag===13){var o=Oi(i,134217728);if(o!==null){var l=xn();zr(o,i,134217728,l)}Zd(i,134217728)}},Uu=function(i){if(i.tag===13){var o=Ss(i),l=Oi(i,o);if(l!==null){var h=xn();zr(l,i,o,h)}Zd(i,o)}},zu=function(){return nt},ju=function(i,o){var l=nt;try{return nt=i,o()}finally{nt=l}},ns=function(i,o,l){switch(o){case"input":if(Yi(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var m=sc(h);if(!m)throw Error(t(90));Cr(h),Yi(h,m)}}}break;case"textarea":_i(i,l);break;case"select":o=l.value,o!=null&&Pr(i,!!l.multiple,o,!1)}},Si=qd,ao=So;var wC={usingClientEntryPoint:!1,Events:[Sl,ha,sc,An,Zr,qd]},Vl={findFiberByHostInstance:mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EC={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Qe(i),i===null?null:i.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||vC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{cr=Bc.inject(EC),on=Bc}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wC,jn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tp(o))throw Error(t(200));return yC(i,o,null,l)},jn.createRoot=function(i,o){if(!tp(i))throw Error(t(299));var l=!1,h="",m=g_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Jd(i,1,!1,null,null,l,!1,h,m),i[bi]=o.current,wl(i.nodeType===8?i.parentNode:i),new ep(o)},jn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Qe(o),i=i===null?null:i.stateNode,i},jn.flushSync=function(i){return So(i)},jn.hydrate=function(i,o,l){if(!jc(o))throw Error(t(200));return $c(null,i,o,!0,l)},jn.hydrateRoot=function(i,o,l){if(!tp(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",T=g_;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=p_(o,null,i,1,l??null,m,!1,y,T),i[bi]=o.current,wl(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new zc(o)},jn.render=function(i,o,l){if(!jc(o))throw Error(t(200));return $c(null,i,o,!1,l)},jn.unmountComponentAtNode=function(i){if(!jc(i))throw Error(t(40));return i._reactRootContainer?(So(function(){$c(null,null,i,!1,function(){i._reactRootContainer=null,i[bi]=null})}),!0):!1},jn.unstable_batchedUpdates=qd,jn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!jc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return $c(i,o,l,!1,h)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var R_;function pE(){if(R_)return ip.exports;R_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ip.exports=PC(),ip.exports}var C_;function kC(){if(C_)return Hc;C_=1;var n=pE();return Hc.createRoot=n.createRoot,Hc.hydrateRoot=n.hydrateRoot,Hc}var bC=kC(),Ul={},A_;function xC(){if(A_)return Ul;A_=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=u,Ul.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,I){const A=new a,D=E.length;if(D<2)return A;const C=(I==null?void 0:I.decode)||v;let M=0;do{const j=E.indexOf("=",M);if(j===-1)break;const W=E.indexOf(";",M),X=W===-1?D:W;if(j>X){M=E.lastIndexOf(";",j-1)+1;continue}const Y=f(E,M,j),L=d(E,j,Y),k=E.slice(Y,L);if(A[k]===void 0){let R=f(E,j+1,X),P=d(E,X,R);const N=C(E.slice(R,P));A[k]=N}M=X+1}while(M<D);return A}function f(E,I,A){do{const D=E.charCodeAt(I);if(D!==32&&D!==9)return I}while(++I<A);return A}function d(E,I,A){for(;I>A;){const D=E.charCodeAt(--I);if(D!==32&&D!==9)return I+1}return A}function p(E,I,A){const D=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const C=D(I);if(!e.test(C))throw new TypeError(`argument val is invalid: ${I}`);let M=E+"="+C;if(!A)return M;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);M+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);M+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);M+="; Path="+A.path}if(A.expires){if(!w(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);M+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(M+="; HttpOnly"),A.secure&&(M+="; Secure"),A.partitioned&&(M+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return M}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return s.call(E)==="[object Date]"}return Ul}xC();/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mE=n=>{throw TypeError(n)},DC=(n,e,t)=>e.has(n)||mE("Cannot "+t),ap=(n,e,t)=>(DC(n,e,"read from private field"),t?t.call(n):e.get(n)),NC=(n,e,t)=>e.has(n)?mE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),P_="popstate";function OC(n={}){function e(r,s){let{pathname:a,search:u,hash:f}=r.location;return cu("",{pathname:a,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:js(s)}return MC(e,t,null,n)}function Ye(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Vt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LC(){return Math.random().toString(36).substring(2,10)}function k_(n,e){return{usr:n.state,key:n.key,idx:e}}function cu(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:t,key:e&&e.key||r||LC()}}function js({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function MC(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,f="POP",d=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function w(){f="POP";let C=v(),M=C==null?null:C-p;p=C,d&&d({action:f,location:D.location,delta:M})}function E(C,M){f="PUSH";let j=cu(D.location,C,M);p=v()+1;let W=k_(j,p),X=D.createHref(j);try{u.pushState(W,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(X)}a&&d&&d({action:f,location:D.location,delta:1})}function I(C,M){f="REPLACE";let j=cu(D.location,C,M);p=v();let W=k_(j,p),X=D.createHref(j);u.replaceState(W,"",X),a&&d&&d({action:f,location:D.location,delta:0})}function A(C){return gE(C)}let D={get action(){return f},get location(){return n(s,u)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(P_,w),d=C,()=>{s.removeEventListener(P_,w),d=null}},createHref(C){return e(s,C)},createURL:A,encodeLocation(C){let M=A(C);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:E,replace:I,go(C){return u.go(C)}};return D}function gE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:js(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}var Gl,b_=class{constructor(n){if(NC(this,Gl,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(ap(this,Gl).has(n))return ap(this,Gl).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){ap(this,Gl).set(n,e)}};Gl=new WeakMap;var VC=new Set(["lazy","caseSensitive","path","id","index","children"]);function FC(n){return VC.has(n)}var UC=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function zC(n){return UC.has(n)}function jC(n){return n.index===!0}function Th(n,e,t=[],r={}){return n.map((s,a)=>{let u=[...t,String(a)],f=typeof s.id=="string"?s.id:u.join("-");if(Ye(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ye(!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),jC(s)){let d={...s,...e(s),id:f};return r[f]=d,d}else{let d={...s,...e(s),id:f,children:void 0};return r[f]=d,s.children&&(d.children=Th(s.children,e,u,r)),d}})}function ks(n,e,t="/"){return ih(n,e,t,!1)}function ih(n,e,t,r){let s=typeof e=="string"?Xs(e):e,a=Tr(s.pathname||"/",t);if(a==null)return null;let u=yE(n);BC(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let p=eA(a);f=JC(u[d],p,r)}return f}function $C(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function yE(n,e=[],t=[],r=""){let s=(a,u,f)=>{let d={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(Ye(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=fi([r,d.relativePath]),v=t.concat(d);a.children&&a.children.length>0&&(Ye(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),yE(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:XC(p,a.index),routesMeta:v})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,u);else for(let d of vE(a.path))s(a,u,d)}),e}function vE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=vE(r.join("/")),f=[];return f.push(...u.map(d=>d===""?a:[a,d].join("/"))),s&&f.push(...u),f.map(d=>n.startsWith("/")&&d===""?"/":d)}function BC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:YC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var HC=/^:[\w-]+$/,WC=3,qC=2,GC=1,KC=10,QC=-2,x_=n=>n==="*";function XC(n,e){let t=n.split("/"),r=t.length;return t.some(x_)&&(r+=QC),e&&(r+=qC),t.filter(s=>!x_(s)).reduce((s,a)=>s+(HC.test(a)?WC:a===""?GC:KC),r)}function YC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function JC(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let f=0;f<r.length;++f){let d=r[f],p=f===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=Sh({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),E=d.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=Sh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:fi([a,w.pathname]),pathnameBase:rA(fi([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=fi([a,w.pathnameBase]))}return u}function Sh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ZC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:w},E)=>{if(v==="*"){let A=f[E]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const I=f[E];return w&&!I?p[v]=void 0:p[v]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function ZC(n,e=!1,t=!0){Vt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function eA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Tr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function tA(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Xs(n):n;return{pathname:t?t.startsWith("/")?t:nA(t,e):e,search:iA(r),hash:sA(s)}}function nA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function lp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _E(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xh(n){let e=_E(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Yh(n,e,t,r=!1){let s;typeof n=="string"?s=Xs(n):(s={...n},Ye(!s.pathname||!s.pathname.includes("?"),lp("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),lp("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),lp("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,f;if(u==null)f=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}f=w>=0?e[w]:"/"}let d=tA(s,f),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}var fi=n=>n.join("/").replace(/\/\/+/g,"/"),rA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),iA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Ih=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function hu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var wE=["POST","PUT","PATCH","DELETE"],oA=new Set(wE),aA=["GET",...wE],lA=new Set(aA),uA=new Set([301,302,303,307,308]),cA=new Set([307,308]),up={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fA=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),EE="remix-router-transitions",TE=Symbol("ResetLoaderData");function dA(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ye(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],s=n.mapRouteProperties||fA,a={},u=Th(n.routes,s,void 0,a),f,d=n.basename||"/",p=n.dataStrategy||vA,v={unstable_middleware:!1,...n.future},w=null,E=new Set,I=null,A=null,D=null,C=n.hydrationData!=null,M=ks(u,n.history.location,d),j=!1,W=null,X;if(M==null&&!n.patchRoutesOnNavigation){let O=wr(404,{pathname:n.history.location.pathname}),{matches:H,route:K}=B_(u);X=!0,M=H,W={[K.id]:O}}else if(M&&!n.hydrationData&&An(M,u,n.history.location.pathname).active&&(M=null),M)if(M.some(O=>O.route.lazy))X=!1;else if(!M.some(O=>O.route.loader))X=!0;else{let O=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;if(H){let K=M.findIndex(oe=>H[oe.route.id]!==void 0);X=M.slice(0,K+1).every(oe=>!Fp(oe.route,O,H))}else X=M.every(K=>!Fp(K.route,O,H))}else{X=!1,M=[];let O=An(null,u,n.history.location.pathname);O.active&&O.matches&&(j=!0,M=O.matches)}let Y,L={historyAction:n.history.action,location:n.history.location,matches:M,initialized:X,navigation:up,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||W,fetchers:new Map,blockers:new Map},k="POP",R=!1,P,N=!1,V=new Map,U=null,b=!1,de=!1,xe=new Set,_e=new Map,Se=0,re=-1,ce=new Map,le=new Set,B=new Map,ee=new Map,pe=new Set,ke=new Map,Ve,$e=null;function qe(){if(w=n.history.listen(({action:O,location:H,delta:K})=>{if(Ve){Ve(),Ve=void 0;return}Vt(ke.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=Yr({currentLocation:L.location,nextLocation:H,historyAction:O});if(oe&&K!=null){let he=new Promise(Ie=>{Ve=Ie});n.history.go(K*-1),Xr(oe,{state:"blocked",location:H,proceed(){Xr(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),he.then(()=>n.history.go(K))},reset(){let Ie=new Map(L.blockers);Ie.set(oe,zl),Je({blockers:Ie})}});return}return Rn(O,H)}),t){kA(e,V);let O=()=>bA(e,V);e.addEventListener("pagehide",O),U=()=>e.removeEventListener("pagehide",O)}return L.initialized||Rn("POP",L.location,{initialHydration:!0}),Y}function tt(){w&&w(),U&&U(),E.clear(),P&&P.abort(),L.fetchers.forEach((O,H)=>Ei(H)),L.blockers.forEach((O,H)=>ts(H))}function lt(O){return E.add(O),()=>E.delete(O)}function Je(O,H={}){L={...L,...O};let K=[],oe=[];L.fetchers.forEach((he,Ie)=>{he.state==="idle"&&(pe.has(Ie)?K.push(Ie):oe.push(Ie))}),pe.forEach(he=>{!L.fetchers.has(he)&&!_e.has(he)&&K.push(he)}),[...E].forEach(he=>he(L,{deletedFetchers:K,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),K.forEach(he=>Ei(he)),oe.forEach(he=>L.fetchers.delete(he))}function Kt(O,H,{flushSync:K}={}){var Pe,Fe;let oe=L.actionData!=null&&L.navigation.formMethod!=null&&rr(L.navigation.formMethod)&&L.navigation.state==="loading"&&((Pe=O.state)==null?void 0:Pe._isRedirect)!==!0,he;H.actionData?Object.keys(H.actionData).length>0?he=H.actionData:he=null:oe?he=L.actionData:he=null;let Ie=H.loaderData?j_(L.loaderData,H.loaderData,H.matches||[],H.errors):L.loaderData,be=L.blockers;be.size>0&&(be=new Map(be),be.forEach((Ce,ze)=>be.set(ze,zl)));let me=R===!0||L.navigation.formMethod!=null&&rr(L.navigation.formMethod)&&((Fe=O.state)==null?void 0:Fe._isRedirect)!==!0;f&&(u=f,f=void 0),b||k==="POP"||(k==="PUSH"?n.history.push(O,O.state):k==="REPLACE"&&n.history.replace(O,O.state));let Ee;if(k==="POP"){let Ce=V.get(L.location.pathname);Ce&&Ce.has(O.pathname)?Ee={currentLocation:L.location,nextLocation:O}:V.has(O.pathname)&&(Ee={currentLocation:O,nextLocation:L.location})}else if(N){let Ce=V.get(L.location.pathname);Ce?Ce.add(O.pathname):(Ce=new Set([O.pathname]),V.set(L.location.pathname,Ce)),Ee={currentLocation:L.location,nextLocation:O}}Je({...H,actionData:he,loaderData:Ie,historyAction:k,location:O,initialized:!0,navigation:up,revalidation:"idle",restoreScrollPosition:Ti(O,H.matches||L.matches),preventScrollReset:me,blockers:be},{viewTransitionOpts:Ee,flushSync:K===!0}),k="POP",R=!1,N=!1,b=!1,de=!1,$e==null||$e.resolve(),$e=null}async function Cr(O,H){if(typeof O=="number"){n.history.go(O);return}let K=Vp(L.location,L.matches,d,O,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:oe,submission:he,error:Ie}=D_(!1,K,H),be=L.location,me=cu(L.location,oe,H&&H.state);me={...me,...n.history.encodeLocation(me)};let Ee=H&&H.replace!=null?H.replace:void 0,Pe="PUSH";Ee===!0?Pe="REPLACE":Ee===!1||he!=null&&rr(he.formMethod)&&he.formAction===L.location.pathname+L.location.search&&(Pe="REPLACE");let Fe=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Ce=(H&&H.flushSync)===!0,ze=Yr({currentLocation:be,nextLocation:me,historyAction:Pe});if(ze){Xr(ze,{state:"blocked",location:me,proceed(){Xr(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),Cr(O,H)},reset(){let Ke=new Map(L.blockers);Ke.set(ze,zl),Je({blockers:Ke})}});return}await Rn(Pe,me,{submission:he,pendingError:Ie,preventScrollReset:Fe,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Ce})}function qn(){$e||($e=xA()),wi(),Je({revalidation:"loading"});let O=$e.promise;return L.navigation.state==="submitting"?O:L.navigation.state==="idle"?(Rn(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),O):(Rn(k||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:N===!0}),O)}async function Rn(O,H,K){P&&P.abort(),P=null,k=O,b=(K&&K.startUninterruptedRevalidation)===!0,lr(L.location,L.matches),R=(K&&K.preventScrollReset)===!0,N=(K&&K.enableViewTransition)===!0;let oe=f||u,he=K&&K.overrideNavigation,Ie=K!=null&&K.initialHydration&&L.matches&&L.matches.length>0&&!j?L.matches:ks(oe,H,d),be=(K&&K.flushSync)===!0;if(Ie&&L.initialized&&!de&&IA(L.location,H)&&!(K&&K.submission&&rr(K.submission.formMethod))){Kt(H,{matches:Ie},{flushSync:be});return}let me=An(Ie,oe,H.pathname);if(me.active&&me.matches&&(Ie=me.matches),!Ie){let{error:pt,notFoundMatches:Qt,route:Qe}=Jr(H.pathname);Kt(H,{matches:Qt,loaderData:{},errors:{[Qe.id]:pt}},{flushSync:be});return}P=new AbortController;let Ee=Aa(n.history,H,P.signal,K&&K.submission),Pe=new b_(n.unstable_getContext?await n.unstable_getContext():void 0),Fe;if(K&&K.pendingError)Fe=[Po(Ie).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&rr(K.submission.formMethod)){let pt=await Xi(Ee,H,K.submission,Ie,Pe,me.active,K&&K.initialHydration===!0,{replace:K.replace,flushSync:be});if(pt.shortCircuited)return;if(pt.pendingActionResult){let[Qt,Qe]=pt.pendingActionResult;if(nr(Qe)&&hu(Qe.error)&&Qe.error.status===404){P=null,Kt(H,{matches:pt.matches,loaderData:{},errors:{[Qt]:Qe.error}});return}}Ie=pt.matches||Ie,Fe=pt.pendingActionResult,he=cp(H,K.submission),be=!1,me.active=!1,Ee=Aa(n.history,Ee.url,Ee.signal)}let{shortCircuited:Ce,matches:ze,loaderData:Ke,errors:gt}=await so(Ee,H,Ie,Pe,me.active,he,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,be,Fe);Ce||(P=null,Kt(H,{matches:ze||Ie,...$_(Fe),loaderData:Ke,errors:gt}))}async function Xi(O,H,K,oe,he,Ie,be,me={}){wi();let Ee=AA(H,K);if(Je({navigation:Ee},{flushSync:me.flushSync===!0}),Ie){let Ce=await Zr(oe,H.pathname,O.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let ze=Po(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[ze,{type:"error",error:Ce.error}]}}else if(Ce.matches)oe=Ce.matches;else{let{notFoundMatches:ze,error:Ke,route:gt}=Jr(H.pathname);return{matches:ze,pendingActionResult:[gt.id,{type:"error",error:Ke}]}}}let Pe,Fe=Kl(oe,H);if(!Fe.route.action&&!Fe.route.lazy)Pe={type:"error",error:wr(405,{method:O.method,pathname:H.pathname,routeId:Fe.route.id})};else{let Ce=Da(s,a,O,oe,Fe,be?[]:r,he),ze=await or(O,Ce,he,null);if(Pe=ze[Fe.route.id],!Pe){for(let Ke of oe)if(ze[Ke.route.id]){Pe=ze[Ke.route.id];break}}if(O.signal.aborted)return{shortCircuited:!0}}if(bo(Pe)){let Ce;return me&&me.replace!=null?Ce=me.replace:Ce=F_(Pe.response.headers.get("Location"),new URL(O.url),d)===L.location.pathname+L.location.search,await Gn(O,Pe,!0,{submission:K,replace:Ce}),{shortCircuited:!0}}if(nr(Pe)){let Ce=Po(oe,Fe.route.id);return(me&&me.replace)!==!0&&(k="PUSH"),{matches:oe,pendingActionResult:[Ce.route.id,Pe,Fe.route.id]}}return{matches:oe,pendingActionResult:[Fe.route.id,Pe]}}async function so(O,H,K,oe,he,Ie,be,me,Ee,Pe,Fe,Ce){let ze=Ie||cp(H,be),Ke=be||me||W_(ze),gt=!b&&!Pe;if(he){if(gt){let Xt=Yi(Ce);Je({navigation:ze,...Xt!==void 0?{actionData:Xt}:{}},{flushSync:Fe})}let We=await Zr(K,H.pathname,O.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let Xt=Po(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[Xt]:We.error}}}else if(We.matches)K=We.matches;else{let{error:Xt,notFoundMatches:Qn,route:cr}=Jr(H.pathname);return{matches:Qn,loaderData:{},errors:{[cr.id]:Xt}}}}let pt=f||u,{dsMatches:Qt,revalidatingFetchers:Qe}=N_(O,oe,s,a,n.history,L,K,Ke,H,Pe?[]:r,Pe===!0,de,xe,pe,B,le,pt,d,Ce);if(re=++Se,!n.dataStrategy&&!Qt.some(We=>We.shouldLoad)&&Qe.length===0){let We=Zi();return Kt(H,{matches:K,loaderData:{},errors:Ce&&nr(Ce[1])?{[Ce[0]]:Ce[1].error}:null,...$_(Ce),...We?{fetchers:new Map(L.fetchers)}:{}},{flushSync:Fe}),{shortCircuited:!0}}if(gt){let We={};if(!he){We.navigation=ze;let Xt=Yi(Ce);Xt!==void 0&&(We.actionData=Xt)}Qe.length>0&&(We.fetchers=Wo(Qe)),Je(We,{flushSync:Fe})}Qe.forEach(We=>{mn(We.key),We.controller&&_e.set(We.key,We.controller)});let ur=()=>Qe.forEach(We=>mn(We.key));P&&P.signal.addEventListener("abort",ur);let{loaderResults:Nn,fetcherResults:kr}=await _i(Qt,Qe,O,oe);if(O.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",ur),Qe.forEach(We=>_e.delete(We.key));let sn=Wc(Nn);if(sn)return await Gn(O,sn.result,!0,{replace:Ee}),{shortCircuited:!0};if(sn=Wc(kr),sn)return le.add(sn.key),await Gn(O,sn.result,!0,{replace:Ee}),{shortCircuited:!0};let{loaderData:Ii,errors:ot}=z_(L,K,Nn,Ce,Qe,kr);Pe&&L.errors&&(ot={...L.errors,...ot});let rs=Zi(),Pn=es(re),Kn=rs||Pn||Qe.length>0;return{matches:K,loaderData:Ii,errors:ot,...Kn?{fetchers:new Map(L.fetchers)}:{}}}function Yi(O){if(O&&!nr(O[1]))return{[O[0]]:O[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Wo(O){return O.forEach(H=>{let K=L.fetchers.get(H.key),oe=jl(void 0,K?K.data:void 0);L.fetchers.set(H.key,oe)}),new Map(L.fetchers)}async function Ji(O,H,K,oe){mn(O);let he=(oe&&oe.flushSync)===!0,Ie=f||u,be=Vp(L.location,L.matches,d,K,H,oe==null?void 0:oe.relative),me=ks(Ie,be,d),Ee=An(me,Ie,be);if(Ee.active&&Ee.matches&&(me=Ee.matches),!me){ht(O,H,wr(404,{pathname:be}),{flushSync:he});return}let{path:Pe,submission:Fe,error:Ce}=D_(!0,be,oe);if(Ce){ht(O,H,Ce,{flushSync:he});return}let ze=Kl(me,Pe),Ke=new b_(n.unstable_getContext?await n.unstable_getContext():void 0),gt=(oe&&oe.preventScrollReset)===!0;if(Fe&&rr(Fe.formMethod)){await Ar(O,H,Pe,ze,me,Ke,Ee.active,he,gt,Fe);return}B.set(O,{routeId:H,path:Pe}),await Pr(O,H,Pe,ze,me,Ke,Ee.active,he,gt,Fe)}async function Ar(O,H,K,oe,he,Ie,be,me,Ee,Pe){wi(),B.delete(O);function Fe(Et){if(!Et.route.action&&!Et.route.lazy){let xt=wr(405,{method:Pe.formMethod,pathname:K,routeId:H});return ht(O,H,xt,{flushSync:me}),!0}return!1}if(!be&&Fe(oe))return;let Ce=L.fetchers.get(O);dt(O,PA(Pe,Ce),{flushSync:me});let ze=new AbortController,Ke=Aa(n.history,K,ze.signal,Pe);if(be){let Et=await Zr(he,K,Ke.signal,O);if(Et.type==="aborted")return;if(Et.type==="error"){ht(O,H,Et.error,{flushSync:me});return}else if(Et.matches){if(he=Et.matches,oe=Kl(he,K),Fe(oe))return}else{ht(O,H,wr(404,{pathname:K}),{flushSync:me});return}}_e.set(O,ze);let gt=Se,pt=Da(s,a,Ke,he,oe,r,Ie),Qe=(await or(Ke,pt,Ie,O))[oe.route.id];if(Ke.signal.aborted){_e.get(O)===ze&&_e.delete(O);return}if(pe.has(O)){if(bo(Qe)||nr(Qe)){dt(O,Ps(void 0));return}}else{if(bo(Qe))if(_e.delete(O),re>gt){dt(O,Ps(void 0));return}else return le.add(O),dt(O,jl(Pe)),Gn(Ke,Qe,!1,{fetcherSubmission:Pe,preventScrollReset:Ee});if(nr(Qe)){ht(O,H,Qe.error);return}}let ur=L.navigation.location||L.location,Nn=Aa(n.history,ur,ze.signal),kr=f||u,sn=L.navigation.state!=="idle"?ks(kr,L.navigation.location,d):L.matches;Ye(sn,"Didn't find any matches after fetcher action");let Ii=++Se;ce.set(O,Ii);let ot=jl(Pe,Qe.data);L.fetchers.set(O,ot);let{dsMatches:rs,revalidatingFetchers:Pn}=N_(Nn,Ie,s,a,n.history,L,sn,Pe,ur,r,!1,de,xe,pe,B,le,kr,d,[oe.route.id,Qe]);Pn.filter(Et=>Et.key!==O).forEach(Et=>{let xt=Et.key,is=L.fetchers.get(xt),qo=jl(void 0,is?is.data:void 0);L.fetchers.set(xt,qo),mn(xt),Et.controller&&_e.set(xt,Et.controller)}),Je({fetchers:new Map(L.fetchers)});let Kn=()=>Pn.forEach(Et=>mn(Et.key));ze.signal.addEventListener("abort",Kn);let{loaderResults:We,fetcherResults:Xt}=await _i(rs,Pn,Nn,Ie);if(ze.signal.aborted)return;if(ze.signal.removeEventListener("abort",Kn),ce.delete(O),_e.delete(O),Pn.forEach(Et=>_e.delete(Et.key)),L.fetchers.has(O)){let Et=Ps(Qe.data);L.fetchers.set(O,Et)}let Qn=Wc(We);if(Qn)return Gn(Nn,Qn.result,!1,{preventScrollReset:Ee});if(Qn=Wc(Xt),Qn)return le.add(Qn.key),Gn(Nn,Qn.result,!1,{preventScrollReset:Ee});let{loaderData:cr,errors:on}=z_(L,sn,We,void 0,Pn,Xt);es(Ii),L.navigation.state==="loading"&&Ii>re?(Ye(k,"Expected pending action"),P&&P.abort(),Kt(L.navigation.location,{matches:sn,loaderData:cr,errors:on,fetchers:new Map(L.fetchers)})):(Je({errors:on,loaderData:j_(L.loaderData,cr,sn,on),fetchers:new Map(L.fetchers)}),de=!1)}async function Pr(O,H,K,oe,he,Ie,be,me,Ee,Pe){let Fe=L.fetchers.get(O);dt(O,jl(Pe,Fe?Fe.data:void 0),{flushSync:me});let Ce=new AbortController,ze=Aa(n.history,K,Ce.signal);if(be){let Qe=await Zr(he,K,ze.signal,O);if(Qe.type==="aborted")return;if(Qe.type==="error"){ht(O,H,Qe.error,{flushSync:me});return}else if(Qe.matches)he=Qe.matches,oe=Kl(he,K);else{ht(O,H,wr(404,{pathname:K}),{flushSync:me});return}}_e.set(O,Ce);let Ke=Se,gt=Da(s,a,ze,he,oe,r,Ie),Qt=(await or(ze,gt,Ie,O))[oe.route.id];if(_e.get(O)===Ce&&_e.delete(O),!ze.signal.aborted){if(pe.has(O)){dt(O,Ps(void 0));return}if(bo(Qt))if(re>Ke){dt(O,Ps(void 0));return}else{le.add(O),await Gn(ze,Qt,!1,{preventScrollReset:Ee});return}if(nr(Qt)){ht(O,H,Qt.error);return}dt(O,Ps(Qt.data))}}async function Gn(O,H,K,{submission:oe,fetcherSubmission:he,preventScrollReset:Ie,replace:be}={}){H.response.headers.has("X-Remix-Revalidate")&&(de=!0);let me=H.response.headers.get("Location");Ye(me,"Expected a Location header on the redirect Response"),me=F_(me,new URL(O.url),d);let Ee=cu(L.location,me,{_isRedirect:!0});if(t){let gt=!1;if(H.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(jm.test(me)){const pt=gE(me,!0);gt=pt.origin!==e.location.origin||Tr(pt.pathname,d)==null}if(gt){be?e.location.replace(me):e.location.assign(me);return}}P=null;let Pe=be===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Fe,formAction:Ce,formEncType:ze}=L.navigation;!oe&&!he&&Fe&&Ce&&ze&&(oe=W_(L.navigation));let Ke=oe||he;if(cA.has(H.response.status)&&Ke&&rr(Ke.formMethod))await Rn(Pe,Ee,{submission:{...Ke,formAction:me},preventScrollReset:Ie||R,enableViewTransition:K?N:void 0});else{let gt=cp(Ee,oe);await Rn(Pe,Ee,{overrideNavigation:gt,fetcherSubmission:he,preventScrollReset:Ie||R,enableViewTransition:K?N:void 0})}}async function or(O,H,K,oe){let he,Ie={};try{he=await _A(p,O,H,oe,K,!1)}catch(be){return H.filter(me=>me.shouldLoad).forEach(me=>{Ie[me.route.id]={type:"error",error:be}}),Ie}if(O.signal.aborted)return Ie;for(let[be,me]of Object.entries(he))if(RA(me)){let Ee=me.result;Ie[be]={type:"redirect",response:TA(Ee,O,be,H,d)}}else Ie[be]=await EA(me);return Ie}async function _i(O,H,K,oe){let he=or(K,O,oe,null),Ie=Promise.all(H.map(async Ee=>{if(Ee.matches&&Ee.match&&Ee.request&&Ee.controller){let Fe=(await or(Ee.request,Ee.matches,oe,Ee.key))[Ee.match.route.id];return{[Ee.key]:Fe}}else return Promise.resolve({[Ee.key]:{type:"error",error:wr(404,{pathname:Ee.path})}})})),be=await he,me=(await Ie).reduce((Ee,Pe)=>Object.assign(Ee,Pe),{});return{loaderResults:be,fetcherResults:me}}function wi(){de=!0,B.forEach((O,H)=>{_e.has(H)&&xe.add(H),mn(H)})}function dt(O,H,K={}){L.fetchers.set(O,H),Je({fetchers:new Map(L.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function ht(O,H,K,oe={}){let he=Po(L.matches,H);Ei(O),Je({errors:{[he.route.id]:K},fetchers:new Map(L.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function ar(O){return ee.set(O,(ee.get(O)||0)+1),pe.has(O)&&pe.delete(O),L.fetchers.get(O)||hA}function Ei(O){let H=L.fetchers.get(O);_e.has(O)&&!(H&&H.state==="loading"&&ce.has(O))&&mn(O),B.delete(O),ce.delete(O),le.delete(O),pe.delete(O),xe.delete(O),L.fetchers.delete(O)}function Kr(O){let H=(ee.get(O)||0)-1;H<=0?(ee.delete(O),pe.add(O)):ee.set(O,H),Je({fetchers:new Map(L.fetchers)})}function mn(O){let H=_e.get(O);H&&(H.abort(),_e.delete(O))}function Qr(O){for(let H of O){let K=ar(H),oe=Ps(K.data);L.fetchers.set(H,oe)}}function Zi(){let O=[],H=!1;for(let K of le){let oe=L.fetchers.get(K);Ye(oe,`Expected fetcher: ${K}`),oe.state==="loading"&&(le.delete(K),O.push(K),H=!0)}return Qr(O),H}function es(O){let H=[];for(let[K,oe]of ce)if(oe<O){let he=L.fetchers.get(K);Ye(he,`Expected fetcher: ${K}`),he.state==="loading"&&(mn(K),ce.delete(K),H.push(K))}return Qr(H),H.length>0}function oo(O,H){let K=L.blockers.get(O)||zl;return ke.get(O)!==H&&ke.set(O,H),K}function ts(O){L.blockers.delete(O),ke.delete(O)}function Xr(O,H){let K=L.blockers.get(O)||zl;Ye(K.state==="unblocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="proceeding"||K.state==="blocked"&&H.state==="unblocked"||K.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${H.state}`);let oe=new Map(L.blockers);oe.set(O,H),Je({blockers:oe})}function Yr({currentLocation:O,nextLocation:H,historyAction:K}){if(ke.size===0)return;ke.size>1&&Vt(!1,"A router only supports one blocker at a time");let oe=Array.from(ke.entries()),[he,Ie]=oe[oe.length-1],be=L.blockers.get(he);if(!(be&&be.state==="proceeding")&&Ie({currentLocation:O,nextLocation:H,historyAction:K}))return he}function Jr(O){let H=wr(404,{pathname:O}),K=f||u,{matches:oe,route:he}=B_(K);return{notFoundMatches:oe,route:he,error:H}}function ns(O,H,K){if(I=O,D=H,A=K||null,!C&&L.navigation===up){C=!0;let oe=Ti(L.location,L.matches);oe!=null&&Je({restoreScrollPosition:oe})}return()=>{I=null,D=null,A=null}}function Cn(O,H){return A&&A(O,H.map(oe=>$C(oe,L.loaderData)))||O.key}function lr(O,H){if(I&&D){let K=Cn(O,H);I[K]=D()}}function Ti(O,H){if(I){let K=Cn(O,H),oe=I[K];if(typeof oe=="number")return oe}return null}function An(O,H,K){if(n.patchRoutesOnNavigation)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:ih(H,K,d,!0)}}else return{active:!0,matches:ih(H,K,d,!0)||[]};return{active:!1,matches:null}}async function Zr(O,H,K,oe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:O};let he=O;for(;;){let Ie=f==null,be=f||u,me=a;try{await n.patchRoutesOnNavigation({signal:K,path:H,matches:he,fetcherKey:oe,patch:(Fe,Ce)=>{K.aborted||O_(Fe,Ce,be,me,s)}})}catch(Fe){return{type:"error",error:Fe,partialMatches:he}}finally{Ie&&!K.aborted&&(u=[...u])}if(K.aborted)return{type:"aborted"};let Ee=ks(be,H,d);if(Ee)return{type:"success",matches:Ee};let Pe=ih(be,H,d,!0);if(!Pe||he.length===Pe.length&&he.every((Fe,Ce)=>Fe.route.id===Pe[Ce].route.id))return{type:"success",matches:null};he=Pe}}function Si(O){a={},f=Th(O,s,void 0,a)}function ao(O,H){let K=f==null;O_(O,H,f||u,a,s),K&&(u=[...u],Je({}))}return Y={get basename(){return d},get future(){return v},get state(){return L},get routes(){return u},get window(){return e},initialize:qe,subscribe:lt,enableScrollRestoration:ns,navigate:Cr,fetch:Ji,revalidate:qn,createHref:O=>n.history.createHref(O),encodeLocation:O=>n.history.encodeLocation(O),getFetcher:ar,deleteFetcher:Kr,dispose:tt,getBlocker:oo,deleteBlocker:ts,patchRoutes:ao,_internalFetchControllers:_e,_internalSetRoutes:Si},Y}function pA(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Vp(n,e,t,r,s,a){let u,f;if(s){u=[];for(let p of e)if(u.push(p),p.route.id===s){f=p;break}}else u=e,f=e[e.length-1];let d=Yh(r||".",Xh(u),Tr(n.pathname,t)||n.pathname,a==="path");if(r==null&&(d.search=n.search,d.hash=n.hash),(r==null||r===""||r===".")&&f){let p=$m(d.search);if(f.route.index&&!p)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&p){let v=new URLSearchParams(d.search),w=v.getAll("index");v.delete("index"),w.filter(I=>I).forEach(I=>v.append("index",I));let E=v.toString();d.search=E?`?${E}`:""}}return t!=="/"&&(d.pathname=d.pathname==="/"?t:fi([t,d.pathname])),js(d)}function D_(n,e,t){if(!t||!pA(t))return{path:e};if(t.formMethod&&!CA(t.formMethod))return{path:e,error:wr(405,{method:t.formMethod})};let r=()=>({path:e,error:wr(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),u=PE(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!rr(a))return r();let w=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[I,A])=>`${E}${I}=${A}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:w}}}else if(t.formEncType==="application/json"){if(!rr(a))return r();try{let w=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:w,text:void 0}}}catch{return r()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let f,d;if(t.formData)f=zp(t.formData),d=t.formData;else if(t.body instanceof FormData)f=zp(t.body),d=t.body;else if(t.body instanceof URLSearchParams)f=t.body,d=U_(f);else if(t.body==null)f=new URLSearchParams,d=new FormData;else try{f=new URLSearchParams(t.body),d=U_(f)}catch{return r()}let p={formMethod:a,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(rr(p.formMethod))return{path:e,submission:p};let v=Xs(e);return n&&v.search&&$m(v.search)&&f.append("index",""),v.search=`?${f}`,{path:js(v),submission:p}}function N_(n,e,t,r,s,a,u,f,d,p,v,w,E,I,A,D,C,M,j){var U;let W=j?nr(j[1])?j[1].error:j[1].data:void 0,X=s.createURL(a.location),Y=s.createURL(d),L;if(v&&a.errors){let b=Object.keys(a.errors)[0];L=u.findIndex(de=>de.route.id===b)}else if(j&&nr(j[1])){let b=j[0];L=u.findIndex(de=>de.route.id===b)-1}let k=j?j[1].statusCode:void 0,R=k&&k>=400,P={currentUrl:X,currentParams:((U=a.matches[0])==null?void 0:U.params)||{},nextUrl:Y,nextParams:u[0].params,...f,actionResult:W,actionStatus:k},N=u.map((b,de)=>{let{route:xe}=b,_e=null;if(L!=null&&de>L?_e=!1:xe.lazy?_e=!0:xe.loader==null?_e=!1:v?_e=Fp(xe,a.loaderData,a.errors):mA(a.loaderData,a.matches[de],b)&&(_e=!0),_e!==null)return Up(t,r,n,b,p,e,_e);let Se=R?!1:w||X.pathname+X.search===Y.pathname+Y.search||X.search!==Y.search||gA(a.matches[de],b),re={...P,defaultShouldRevalidate:Se},ce=Rh(b,re);return Up(t,r,n,b,p,e,ce,re)}),V=[];return A.forEach((b,de)=>{if(v||!u.some(B=>B.route.id===b.routeId)||I.has(de))return;let xe=ks(C,b.path,M);if(!xe){V.push({key:de,routeId:b.routeId,path:b.path,matches:null,match:null,request:null,controller:null});return}if(D.has(de))return;let _e=a.fetchers.get(de),Se=Kl(xe,b.path),re=new AbortController,ce=Aa(s,b.path,re.signal),le=null;if(E.has(de))E.delete(de),le=Da(t,r,ce,xe,Se,p,e);else if(_e&&_e.state!=="idle"&&_e.data===void 0)w&&(le=Da(t,r,ce,xe,Se,p,e));else{let B={...P,defaultShouldRevalidate:R?!1:w};Rh(Se,B)&&(le=Da(t,r,ce,xe,Se,p,e,B))}le&&V.push({key:de,routeId:b.routeId,path:b.path,matches:le,match:Se,request:ce,controller:re})}),{dsMatches:N,revalidatingFetchers:V}}function Fp(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function mA(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function gA(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Rh(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function O_(n,e,t,r,s){let a;if(n){let d=r[n];Ye(d,`No route found to patch children into: routeId = ${n}`),d.children||(d.children=[]),a=d.children}else a=t;let u=e.filter(d=>!a.some(p=>SE(d,p))),f=Th(u,s,[n||"_","patch",String((a==null?void 0:a.length)||"0")],r);a.push(...f)}function SE(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(a=>SE(t,a))}):!1}var L_=new WeakMap,IE=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let s=t[e.id];if(Ye(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let a=s.lazy[n];if(!a)return;let u=L_.get(s);u||(u={},L_.set(s,u));let f=u[n];if(f)return f;let d=(async()=>{let p=FC(n),w=s[n]!==void 0&&n!=="hasErrorBoundary";if(p)Vt(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(w)Vt(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let E=await a();E!=null&&(Object.assign(s,{[n]:E}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(E=>E===void 0)&&(s.lazy=void 0))})();return u[n]=d,d},M_=new WeakMap;function yA(n,e,t,r,s){let a=t[n.id];if(Ye(a,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let v=M_.get(a);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let w=(async()=>{Ye(typeof n.lazy=="function","No lazy route function found");let E=await n.lazy(),I={};for(let A in E){let D=E[A];if(D===void 0)continue;let C=zC(A),j=a[A]!==void 0&&A!=="hasErrorBoundary";C?Vt(!C,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?Vt(!j,`Route "${a.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):I[A]=D}Object.assign(a,I),Object.assign(a,{...r(a),lazy:void 0})})();return M_.set(a,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let u=Object.keys(n.lazy),f=[],d;for(let v of u){if(s&&s.includes(v))continue;let w=IE({key:v,route:n,manifest:t,mapRouteProperties:r});w&&(f.push(w),v===e&&(d=w))}let p=f.length>0?Promise.all(f).then(()=>{}):void 0;return p==null||p.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:d}}async function V_(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,a)=>{t[e[a].route.id]=s}),t}async function vA(n){return n.matches.some(e=>e.route.unstable_middleware)?RE(n,!1,()=>V_(n),(e,t)=>({[t]:{type:"error",result:e}})):V_(n)}async function RE(n,e,t,r){let{matches:s,request:a,params:u,context:f}=n,d={handlerResult:void 0};try{let p=s.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(E=>[w.route.id,E]):[]),v=await CE({request:a,params:u,context:f},p,e,d,t);return e?v:d.handlerResult}catch(p){if(!d.middlewareError)throw p;let v=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,v):v}}async function CE(n,e,t,r,s,a=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=e[a];if(!f)return r.handlerResult=await s(),r.handlerResult;let[d,p]=f,v=!1,w,E=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await CE(n,e,t,r,s,a+1)};try{let I=await p({request:n.request,params:n.params,context:n.context},E);return v?I===void 0?w:I:E()}catch(I){throw r.middlewareError?r.middlewareError.error!==I&&(r.middlewareError={routeId:d,error:I}):r.middlewareError={routeId:d,error:I},I}}function AE(n,e,t,r,s){let a=IE({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=yA(r.route,rr(t.method)?"action":"loader",e,n,s);return{middleware:a,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Up(n,e,t,r,s,a,u,f=null){let d=!1,p=AE(n,e,t,r,s);return{...r,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(v){return d=!0,f?typeof v=="boolean"?Rh(r,{...f,defaultShouldRevalidate:v}):Rh(r,f):u},resolve(v){return d||u||v&&t.method==="GET"&&(r.route.lazy||r.route.loader)?wA({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:v,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Da(n,e,t,r,s,a,u,f=null){return r.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:AE(n,e,t,d,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Up(n,e,t,d,a,u,!0,f))}async function _A(n,e,t,r,s,a){t.some(p=>{var v;return(v=p._lazyPromises)==null?void 0:v.middleware})&&await Promise.all(t.map(p=>{var v;return(v=p._lazyPromises)==null?void 0:v.middleware}));let u={request:e,params:t[0].params,context:s,matches:t},d=await n({...u,fetcherKey:r,unstable_runClientMiddleware:p=>{let v=u;return RE(v,!1,()=>p({...v,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(w,E)=>({[E]:{type:"error",result:w}}))}});try{await Promise.all(t.flatMap(p=>{var v,w;return[(v=p._lazyPromises)==null?void 0:v.handler,(w=p._lazyPromises)==null?void 0:w.route]}))}catch{}return d}async function wA({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:s,scopedContext:a}){let u,f,d=rr(n.method),p=d?"action":"loader",v=w=>{let E,I=new Promise((C,M)=>E=M);f=()=>E(),n.signal.addEventListener("abort",f);let A=C=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):w({request:n,params:e.params,context:a},...C!==void 0?[C]:[]),D=(async()=>{try{return{type:"data",result:await(s?s(M=>A(M)):A())}}catch(C){return{type:"error",result:C}}})();return Promise.race([D,I])};try{let w=d?e.route.action:e.route.loader;if(t||r)if(w){let E,[I]=await Promise.all([v(w).catch(A=>{E=A}),t,r]);if(E!==void 0)throw E;u=I}else{await t;let E=d?e.route.action:e.route.loader;if(E)[u]=await Promise.all([v(E),r]);else if(p==="action"){let I=new URL(n.url),A=I.pathname+I.search;throw wr(405,{method:n.method,pathname:A,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(w)u=await v(w);else{let E=new URL(n.url),I=E.pathname+E.search;throw wr(404,{pathname:I})}}catch(w){return{type:"error",result:w}}finally{f&&n.signal.removeEventListener("abort",f)}return u}async function EA(n){var r,s,a,u,f,d;let{result:e,type:t}=n;if(kE(e)){let p;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(v){return{type:"error",error:v}}return t==="error"?{type:"error",error:new Ih(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?H_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Ih(((a=e.init)==null?void 0:a.status)||500,void 0,e.data),statusCode:hu(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:hu(e)?e.status:void 0}:H_(e)?{type:"data",data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function TA(n,e,t,r,s){let a=n.headers.get("Location");if(Ye(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!jm.test(a)){let u=r.slice(0,r.findIndex(f=>f.route.id===t)+1);a=Vp(new URL(e.url),u,s,a),n.headers.set("Location",a)}return n}function F_(n,e,t){if(jm.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=Tr(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function Aa(n,e,t,r){let s=n.createURL(PE(e)).toString(),a={signal:t};if(r&&rr(r.formMethod)){let{formMethod:u,formEncType:f}=r;a.method=u.toUpperCase(),f==="application/json"?(a.headers=new Headers({"Content-Type":f}),a.body=JSON.stringify(r.json)):f==="text/plain"?a.body=r.text:f==="application/x-www-form-urlencoded"&&r.formData?a.body=zp(r.formData):a.body=r.formData}return new Request(s,a)}function zp(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function U_(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function SA(n,e,t,r=!1,s=!1){let a={},u=null,f,d=!1,p={},v=t&&nr(t[1])?t[1].error:void 0;return n.forEach(w=>{if(!(w.route.id in e))return;let E=w.route.id,I=e[E];if(Ye(!bo(I),"Cannot handle redirect results in processLoaderData"),nr(I)){let A=I.error;if(v!==void 0&&(A=v,v=void 0),u=u||{},s)u[E]=A;else{let D=Po(n,E);u[D.route.id]==null&&(u[D.route.id]=A)}r||(a[E]=TE),d||(d=!0,f=hu(I.error)?I.error.status:500),I.headers&&(p[E]=I.headers)}else a[E]=I.data,I.statusCode&&I.statusCode!==200&&!d&&(f=I.statusCode),I.headers&&(p[E]=I.headers)}),v!==void 0&&t&&(u={[t[0]]:v},t[2]&&(a[t[2]]=void 0)),{loaderData:a,errors:u,statusCode:f||200,loaderHeaders:p}}function z_(n,e,t,r,s,a){let{loaderData:u,errors:f}=SA(e,t,r);return s.filter(d=>!d.matches||d.matches.some(p=>p.shouldLoad)).forEach(d=>{let{key:p,match:v,controller:w}=d,E=a[p];if(Ye(E,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(nr(E)){let I=Po(n.matches,v==null?void 0:v.route.id);f&&f[I.route.id]||(f={...f,[I.route.id]:E.error}),n.fetchers.delete(p)}else if(bo(E))Ye(!1,"Unhandled fetcher revalidation redirect");else{let I=Ps(E.data);n.fetchers.set(p,I)}}),{loaderData:u,errors:f}}function j_(n,e,t,r){let s=Object.entries(e).filter(([,a])=>a!==TE).reduce((a,[u,f])=>(a[u]=f,a),{});for(let a of t){let u=a.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&a.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function $_(n){return n?nr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Po(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function B_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function wr(n,{pathname:e,routeId:t,method:r,type:s,message:a}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?f=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(f="Unable to encode submission body")):n===403?(u="Forbidden",f=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",f=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?f=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(f=`Invalid request method "${r.toUpperCase()}"`)),new Ih(n||500,u,new Error(f),!0)}function Wc(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(bo(s))return{key:r,result:s}}}function PE(n){let e=typeof n=="string"?Xs(n):n;return js({...e,hash:""})}function IA(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function RA(n){return kE(n.result)&&uA.has(n.result.status)}function nr(n){return n.type==="error"}function bo(n){return(n&&n.type)==="redirect"}function H_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function kE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function CA(n){return lA.has(n.toUpperCase())}function rr(n){return oA.has(n.toUpperCase())}function $m(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Kl(n,e){let t=typeof e=="string"?Xs(e).search:e.search;if(n[n.length-1].route.index&&$m(t||""))return n[n.length-1];let r=_E(n);return r[r.length-1]}function W_(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:a,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function cp(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function AA(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function jl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function PA(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ps(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function kA(n,e){try{let t=n.sessionStorage.getItem(EE);if(t){let r=JSON.parse(t);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function bA(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(EE,JSON.stringify(t))}catch(r){Vt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function xA(){let n,e,t=new Promise((r,s)=>{n=async a=>{r(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var jo=z.createContext(null);jo.displayName="DataRouter";var Su=z.createContext(null);Su.displayName="DataRouterState";var Bm=z.createContext({isTransitioning:!1});Bm.displayName="ViewTransition";var bE=z.createContext(new Map);bE.displayName="Fetchers";var DA=z.createContext(null);DA.displayName="Await";var Gr=z.createContext(null);Gr.displayName="Navigation";var Jh=z.createContext(null);Jh.displayName="Location";var Rr=z.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Hm=z.createContext(null);Hm.displayName="RouteError";function NA(n,{relative:e}={}){Ye(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=z.useContext(Gr),{hash:s,pathname:a,search:u}=Iu(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:fi([t,a])),r.createHref({pathname:f,search:u,hash:s})}function Xa(){return z.useContext(Jh)!=null}function Ys(){return Ye(Xa(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Jh).location}var xE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DE(n){z.useContext(Gr).static||z.useLayoutEffect(n)}function NE(){let{isDataRoute:n}=z.useContext(Rr);return n?KA():OA()}function OA(){Ye(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(jo),{basename:e,navigator:t}=z.useContext(Gr),{matches:r}=z.useContext(Rr),{pathname:s}=Ys(),a=JSON.stringify(Xh(r)),u=z.useRef(!1);return DE(()=>{u.current=!0}),z.useCallback((d,p={})=>{if(Vt(u.current,xE),!u.current)return;if(typeof d=="number"){t.go(d);return}let v=Yh(d,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:fi([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,s,n])}var LA=z.createContext(null);function MA(n){let e=z.useContext(Rr).outlet;return e&&z.createElement(LA.Provider,{value:n},e)}function QV(){let{matches:n}=z.useContext(Rr),e=n[n.length-1];return e?e.params:{}}function Iu(n,{relative:e}={}){let{matches:t}=z.useContext(Rr),{pathname:r}=Ys(),s=JSON.stringify(Xh(t));return z.useMemo(()=>Yh(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function VA(n,e,t,r){Ye(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=z.useContext(Gr),{matches:u}=z.useContext(Rr),f=u[u.length-1],d=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",w=f&&f.route;{let j=w&&w.path||"";OE(p,!w||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=Ys(),I;I=E;let A=I.pathname||"/",D=A;if(v!=="/"){let j=v.replace(/^\//,"").split("/");D="/"+A.replace(/^\//,"").split("/").slice(j.length).join("/")}let C=!a&&t&&t.matches&&t.matches.length>0?t.matches:ks(n,{pathname:D});return Vt(w||C!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Vt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),$A(C&&C.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:fi([v,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:fi([v,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,t,r)}function FA(){let n=GA(),e=hu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:a},"ErrorBoundary")," or"," ",z.createElement("code",{style:a},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:s},t):null,u)}var UA=z.createElement(FA,null),zA=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(Rr.Provider,{value:this.props.routeContext},z.createElement(Hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jA({routeContext:n,match:e,children:t}){let r=z.useContext(jo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Rr.Provider,{value:n},t)}function $A(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Ye(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,f=-1;if(t)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=d),p.route.id){let{loaderData:v,errors:w}=t,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((d,p,v)=>{let w,E=!1,I=null,A=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||UA,u&&(f<0&&v===0?(OE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):f===v&&(E=!0,A=p.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,v+1)),C=()=>{let M;return w?M=I:E?M=A:p.route.Component?M=z.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=d,z.createElement(jA,{match:p,routeContext:{outlet:d,matches:D,isDataRoute:t!=null},children:M})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?z.createElement(zA,{location:t.location,revalidation:t.revalidation,component:I,error:w,children:C(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):C()},null)}function Wm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BA(n){let e=z.useContext(jo);return Ye(e,Wm(n)),e}function HA(n){let e=z.useContext(Su);return Ye(e,Wm(n)),e}function WA(n){let e=z.useContext(Rr);return Ye(e,Wm(n)),e}function qm(n){let e=WA(n),t=e.matches[e.matches.length-1];return Ye(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qA(){return qm("useRouteId")}function GA(){var r;let n=z.useContext(Hm),e=HA("useRouteError"),t=qm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function KA(){let{router:n}=BA("useNavigate"),e=qm("useNavigate"),t=z.useRef(!1);return DE(()=>{t.current=!0}),z.useCallback(async(s,a={})=>{Vt(t.current,xE),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var q_={};function OE(n,e,t){!e&&!q_[n]&&(q_[n]=!0,Vt(!1,t))}var G_={};function K_(n,e){!n&&!G_[e]&&(G_[e]=!0,console.warn(e))}function QA(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Vt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:z.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Vt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:z.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Vt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:z.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var XA=["HydrateFallback","hydrateFallbackElement"],YA=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function JA({router:n,flushSync:e}){let[t,r]=z.useState(n.state),[s,a]=z.useState(),[u,f]=z.useState({isTransitioning:!1}),[d,p]=z.useState(),[v,w]=z.useState(),[E,I]=z.useState(),A=z.useRef(new Map),D=z.useCallback((W,{deletedFetchers:X,flushSync:Y,viewTransitionOpts:L})=>{W.fetchers.forEach((R,P)=>{R.data!==void 0&&A.current.set(P,R.data)}),X.forEach(R=>A.current.delete(R)),K_(Y===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(K_(L==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!k){e&&Y?e(()=>r(W)):z.startTransition(()=>r(W));return}if(e&&Y){e(()=>{v&&(d&&d.resolve(),v.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let R=n.window.document.startViewTransition(()=>{e(()=>r(W))});R.finished.finally(()=>{e(()=>{p(void 0),w(void 0),a(void 0),f({isTransitioning:!1})})}),e(()=>w(R));return}v?(d&&d.resolve(),v.skipTransition(),I({state:W,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(W),f({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,e,v,d]);z.useLayoutEffect(()=>n.subscribe(D),[n,D]),z.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new YA)},[u]),z.useEffect(()=>{if(d&&s&&n.window){let W=s,X=d.promise,Y=n.window.document.startViewTransition(async()=>{z.startTransition(()=>r(W)),await X});Y.finished.finally(()=>{p(void 0),w(void 0),a(void 0),f({isTransitioning:!1})}),w(Y)}},[s,d,n.window]),z.useEffect(()=>{d&&s&&t.location.key===s.location.key&&d.resolve()},[d,v,t.location,s]),z.useEffect(()=>{!u.isTransitioning&&E&&(a(E.state),f({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),I(void 0))},[u.isTransitioning,E]);let C=z.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:W=>n.navigate(W),push:(W,X,Y)=>n.navigate(W,{state:X,preventScrollReset:Y==null?void 0:Y.preventScrollReset}),replace:(W,X,Y)=>n.navigate(W,{replace:!0,state:X,preventScrollReset:Y==null?void 0:Y.preventScrollReset})}),[n]),M=n.basename||"/",j=z.useMemo(()=>({router:n,navigator:C,static:!1,basename:M}),[n,C,M]);return z.createElement(z.Fragment,null,z.createElement(jo.Provider,{value:j},z.createElement(Su.Provider,{value:t},z.createElement(bE.Provider,{value:A.current},z.createElement(Bm.Provider,{value:u},z.createElement(t1,{basename:M,location:t.location,navigationType:t.historyAction,navigator:C},z.createElement(ZA,{routes:n.routes,future:n.future,state:t})))))),null)}var ZA=z.memo(e1);function e1({routes:n,future:e,state:t}){return VA(n,void 0,t,e)}function LE({to:n,replace:e,state:t,relative:r}){Ye(Xa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=z.useContext(Gr);Vt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=z.useContext(Rr),{pathname:u}=Ys(),f=NE(),d=Yh(n,Xh(a),u,r==="path"),p=JSON.stringify(d);return z.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:r})},[f,p,r,e,t]),null}function YV(n){return MA(n.context)}function t1({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){Ye(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=z.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=Xs(t));let{pathname:d="/",search:p="",hash:v="",state:w=null,key:E="default"}=t,I=z.useMemo(()=>{let A=Tr(d,u);return A==null?null:{location:{pathname:A,search:p,hash:v,state:w,key:E},navigationType:r}},[u,d,p,v,w,E,r]);return Vt(I!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:z.createElement(Gr.Provider,{value:f},z.createElement(Jh.Provider,{children:e,value:I}))}var sh="get",oh="application/x-www-form-urlencoded";function Zh(n){return n!=null&&typeof n.tagName=="string"}function n1(n){return Zh(n)&&n.tagName.toLowerCase()==="button"}function r1(n){return Zh(n)&&n.tagName.toLowerCase()==="form"}function i1(n){return Zh(n)&&n.tagName.toLowerCase()==="input"}function s1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function o1(n,e){return n.button===0&&(!e||e==="_self")&&!s1(n)}var qc=null;function a1(){if(qc===null)try{new FormData(document.createElement("form"),0),qc=!1}catch{qc=!0}return qc}var l1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hp(n){return n!=null&&!l1.has(n)?(Vt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):n}function u1(n,e){let t,r,s,a,u;if(r1(n)){let f=n.getAttribute("action");r=f?Tr(f,e):null,t=n.getAttribute("method")||sh,s=hp(n.getAttribute("enctype"))||oh,a=new FormData(n)}else if(n1(n)||i1(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||f.getAttribute("action");if(r=d?Tr(d,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||sh,s=hp(n.getAttribute("formenctype"))||hp(f.getAttribute("enctype"))||oh,a=new FormData(f,n),!a1()){let{name:p,type:v,value:w}=n;if(v==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,w)}}else{if(Zh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sh,r=null,s=oh,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function Gm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function c1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function f1(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await c1(a,t);return u.links?u.links():[]}return[]}));return g1(r.flat(1).filter(h1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Q_(n,e,t,r,s,a){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,f=(d,p)=>{var v;return t[p].pathname!==d.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>u(d,p)||f(d,p)):a==="data"?e.filter((d,p)=>{var w;let v=r.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(u(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function d1(n,e,{includeHydrateFallback:t}={}){return p1(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function p1(n){return[...new Set(n)]}function m1(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function g1(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(m1(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var y1=new Set([100,101,204,205]);function v1(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Tr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ME(){let n=z.useContext(jo);return Gm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _1(){let n=z.useContext(Su);return Gm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Km=z.createContext(void 0);Km.displayName="FrameworkContext";function VE(){let n=z.useContext(Km);return Gm(n,"You must render this element inside a <HydratedRouter> element"),n}function w1(n,e){let t=z.useContext(Km),[r,s]=z.useState(!1),[a,u]=z.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:v,onTouchStart:w}=e,E=z.useRef(null);z.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=M=>{M.forEach(j=>{u(j.isIntersecting)})},C=new IntersectionObserver(D,{threshold:.5});return E.current&&C.observe(E.current),()=>{C.disconnect()}}},[n]),z.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let I=()=>{s(!0)},A=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:$l(f,I),onBlur:$l(d,A),onMouseEnter:$l(p,I),onMouseLeave:$l(v,A),onTouchStart:$l(w,I)}]:[!1,E,{}]}function $l(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function E1({page:n,...e}){let{router:t}=ME(),r=z.useMemo(()=>ks(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?z.createElement(S1,{page:n,matches:r,...e}):null}function T1(n){let{manifest:e,routeModules:t}=VE(),[r,s]=z.useState([]);return z.useEffect(()=>{let a=!1;return f1(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function S1({page:n,matches:e,...t}){let r=Ys(),{manifest:s,routeModules:a}=VE(),{basename:u}=ME(),{loaderData:f,matches:d}=_1(),p=z.useMemo(()=>Q_(n,e,d,s,r,"data"),[n,e,d,s,r]),v=z.useMemo(()=>Q_(n,e,d,s,r,"assets"),[n,e,d,s,r]),w=z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,D=!1;if(e.forEach(M=>{var W;let j=s.routes[M.route.id];!j||!j.hasLoader||(!p.some(X=>X.route.id===M.route.id)&&M.route.id in f&&((W=a[M.route.id])!=null&&W.shouldRevalidate)||j.hasClientLoader?D=!0:A.add(M.route.id))}),A.size===0)return[];let C=v1(n,u);return D&&A.size>0&&C.searchParams.set("_routes",e.filter(M=>A.has(M.route.id)).map(M=>M.route.id).join(",")),[C.pathname+C.search]},[u,f,r,s,p,e,n,a]),E=z.useMemo(()=>d1(v,s),[v,s]),I=T1(v);return z.createElement(z.Fragment,null,w.map(A=>z.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),E.map(A=>z.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),I.map(({key:A,link:D})=>z.createElement("link",{key:A,...D})))}function I1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FE&&(window.__reactRouterVersion="7.6.0")}catch{}function R1(n,e){return dA({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:OC({window:e==null?void 0:e.window}),hydrationData:C1(),routes:n,mapRouteProperties:QA,hydrationRouteProperties:XA,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function C1(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:A1(n.errors)}),n}function A1(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new Ih(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let u=new a(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let a=new Error(s.message);a.stack="",t[r]=a}}else t[r]=s;return t}var UE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zE=z.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:f,target:d,to:p,preventScrollReset:v,viewTransition:w,...E},I){let{basename:A}=z.useContext(Gr),D=typeof p=="string"&&UE.test(p),C,M=!1;if(typeof p=="string"&&D&&(C=p,FE))try{let P=new URL(window.location.href),N=p.startsWith("//")?new URL(P.protocol+p):new URL(p),V=Tr(N.pathname,A);N.origin===P.origin&&V!=null?p=V+N.search+N.hash:M=!0}catch{Vt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=NA(p,{relative:s}),[W,X,Y]=w1(r,E),L=x1(p,{replace:u,state:f,target:d,preventScrollReset:v,relative:s,viewTransition:w});function k(P){e&&e(P),P.defaultPrevented||L(P)}let R=z.createElement("a",{...E,...Y,href:C||j,onClick:M||a?e:k,ref:I1(I,X),target:d,"data-discover":!D&&t==="render"?"true":void 0});return W&&!D?z.createElement(z.Fragment,null,R,z.createElement(E1,{page:j})):R});zE.displayName="Link";var P1=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:f,children:d,...p},v){let w=Iu(u,{relative:p.relative}),E=Ys(),I=z.useContext(Su),{navigator:A,basename:D}=z.useContext(Gr),C=I!=null&&M1(w)&&f===!0,M=A.encodeLocation?A.encodeLocation(w).pathname:w.pathname,j=E.pathname,W=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(j=j.toLowerCase(),W=W?W.toLowerCase():null,M=M.toLowerCase()),W&&D&&(W=Tr(W,D)||W);const X=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let Y=j===M||!s&&j.startsWith(M)&&j.charAt(X)==="/",L=W!=null&&(W===M||!s&&W.startsWith(M)&&W.charAt(M.length)==="/"),k={isActive:Y,isPending:L,isTransitioning:C},R=Y?e:void 0,P;typeof r=="function"?P=r(k):P=[r,Y?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(k):a;return z.createElement(zE,{...p,"aria-current":R,className:P,ref:v,style:N,to:u,viewTransition:f},typeof d=="function"?d(k):d)});P1.displayName="NavLink";var k1=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=sh,action:f,onSubmit:d,relative:p,preventScrollReset:v,viewTransition:w,...E},I)=>{let A=O1(),D=L1(f,{relative:p}),C=u.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&UE.test(f),j=W=>{if(d&&d(W),W.defaultPrevented)return;W.preventDefault();let X=W.nativeEvent.submitter,Y=(X==null?void 0:X.getAttribute("formmethod"))||u;A(X||W.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:s,state:a,relative:p,preventScrollReset:v,viewTransition:w})};return z.createElement("form",{ref:I,method:C,action:D,onSubmit:r?d:j,...E,"data-discover":!M&&n==="render"?"true":void 0})});k1.displayName="Form";function b1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jE(n){let e=z.useContext(jo);return Ye(e,b1(n)),e}function x1(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let f=NE(),d=Ys(),p=Iu(n,{relative:a});return z.useCallback(v=>{if(o1(v,e)){v.preventDefault();let w=t!==void 0?t:js(d)===js(p);f(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[d,f,p,t,r,e,n,s,a,u])}var D1=0,N1=()=>`__${String(++D1)}__`;function O1(){let{router:n}=jE("useSubmit"),{basename:e}=z.useContext(Gr),t=qA();return z.useCallback(async(r,s={})=>{let{action:a,method:u,encType:f,formData:d,body:p}=u1(r,e);if(s.navigate===!1){let v=s.fetcherKey||N1();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function L1(n,{relative:e}={}){let{basename:t}=z.useContext(Gr),r=z.useContext(Rr);Ye(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Iu(n||".",{relative:e})},u=Ys();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),d=f.getAll("index");if(d.some(v=>v==="")){f.delete("index"),d.filter(w=>w).forEach(w=>f.append("index",w));let v=f.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:fi([t,a.pathname])),js(a)}function M1(n,e={}){let t=z.useContext(Bm);Ye(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jE("useViewTransitionState"),s=Iu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Tr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Tr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Sh(s.pathname,u)!=null||Sh(s.pathname,a)!=null}[...y1];var Qm=pE();const V1=Um(Qm),JV=fE({__proto__:null,default:V1},[Qm]);/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F1(n){return z.createElement(JA,{flushSync:Qm.flushSync,...n})}const U1="modulepreload",z1=function(n){return"/realtime-chat/"+n},X_={},Ya=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let u=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=u(t.map(p=>{if(p=z1(p),p in X_)return;X_[p]=!0;const v=p.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":U1,v||(E.as="script"),E.crossOrigin="",E.href=p,d&&E.setAttribute("nonce",d),document.head.appendChild(E),v)return new Promise((I,A)=>{E.addEventListener("load",I),E.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return s.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})},j1=()=>{};var Y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},$1=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],f=n[t++],d=((s&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,f=u?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,v=a>>2,w=(a&3)<<4|f>>4;let E=(f&15)<<2|p>>6,I=p&63;d||(I=64,u||(E=64)),r.push(t[v],t[w],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($E(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||f==null||p==null||w==null)throw new B1;const E=a<<2|f>>4;if(r.push(E),p!==64){const I=f<<4&240|p>>2;if(r.push(I),w!==64){const A=p<<6&192|w;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class B1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H1=function(n){const e=$E(n);return BE.encodeByteArray(e,!0)},Ch=function(n){return H1(n).replace(/\./g,"")},HE=function(n){try{return BE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=()=>W1().__FIREBASE_DEFAULTS__,G1=()=>{if(typeof process>"u"||typeof Y_>"u")return;const n=Y_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},K1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&HE(n[1]);return e&&JSON.parse(e)},ef=()=>{try{return j1()||q1()||G1()||K1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},WE=n=>{var e,t;return(t=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},qE=n=>{const e=WE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},GE=()=>{var n;return(n=ef())===null||n===void 0?void 0:n.config},KE=n=>{var e;return(e=ef())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ch(JSON.stringify(t)),Ch(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function Y1(){var n;const e=(n=ef())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tP(){const n=In();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nP(){return!Y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rP(){try{return typeof indexedDB=="object"}catch{return!1}}function iP(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="FirebaseError";class vi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=sP,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?oP(a,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new vi(s,f,r)}}function oP(n,e){return n.replace(aP,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const aP=/\{\$([^}]+)}/g;function lP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $s(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(J_(a)&&J_(u)){if(!$s(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function J_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Xl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function uP(n,e){const t=new cP(n,e);return t.subscribe.bind(t)}class cP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");hP(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=fp),s.error===void 0&&(s.error=fp),s.complete===void 0&&(s.complete=fp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(n){return n.endsWith(".cloudworkstations.dev")}async function Xm(n){return(await fetch(n,{credentials:"include"})).ok}class Bs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Q1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pP(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dP(n){return n===Ao?void 0:n}function pP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const gP={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},yP=Ze.INFO,vP={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},_P=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=vP[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=yP,this._logHandler=_P,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const wP=(n,e)=>e.some(t=>n instanceof t);let Z_,e0;function EP(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TP(){return e0||(e0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XE=new WeakMap,jp=new WeakMap,YE=new WeakMap,dp=new WeakMap,Jm=new WeakMap;function SP(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Vs(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&XE.set(t,n)}).catch(()=>{}),Jm.set(e,n),e}function IP(n){if(jp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});jp.set(n,e)}let $p={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||YE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RP(n){$p=n($p)}function CP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(pp(this),e,...t);return YE.set(r,e.sort?e.sort():[e]),Vs(r)}:TP().includes(n)?function(...e){return n.apply(pp(this),e),Vs(XE.get(this))}:function(...e){return Vs(n.apply(pp(this),e))}}function AP(n){return typeof n=="function"?CP(n):(n instanceof IDBTransaction&&IP(n),wP(n,EP())?new Proxy(n,$p):n)}function Vs(n){if(n instanceof IDBRequest)return SP(n);if(dp.has(n))return dp.get(n);const e=AP(n);return e!==n&&(dp.set(n,e),Jm.set(e,n)),e}const pp=n=>Jm.get(n);function PP(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),f=Vs(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Vs(u.result),d.oldVersion,d.newVersion,Vs(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),f.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const kP=["get","getKey","getAll","getAllKeys","count"],bP=["put","add","delete","clear"],mp=new Map;function t0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mp.get(e))return mp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=bP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||kP.includes(t)))return;const a=async function(u,...f){const d=this.transaction(u,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),s&&d.done]))[0]};return mp.set(e,a),a}RP(n=>({...n,get:(e,t,r)=>t0(e,t)||n.get(e,t,r),has:(e,t)=>!!t0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function DP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bp="@firebase/app",n0="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Ym("@firebase/app"),NP="@firebase/app-compat",OP="@firebase/analytics-compat",LP="@firebase/analytics",MP="@firebase/app-check-compat",VP="@firebase/app-check",FP="@firebase/auth",UP="@firebase/auth-compat",zP="@firebase/database",jP="@firebase/data-connect",$P="@firebase/database-compat",BP="@firebase/functions",HP="@firebase/functions-compat",WP="@firebase/installations",qP="@firebase/installations-compat",GP="@firebase/messaging",KP="@firebase/messaging-compat",QP="@firebase/performance",XP="@firebase/performance-compat",YP="@firebase/remote-config",JP="@firebase/remote-config-compat",ZP="@firebase/storage",ek="@firebase/storage-compat",tk="@firebase/firestore",nk="@firebase/vertexai",rk="@firebase/firestore-compat",ik="firebase",sk="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="[DEFAULT]",ok={[Bp]:"fire-core",[NP]:"fire-core-compat",[LP]:"fire-analytics",[OP]:"fire-analytics-compat",[VP]:"fire-app-check",[MP]:"fire-app-check-compat",[FP]:"fire-auth",[UP]:"fire-auth-compat",[zP]:"fire-rtdb",[jP]:"fire-data-connect",[$P]:"fire-rtdb-compat",[BP]:"fire-fn",[HP]:"fire-fn-compat",[WP]:"fire-iid",[qP]:"fire-iid-compat",[GP]:"fire-fcm",[KP]:"fire-fcm-compat",[QP]:"fire-perf",[XP]:"fire-perf-compat",[YP]:"fire-rc",[JP]:"fire-rc-compat",[ZP]:"fire-gcs",[ek]:"fire-gcs-compat",[tk]:"fire-fst",[rk]:"fire-fst-compat",[nk]:"fire-vertex","fire-js":"fire-js",[ik]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,ak=new Map,Wp=new Map;function r0(n,e){try{n.container.addComponent(e)}catch(t){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lo(n){const e=n.name;if(Wp.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Wp.set(e,n);for(const t of Ah.values())r0(t,n);for(const t of ak.values())r0(t,n);return!0}function tf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Ru("app","Firebase",lk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=sk;function JE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Fs.create("bad-app-name",{appName:String(s)});if(t||(t=GE()),!t)throw Fs.create("no-options");const a=Ah.get(s);if(a){if($s(t,a.options)&&$s(r,a.config))return a;throw Fs.create("duplicate-app",{appName:s})}const u=new mP(s);for(const d of Wp.values())u.addComponent(d);const f=new uk(t,r,u);return Ah.set(s,f),f}function Zm(n=Hp){const e=Ah.get(n);if(!e&&n===Hp&&GE())return JE();if(!e)throw Fs.create("no-app",{appName:n});return e}function di(n,e,t){var r;let s=(r=ok[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(f.join(" "));return}Lo(new Bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="firebase-heartbeat-database",hk=1,fu="firebase-heartbeat-store";let gp=null;function ZE(){return gp||(gp=PP(ck,hk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fs.create("idb-open",{originalErrorMessage:n.message})})),gp}async function fk(n){try{const t=(await ZE()).transaction(fu),r=await t.objectStore(fu).get(eT(n));return await t.done,r}catch(e){if(e instanceof vi)Hi.warn(e.message);else{const t=Fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(t.message)}}}async function i0(n,e){try{const r=(await ZE()).transaction(fu,"readwrite");await r.objectStore(fu).put(e,eT(n)),await r.done}catch(t){if(t instanceof vi)Hi.warn(t.message);else{const r=Fs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Hi.warn(r.message)}}}function eT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=1024,pk=30;class mk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=s0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>pk){const u=vk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=s0(),{heartbeatsToSend:r,unsentEntries:s}=gk(this._heartbeatsCache.heartbeats),a=Ch(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Hi.warn(t),""}}}function s0(){return new Date().toISOString().substring(0,10)}function gk(n,e=dk){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),o0(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),o0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class yk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rP()?iP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return i0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return i0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o0(n){return Ch(JSON.stringify({version:2,heartbeats:n})).length}function vk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n){Lo(new Bs("platform-logger",e=>new xP(e),"PRIVATE")),Lo(new Bs("heartbeat",e=>new mk(e),"PRIVATE")),di(Bp,n0,n),di(Bp,n0,"esm2017"),di("fire-js","")}_k("");function eg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function tT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wk=tT,nT=new Ru("auth","Firebase",tT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Ym("@firebase/auth");function Ek(n,...e){Ph.logLevel<=Ze.WARN&&Ph.warn(`Auth (${$o}): ${n}`,...e)}function ah(n,...e){Ph.logLevel<=Ze.ERROR&&Ph.error(`Auth (${$o}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n,...e){throw ng(n,...e)}function Br(n,...e){return ng(n,...e)}function tg(n,e,t){const r=Object.assign(Object.assign({},wk()),{[e]:t});return new Ru("auth","Firebase",r).create(e,{appName:n.name})}function $i(n){return tg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tk(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sr(n,"argument-error"),tg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ng(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nT.create(n,...e)}function Le(n,e,...t){if(!n)throw ng(e,...t)}function Ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ah(e),new Error(e)}function Wi(n,e){n||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Sk(){return a0()==="http:"||a0()==="https:"}function a0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sk()||Z1()||"connection"in navigator)?navigator.onLine:!0}function Rk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wi(t>e,"Short delay should be less than long delay!"),this.isMobile=X1()||eP()}get(){return Ik()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(n,e){Wi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Pk=new Au(3e4,6e4);function Js(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Qi(n,e,t,r,s={}){return iT(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Cu(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},a);return J1()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Ja(n.emulatorConfig.host)&&(p.credentials="include"),rT.fetch()(await sT(n,n.config.apiHost,t,f),p)})}async function iT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ck),e);try{const s=new bk(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Gc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[d,p]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Gc(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Gc(n,"user-disabled",u);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw tg(n,v,p);Sr(n,v)}}catch(s){if(s instanceof vi)throw s;Sr(n,"network-request-failed",{message:String(s)})}}async function Pu(n,e,t,r,s={}){const a=await Qi(n,e,t,r,s);return"mfaPendingCredential"in a&&Sr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function sT(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?rg(n.config,s):`${n.config.apiScheme}://${s}`;return Ak.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function kk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),Pk.get())})}}function Gc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Br(n,e,r);return s.customData._tokenResponse=t,s}function l0(n){return n!==void 0&&n.enterprise!==void 0}class xk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Dk(n,e){return Qi(n,"GET","/v2/recaptchaConfig",Js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(n,e){return Qi(n,"POST","/v1/accounts:delete",e)}async function kh(n,e){return Qi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ok(n,e=!1){const t=At(n),r=await t.getIdToken(e),s=ig(r);Le(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:tu(yp(s.auth_time)),issuedAtTime:tu(yp(s.iat)),expirationTime:tu(yp(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yp(n){return Number(n)*1e3}function ig(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const s=HE(t);return s?JSON.parse(s):(ah("Failed to decode base64 JWT payload"),null)}catch(s){return ah("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function u0(n){const e=ig(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof vi&&Lk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Lk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Fa(n,kh(t,{idToken:r}));Le(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?oT(a.providerUserInfo):[],f=Fk(n.providerData,u),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=d?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Gp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function Vk(n){const e=At(n);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fk(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function oT(n){return n.map(e=>{var{providerId:t}=e,r=eg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(n,e){const t=await iT(n,{},async()=>{const r=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await sT(n,s,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",rT.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function zk(n,e){return Qi(n,"POST","/v2/accounts:revokeToken",Js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=u0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await Uk(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Na;return r&&(Le(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Le(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Le(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class jr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=eg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fa(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ok(this,e)}reload(){return Vk(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Fa(this,Nk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,f,d,p,v;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,D=(f=t.tenantId)!==null&&f!==void 0?f:void 0,C=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,M=(p=t.createdAt)!==null&&p!==void 0?p:void 0,j=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:W,emailVerified:X,isAnonymous:Y,providerData:L,stsTokenManager:k}=t;Le(W&&k,e,"internal-error");const R=Na.fromJSON(this.name,k);Le(typeof W=="string",e,"internal-error"),As(w,e.name),As(E,e.name),Le(typeof X=="boolean",e,"internal-error"),Le(typeof Y=="boolean",e,"internal-error"),As(I,e.name),As(A,e.name),As(D,e.name),As(C,e.name),As(M,e.name),As(j,e.name);const P=new jr({uid:W,auth:e,email:E,emailVerified:X,displayName:w,isAnonymous:Y,photoURL:A,phoneNumber:I,tenantId:D,stsTokenManager:R,createdAt:M,lastLoginAt:j});return L&&Array.isArray(L)&&(P.providerData=L.map(N=>Object.assign({},N))),C&&(P._redirectEventId=C),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new Na;s.updateFromServerResponse(t);const a=new jr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Le(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?oT(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),f=new Na;f.updateFromIdToken(r);const d=new jr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;function zi(n){Wi(n instanceof Function,"Expected a class definition");let e=c0.get(n);return e?(Wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,c0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aT.type="NONE";const h0=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(n,e,t){return`firebase:${n}:${e}:${t}`}class Oa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=lh(this.userKey,s.apiKey,a),this.fullPersistenceKey=lh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await kh(this.auth,{idToken:e}).catch(()=>{});return t?jr._fromGetAccountInfoResponse(this.auth,t,e):null}return jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Oa(zi(h0),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||zi(h0);const u=lh(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const v=await p._get(u);if(v){let w;if(typeof v=="string"){const E=await kh(e,{idToken:v}).catch(()=>{});if(!E)break;w=await jr._fromGetAccountInfoResponse(e,E,v)}else w=jr._fromJSON(e,v);p!==a&&(f=w),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Oa(a,e,r):(a=d[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Oa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dT(e))return"Blackberry";if(pT(e))return"Webos";if(uT(e))return"Safari";if((e.includes("chrome/")||cT(e))&&!e.includes("edge/"))return"Chrome";if(fT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lT(n=In()){return/firefox\//i.test(n)}function uT(n=In()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cT(n=In()){return/crios\//i.test(n)}function hT(n=In()){return/iemobile/i.test(n)}function fT(n=In()){return/android/i.test(n)}function dT(n=In()){return/blackberry/i.test(n)}function pT(n=In()){return/webos/i.test(n)}function sg(n=In()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jk(n=In()){var e;return sg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $k(){return tP()&&document.documentMode===10}function mT(n=In()){return sg(n)||fT(n)||pT(n)||dT(n)||/windows phone/i.test(n)||hT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(n,e=[]){let t;switch(n){case"Browser":t=f0(In());break;case"Worker":t=`${f0(In())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const d=e(a);u(d)}catch(d){f(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(n,e={}){return Qi(n,"GET","/v2/passwordPolicy",Js(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=6;class qk{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Wk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d0(this),this.idTokenSubscription=new d0(this),this.beforeStateQueue=new Bk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zi(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kh(this,{idToken:e}),r=await jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Rk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject($i(this));const t=e?At(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hk(this),t=new qk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await zk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zi(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Ek(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Zs(n){return At(n)}class d0{constructor(e){this.auth=e,this.observer=null,this.addObserver=uP(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kk(n){nf=n}function yT(n){return nf.loadJS(n)}function Qk(){return nf.recaptchaEnterpriseScript}function Xk(){return nf.gapiScript}function Yk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Jk{constructor(){this.enterprise=new Zk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Zk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const eb="recaptcha-enterprise",vT="NO_RECAPTCHA";class tb{constructor(e){this.type=eb,this.auth=Zs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{Dk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new xk(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(d=>{f(d)})})}function s(a,u,f){const d=window.grecaptcha;l0(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(vT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(f=>{if(!t&&l0(window.grecaptcha))s(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Qk();d.length!==0&&(d+=f),yT(d).then(()=>{s(f,a,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function p0(n,e,t,r=!1,s=!1){const a=new tb(n);let u;if(s)u=vT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Kp(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await p0(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await p0(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(n,e){const t=tf(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if($s(a,e??{}))return s;Sr(s,"already-initialized")}return t.initialize({options:e})}function rb(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(zi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ib(n,e,t){const r=Zs(n);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=_T(e),{host:u,port:f}=sb(e),d=f===null?"":`:${f}`,p={url:`${a}//${u}${d}/`},v=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le($s(p,r.config.emulator)&&$s(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ob(),Ja(u)&&Xm(`${a}//${u}${d}`)}function _T(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function sb(n){const e=_T(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:m0(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:m0(u)}}}function m0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ob(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,t){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function ab(n,e){return Qi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(n,e){return Pu(n,"POST","/v1/accounts:signInWithPassword",Js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(n,e){return Pu(n,"POST","/v1/accounts:signInWithEmailLink",Js(n,e))}async function cb(n,e){return Pu(n,"POST","/v1/accounts:signInWithEmailLink",Js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends og{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new du(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new du(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kp(e,t,"signInWithPassword",lb);case"emailLink":return ub(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kp(e,r,"signUpPassword",ab);case"emailLink":return cb(e,{idToken:t,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(n,e){return Pu(n,"POST","/v1/accounts:signInWithIdp",Js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="http://localhost";class Mo extends og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=eg(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Mo(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return La(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,La(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,La(e,t)}buildRequest(){const e={requestUri:hb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function db(n){const e=Ql(Xl(n)).link,t=e?Ql(Xl(e)).deep_link_id:null,r=Ql(Xl(n)).deep_link_id;return(r?Ql(Xl(r)).link:null)||r||t||e||n}class ag{constructor(e){var t,r,s,a,u,f;const d=Ql(Xl(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,v=(r=d.oobCode)!==null&&r!==void 0?r:null,w=fb((s=d.mode)!==null&&s!==void 0?s:null);Le(p&&v&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=v,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=db(e);try{return new ag(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(e,t){return du._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ag.parseLink(t);return Le(r,"argument-error"),du._fromEmailAndCode(e,r.code,r.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends lg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends ku{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends ku{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends ku{constructor(){super("twitter.com")}static credential(e,t){return Mo._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ds.credential(t,r)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(n,e){return Pu(n,"POST","/v1/accounts:signUp",Js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await jr._fromIdTokenResponse(e,r,s),u=g0(r);return new Vo({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=g0(r);return new Vo({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function g0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends vi{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new xh(e,t,r,s)}}function wT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(n,a,e,r):a})}async function mb(n,e,t=!1){const r=await Fa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(n,e,t=!1){const{auth:r}=n;if(Bn(r.app))return Promise.reject($i(r));const s="reauthenticate";try{const a=await Fa(n,wT(r,s,e,n),t);Le(a.idToken,r,"internal-error");const u=ig(a.idToken);Le(u,r,"internal-error");const{sub:f}=u;return Le(n.uid===f,r,"user-mismatch"),Vo._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Sr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ET(n,e,t=!1){if(Bn(n.app))return Promise.reject($i(n));const r="signIn",s=await wT(n,r,e),a=await Vo._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function yb(n,e){return ET(Zs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(n){const e=Zs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZV(n,e,t){if(Bn(n.app))return Promise.reject($i(n));const r=Zs(n),u=await Kp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pb).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&TT(n),d}),f=await Vo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function e4(n,e,t){return Bn(n.app)?Promise.reject($i(n)):yb(At(n),Za.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TT(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(n,e){return Qi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=At(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Fa(r,vb(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const f=r.providerData.find(({providerId:d})=>d==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function _b(n,e,t,r){return At(n).onIdTokenChanged(e,t,r)}function wb(n,e,t){return At(n).beforeAuthStateChanged(e,t)}function Eb(n,e,t,r){return At(n).onAuthStateChanged(e,t,r)}function n4(n){return At(n).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=1e3,Sb=10;class IT extends ST{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);$k()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Sb):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Tb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}IT.type="LOCAL";const Ib=IT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends ST{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RT.type="SESSION";const CT=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async p=>p(t.origin,a)),d=await Rb(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((f,d)=>{const p=ug("",20);s.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(E.data.response);break;default:clearTimeout(v),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function Ab(n){pi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function Pb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kb(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function bb(){return AT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebaseLocalStorageDb",xb=1,Nh="firebaseLocalStorage",kT="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sf(n,e){return n.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function Db(){const n=indexedDB.deleteDatabase(PT);return new bu(n).toPromise()}function Qp(){const n=indexedDB.open(PT,xb);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Nh,{keyPath:kT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Nh)?e(r):(r.close(),await Db(),e(await Qp()))})})}async function y0(n,e,t){const r=sf(n,!0).put({[kT]:e,value:t});return new bu(r).toPromise()}async function Nb(n,e){const t=sf(n,!1).get(e),r=await new bu(t).toPromise();return r===void 0?null:r.value}function v0(n,e){const t=sf(n,!0).delete(e);return new bu(t).toPromise()}const Ob=800,Lb=3;class bT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Lb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(bb()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Pb(),!this.activeServiceWorker)return;this.sender=new Cb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qp();return await y0(e,Dh,"1"),await v0(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>y0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Nb(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>v0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=sf(s,!1).getAll();return new bu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ob)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bT.type="LOCAL";const Mb=bT;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n,e){return e?zi(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,t){return La(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vb(n){return ET(n.auth,new cg(n),n.bypassAuthState)}function Fb(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),gb(t,new cg(n),n.bypassAuthState)}async function Ub(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),mb(t,new cg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vb;case"linkViaPopup":case"linkViaRedirect":return Ub;case"reauthViaPopup":case"reauthViaRedirect":return Fb;default:Sr(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Au(2e3,1e4);async function r4(n,e,t){if(Bn(n.app))return Promise.reject(Br(n,"operation-not-supported-in-this-environment"));const r=Zs(n);Tk(n,e,lg);const s=xT(r,t);return new xo(r,"signInViaPopup",e,s).executeNotNull()}class xo extends DT{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zb.get())};e()}}xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="pendingRedirect",uh=new Map;class $b extends DT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const r=await Bb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bb(n,e){const t=qb(e),r=Wb(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function Hb(n,e){uh.set(n._key(),e)}function Wb(n){return zi(n._redirectPersistence)}function qb(n){return lh(jb,n.config.apiKey,n.name)}async function Gb(n,e,t=!1){if(Bn(n.app))return Promise.reject($i(n));const r=Zs(n),s=xT(r,e),u=await new $b(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=10*60*1e3;class Qb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xb(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!NT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Br(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kb&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function NT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Xb(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(n,e={}){return Qi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zb=/^https?/;async function ex(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Yb(n);for(const t of e)try{if(tx(t))return}catch{}Sr(n,"unauthorized-domain")}function tx(n){const e=qp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Zb.test(t))return!1;if(Jb.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Au(3e4,6e4);function w0(){const n=pi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function rx(n){return new Promise((e,t)=>{var r,s,a;function u(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),t(Br(n,"network-request-failed"))},timeout:nx.get()})}if(!((s=(r=pi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=pi().gapi)===null||a===void 0)&&a.load)u();else{const f=Yk("iframefcb");return pi()[f]=()=>{gapi.load?u():t(Br(n,"network-request-failed"))},yT(`${Xk()}?onload=${f}`).catch(d=>t(d))}}).catch(e=>{throw ch=null,e})}let ch=null;function ix(n){return ch=ch||rx(n),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new Au(5e3,15e3),ox="__/auth/iframe",ax="emulator/auth/iframe",lx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ux=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cx(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?rg(e,ax):`https://${n.config.authDomain}/${ox}`,r={apiKey:e.apiKey,appName:n.name,v:$o},s=ux.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Cu(r).slice(1)}`}async function hx(n){const e=await ix(n),t=pi().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:cx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lx,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Br(n,"network-request-failed"),f=pi().setTimeout(()=>{a(u)},sx.get());function d(){pi().clearTimeout(f),s(r)}r.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dx=500,px=600,mx="_blank",gx="http://localhost";class E0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yx(n,e,t,r=dx,s=px){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const d=Object.assign(Object.assign({},fx),{width:r.toString(),height:s.toString(),top:a,left:u}),p=In().toLowerCase();t&&(f=cT(p)?mx:t),lT(p)&&(e=e||gx,d.scrollbars="yes");const v=Object.entries(d).reduce((E,[I,A])=>`${E}${I}=${A},`,"");if(jk(p)&&f!=="_self")return vx(e||"",f),new E0(null);const w=window.open(e||"",f,v);Le(w,n,"popup-blocked");try{w.focus()}catch{}return new E0(w)}function vx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="__/auth/handler",wx="emulator/auth/handler",Ex=encodeURIComponent("fac");async function T0(n,e,t,r,s,a){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:$o,eventId:s};if(e instanceof lg){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",lP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof ku){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const d=await n._getAppCheckToken(),p=d?`#${Ex}=${encodeURIComponent(d)}`:"";return`${Tx(n)}?${Cu(f).slice(1)}${p}`}function Tx({config:n}){return n.emulator?rg(n,wx):`https://${n.authDomain}/${_x}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="webStorageSupport";class Sx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CT,this._completeRedirectFn=Gb,this._overrideRedirectResult=Hb}async _openPopup(e,t,r,s){var a;Wi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await T0(e,t,r,qp(),s);return yx(e,u,ug())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await T0(e,t,r,qp(),s);return Ab(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Wi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await hx(e),r=new Qb(e);return t.register("authEvent",s=>(Le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vp,{type:vp},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[vp];u!==void 0&&t(!!u),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ex(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mT()||uT()||sg()}}const Ix=Sx;var S0="@firebase/auth",I0="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ax(n){Lo(new Bs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Le(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gT(n)},p=new Gk(r,s,a,d);return rb(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Lo(new Bs("auth-internal",e=>{const t=Zs(e.getProvider("auth").getImmediate());return(r=>new Rx(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(S0,I0,Cx(n)),di(S0,I0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=5*60,kx=KE("authIdTokenMaxAge")||Px;let R0=null;const bx=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>kx)return;const s=t==null?void 0:t.token;R0!==s&&(R0=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xx(n=Zm()){const e=tf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=nb(n,{popupRedirectResolver:Ix,persistence:[Mb,Ib,CT]}),r=KE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=bx(a.toString());wb(t,u,()=>u(t.currentUser)),_b(t,f=>u(f))}}const s=WE("auth");return s&&ib(t,`http://${s}`),t}function Dx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Kk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Br("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",Dx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ax("Browser");var Nx="firebase",Ox="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(Nx,Ox,"app");var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,OT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function P(){}P.prototype=R.prototype,k.D=R.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(N,V,U){for(var b=Array(arguments.length-2),de=2;de<arguments.length;de++)b[de-2]=arguments[de];return R.prototype[V].apply(N,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,R,P){P||(P=0);var N=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)N[V]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(V=0;16>V;++V)N[V]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=k.g[0],P=k.g[1],V=k.g[2];var U=k.g[3],b=R+(U^P&(V^U))+N[0]+3614090360&4294967295;R=P+(b<<7&4294967295|b>>>25),b=U+(V^R&(P^V))+N[1]+3905402710&4294967295,U=R+(b<<12&4294967295|b>>>20),b=V+(P^U&(R^P))+N[2]+606105819&4294967295,V=U+(b<<17&4294967295|b>>>15),b=P+(R^V&(U^R))+N[3]+3250441966&4294967295,P=V+(b<<22&4294967295|b>>>10),b=R+(U^P&(V^U))+N[4]+4118548399&4294967295,R=P+(b<<7&4294967295|b>>>25),b=U+(V^R&(P^V))+N[5]+1200080426&4294967295,U=R+(b<<12&4294967295|b>>>20),b=V+(P^U&(R^P))+N[6]+2821735955&4294967295,V=U+(b<<17&4294967295|b>>>15),b=P+(R^V&(U^R))+N[7]+4249261313&4294967295,P=V+(b<<22&4294967295|b>>>10),b=R+(U^P&(V^U))+N[8]+1770035416&4294967295,R=P+(b<<7&4294967295|b>>>25),b=U+(V^R&(P^V))+N[9]+2336552879&4294967295,U=R+(b<<12&4294967295|b>>>20),b=V+(P^U&(R^P))+N[10]+4294925233&4294967295,V=U+(b<<17&4294967295|b>>>15),b=P+(R^V&(U^R))+N[11]+2304563134&4294967295,P=V+(b<<22&4294967295|b>>>10),b=R+(U^P&(V^U))+N[12]+1804603682&4294967295,R=P+(b<<7&4294967295|b>>>25),b=U+(V^R&(P^V))+N[13]+4254626195&4294967295,U=R+(b<<12&4294967295|b>>>20),b=V+(P^U&(R^P))+N[14]+2792965006&4294967295,V=U+(b<<17&4294967295|b>>>15),b=P+(R^V&(U^R))+N[15]+1236535329&4294967295,P=V+(b<<22&4294967295|b>>>10),b=R+(V^U&(P^V))+N[1]+4129170786&4294967295,R=P+(b<<5&4294967295|b>>>27),b=U+(P^V&(R^P))+N[6]+3225465664&4294967295,U=R+(b<<9&4294967295|b>>>23),b=V+(R^P&(U^R))+N[11]+643717713&4294967295,V=U+(b<<14&4294967295|b>>>18),b=P+(U^R&(V^U))+N[0]+3921069994&4294967295,P=V+(b<<20&4294967295|b>>>12),b=R+(V^U&(P^V))+N[5]+3593408605&4294967295,R=P+(b<<5&4294967295|b>>>27),b=U+(P^V&(R^P))+N[10]+38016083&4294967295,U=R+(b<<9&4294967295|b>>>23),b=V+(R^P&(U^R))+N[15]+3634488961&4294967295,V=U+(b<<14&4294967295|b>>>18),b=P+(U^R&(V^U))+N[4]+3889429448&4294967295,P=V+(b<<20&4294967295|b>>>12),b=R+(V^U&(P^V))+N[9]+568446438&4294967295,R=P+(b<<5&4294967295|b>>>27),b=U+(P^V&(R^P))+N[14]+3275163606&4294967295,U=R+(b<<9&4294967295|b>>>23),b=V+(R^P&(U^R))+N[3]+4107603335&4294967295,V=U+(b<<14&4294967295|b>>>18),b=P+(U^R&(V^U))+N[8]+1163531501&4294967295,P=V+(b<<20&4294967295|b>>>12),b=R+(V^U&(P^V))+N[13]+2850285829&4294967295,R=P+(b<<5&4294967295|b>>>27),b=U+(P^V&(R^P))+N[2]+4243563512&4294967295,U=R+(b<<9&4294967295|b>>>23),b=V+(R^P&(U^R))+N[7]+1735328473&4294967295,V=U+(b<<14&4294967295|b>>>18),b=P+(U^R&(V^U))+N[12]+2368359562&4294967295,P=V+(b<<20&4294967295|b>>>12),b=R+(P^V^U)+N[5]+4294588738&4294967295,R=P+(b<<4&4294967295|b>>>28),b=U+(R^P^V)+N[8]+2272392833&4294967295,U=R+(b<<11&4294967295|b>>>21),b=V+(U^R^P)+N[11]+1839030562&4294967295,V=U+(b<<16&4294967295|b>>>16),b=P+(V^U^R)+N[14]+4259657740&4294967295,P=V+(b<<23&4294967295|b>>>9),b=R+(P^V^U)+N[1]+2763975236&4294967295,R=P+(b<<4&4294967295|b>>>28),b=U+(R^P^V)+N[4]+1272893353&4294967295,U=R+(b<<11&4294967295|b>>>21),b=V+(U^R^P)+N[7]+4139469664&4294967295,V=U+(b<<16&4294967295|b>>>16),b=P+(V^U^R)+N[10]+3200236656&4294967295,P=V+(b<<23&4294967295|b>>>9),b=R+(P^V^U)+N[13]+681279174&4294967295,R=P+(b<<4&4294967295|b>>>28),b=U+(R^P^V)+N[0]+3936430074&4294967295,U=R+(b<<11&4294967295|b>>>21),b=V+(U^R^P)+N[3]+3572445317&4294967295,V=U+(b<<16&4294967295|b>>>16),b=P+(V^U^R)+N[6]+76029189&4294967295,P=V+(b<<23&4294967295|b>>>9),b=R+(P^V^U)+N[9]+3654602809&4294967295,R=P+(b<<4&4294967295|b>>>28),b=U+(R^P^V)+N[12]+3873151461&4294967295,U=R+(b<<11&4294967295|b>>>21),b=V+(U^R^P)+N[15]+530742520&4294967295,V=U+(b<<16&4294967295|b>>>16),b=P+(V^U^R)+N[2]+3299628645&4294967295,P=V+(b<<23&4294967295|b>>>9),b=R+(V^(P|~U))+N[0]+4096336452&4294967295,R=P+(b<<6&4294967295|b>>>26),b=U+(P^(R|~V))+N[7]+1126891415&4294967295,U=R+(b<<10&4294967295|b>>>22),b=V+(R^(U|~P))+N[14]+2878612391&4294967295,V=U+(b<<15&4294967295|b>>>17),b=P+(U^(V|~R))+N[5]+4237533241&4294967295,P=V+(b<<21&4294967295|b>>>11),b=R+(V^(P|~U))+N[12]+1700485571&4294967295,R=P+(b<<6&4294967295|b>>>26),b=U+(P^(R|~V))+N[3]+2399980690&4294967295,U=R+(b<<10&4294967295|b>>>22),b=V+(R^(U|~P))+N[10]+4293915773&4294967295,V=U+(b<<15&4294967295|b>>>17),b=P+(U^(V|~R))+N[1]+2240044497&4294967295,P=V+(b<<21&4294967295|b>>>11),b=R+(V^(P|~U))+N[8]+1873313359&4294967295,R=P+(b<<6&4294967295|b>>>26),b=U+(P^(R|~V))+N[15]+4264355552&4294967295,U=R+(b<<10&4294967295|b>>>22),b=V+(R^(U|~P))+N[6]+2734768916&4294967295,V=U+(b<<15&4294967295|b>>>17),b=P+(U^(V|~R))+N[13]+1309151649&4294967295,P=V+(b<<21&4294967295|b>>>11),b=R+(V^(P|~U))+N[4]+4149444226&4294967295,R=P+(b<<6&4294967295|b>>>26),b=U+(P^(R|~V))+N[11]+3174756917&4294967295,U=R+(b<<10&4294967295|b>>>22),b=V+(R^(U|~P))+N[2]+718787259&4294967295,V=U+(b<<15&4294967295|b>>>17),b=P+(U^(V|~R))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(V+(b<<21&4294967295|b>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var P=R-this.blockSize,N=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=P;)s(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<R;)if(N[V++]=k.charCodeAt(U++),V==this.blockSize){s(this,N),V=0;break}}else for(;U<R;)if(N[V++]=k[U++],V==this.blockSize){s(this,N),V=0;break}}this.h=V,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var P=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=P&255,P/=256;for(this.u(k),k=Array(16),R=P=0;4>R;++R)for(var N=0;32>N;N+=8)k[P++]=this.g[R]>>>N&255;return k};function a(k,R){var P=f;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=R(k)}function u(k,R){this.h=R;for(var P=[],N=!0,V=k.length-1;0<=V;V--){var U=k[V]|0;N&&U==R||(P[V]=U,N=!1)}this.g=P}var f={};function d(k){return-128<=k&&128>k?a(k,function(R){return new u([R|0],0>R?-1:0)}):new u([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return C(p(-k));for(var R=[],P=1,N=0;k>=P;N++)R[N]=k/P|0,P*=4294967296;return new u(R,0)}function v(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return C(v(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(R,8)),N=w,V=0;V<k.length;V+=8){var U=Math.min(8,k.length-V),b=parseInt(k.substring(V,V+U),R);8>U?(U=p(Math.pow(R,U)),N=N.j(U).add(p(b))):(N=N.j(P),N=N.add(p(b)))}return N}var w=d(0),E=d(1),I=d(16777216);n=u.prototype,n.m=function(){if(D(this))return-C(this).m();for(var k=0,R=1,P=0;P<this.g.length;P++){var N=this.i(P);k+=(0<=N?N:4294967296+N)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(D(this))return"-"+C(this).toString(k);for(var R=p(Math.pow(k,6)),P=this,N="";;){var V=X(P,R).g;P=M(P,V.j(R));var U=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=V,A(P))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function D(k){return k.h==-1}n.l=function(k){return k=M(this,k),D(k)?-1:A(k)?0:1};function C(k){for(var R=k.g.length,P=[],N=0;N<R;N++)P[N]=~k.g[N];return new u(P,~k.h).add(E)}n.abs=function(){return D(this)?C(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),P=[],N=0,V=0;V<=R;V++){var U=N+(this.i(V)&65535)+(k.i(V)&65535),b=(U>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);N=b>>>16,U&=65535,b&=65535,P[V]=b<<16|U}return new u(P,P[P.length-1]&-2147483648?-1:0)};function M(k,R){return k.add(C(R))}n.j=function(k){if(A(this)||A(k))return w;if(D(this))return D(k)?C(this).j(C(k)):C(C(this).j(k));if(D(k))return C(this.j(C(k)));if(0>this.l(I)&&0>k.l(I))return p(this.m()*k.m());for(var R=this.g.length+k.g.length,P=[],N=0;N<2*R;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<k.g.length;V++){var U=this.i(N)>>>16,b=this.i(N)&65535,de=k.i(V)>>>16,xe=k.i(V)&65535;P[2*N+2*V]+=b*xe,j(P,2*N+2*V),P[2*N+2*V+1]+=U*xe,j(P,2*N+2*V+1),P[2*N+2*V+1]+=b*de,j(P,2*N+2*V+1),P[2*N+2*V+2]+=U*de,j(P,2*N+2*V+2)}for(N=0;N<R;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=R;N<2*R;N++)P[N]=0;return new u(P,0)};function j(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function W(k,R){this.g=k,this.h=R}function X(k,R){if(A(R))throw Error("division by zero");if(A(k))return new W(w,w);if(D(k))return R=X(C(k),R),new W(C(R.g),C(R.h));if(D(R))return R=X(k,C(R)),new W(C(R.g),R.h);if(30<k.g.length){if(D(k)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var P=E,N=R;0>=N.l(k);)P=Y(P),N=Y(N);var V=L(P,1),U=L(N,1);for(N=L(N,2),P=L(P,2);!A(N);){var b=U.add(N);0>=b.l(k)&&(V=V.add(P),U=b),N=L(N,1),P=L(P,1)}return R=M(k,V.j(R)),new W(V,R)}for(V=w;0<=k.l(R);){for(P=Math.max(1,Math.floor(k.m()/R.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=p(P),b=U.j(R);D(b)||0<b.l(k);)P-=N,U=p(P),b=U.j(R);A(U)&&(U=E),V=V.add(U),k=M(k,b)}return new W(V,k)}n.A=function(k){return X(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),P=[],N=0;N<R;N++)P[N]=this.i(N)&k.i(N);return new u(P,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),P=[],N=0;N<R;N++)P[N]=this.i(N)|k.i(N);return new u(P,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),P=[],N=0;N<R;N++)P[N]=this.i(N)^k.i(N);return new u(P,this.h^k.h)};function Y(k){for(var R=k.g.length+1,P=[],N=0;N<R;N++)P[N]=k.i(N)<<1|k.i(N-1)>>>31;return new u(P,k.h)}function L(k,R){var P=R>>5;R%=32;for(var N=k.g.length-P,V=[],U=0;U<N;U++)V[U]=0<R?k.i(U+P)>>>R|k.i(U+P+1)<<32-R:k.i(U+P);return new u(V,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Us=u}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LT,Yl,MT,hh,Xp,VT,FT,UT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in _))break e;_=_[q]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,S=!1,q={next:function(){if(!S&&_<c.length){var Z=_++;return{value:g(Z,c[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function I(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,q,Z){for(var fe=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)fe[ft-2]=arguments[ft];return g.prototype[q].apply(S,fe)}}function D(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function C(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(d(S)){const q=c.length||0,Z=S.length||0;c.length=q+Z;for(let fe=0;fe<Z;fe++)c[q+fe]=S[fe]}else c.push(S)}}class M{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function j(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var Y=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function L(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function k(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)c[_]=S[_];for(let Z=0;Z<P.length;Z++)_=P[Z],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){f.setTimeout(()=>{throw c},0)}function b(){var c=ce;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class de{constructor(){this.h=this.g=null}add(g,_){const S=xe.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var xe=new M(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,re=!1,ce=new de,le=()=>{const c=f.Promise.resolve(void 0);Se=()=>{c.then(B)}};var B=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(_){U(_)}var g=xe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}re=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c}();function Ve(c,g){if(pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Y){e:{try{X(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ve.aa.h.call(this)}}A(Ve,pe);var $e={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),tt=0;function lt(c,g,_,S,q){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=q,this.key=++tt,this.da=this.fa=!1}function Je(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Kt(c){this.src=c,this.g={},this.h=0}Kt.prototype.add=function(c,g,_,S,q){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var fe=qn(c,g,S,q);return-1<fe?(g=c[fe],_||(g.fa=!1)):(g=new lt(g,this.src,Z,!!S,q),g.fa=_,c.push(g)),g};function Cr(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],q=Array.prototype.indexOf.call(S,g,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(S,q,1),Z&&(Je(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function qn(c,g,_,S){for(var q=0;q<c.length;++q){var Z=c[q];if(!Z.da&&Z.listener==g&&Z.capture==!!_&&Z.ha==S)return q}return-1}var Rn="closure_lm_"+(1e6*Math.random()|0),Xi={};function so(c,g,_,S,q){if(Array.isArray(g)){for(var Z=0;Z<g.length;Z++)so(c,g[Z],_,S,q);return null}return _=wi(_),c&&c[qe]?c.K(g,_,p(S)?!!S.capture:!1,q):Yi(c,g,_,!1,S,q)}function Yi(c,g,_,S,q,Z){if(!g)throw Error("Invalid event type");var fe=p(q)?!!q.capture:!!q,ft=or(c);if(ft||(c[Rn]=ft=new Kt(c)),_=ft.add(g,_,S,fe,Z),_.proxy)return _;if(S=Wo(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ke||(q=fe),q===void 0&&(q=!1),c.addEventListener(g.toString(),S,q);else if(c.attachEvent)c.attachEvent(Pr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Wo(){function c(_){return g.call(c.src,c.listener,_)}const g=Gn;return c}function Ji(c,g,_,S,q){if(Array.isArray(g))for(var Z=0;Z<g.length;Z++)Ji(c,g[Z],_,S,q);else S=p(S)?!!S.capture:!!S,_=wi(_),c&&c[qe]?(c=c.i,g=String(g).toString(),g in c.g&&(Z=c.g[g],_=qn(Z,_,S,q),-1<_&&(Je(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete c.g[g],c.h--)))):c&&(c=or(c))&&(g=c.g[g.toString()],c=-1,g&&(c=qn(g,_,S,q)),(_=-1<c?g[c]:null)&&Ar(_))}function Ar(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[qe])Cr(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(Pr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=or(g))?(Cr(_,c),_.h==0&&(_.src=null,g[Rn]=null)):Je(c)}}}function Pr(c){return c in Xi?Xi[c]:Xi[c]="on"+c}function Gn(c,g){if(c.da)c=!0;else{g=new Ve(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&Ar(c),c=_.call(S,g)}return c}function or(c){return c=c[Rn],c instanceof Kt?c:null}var _i="__closure_events_fn_"+(1e9*Math.random()>>>0);function wi(c){return typeof c=="function"?c:(c[_i]||(c[_i]=function(g){return c.handleEvent(g)}),c[_i])}function dt(){ee.call(this),this.i=new Kt(this),this.M=this,this.F=null}A(dt,ee),dt.prototype[qe]=!0,dt.prototype.removeEventListener=function(c,g,_,S){Ji(this,c,g,_,S)};function ht(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new pe(g,c);else if(g instanceof pe)g.target=g.target||c;else{var q=g;g=new pe(S,c),N(g,q)}if(q=!0,_)for(var Z=_.length-1;0<=Z;Z--){var fe=g.g=_[Z];q=ar(fe,S,!0,g)&&q}if(fe=g.g=c,q=ar(fe,S,!0,g)&&q,q=ar(fe,S,!1,g)&&q,_)for(Z=0;Z<_.length;Z++)fe=g.g=_[Z],q=ar(fe,S,!1,g)&&q}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)Je(_[S]);delete c.g[g],c.h--}}this.F=null},dt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},dt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function ar(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,Z=0;Z<g.length;++Z){var fe=g[Z];if(fe&&!fe.da&&fe.capture==_){var ft=fe.listener,Bt=fe.ha||fe.src;fe.fa&&Cr(c.i,fe),q=ft.call(Bt,S)!==!1&&q}}return q&&!S.defaultPrevented}function Ei(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(c,g||0)}function Kr(c){c.g=Ei(()=>{c.g=null,c.i&&(c.i=!1,Kr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class mn extends ee{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(c){ee.call(this),this.h=c,this.g={}}A(Qr,ee);var Zi=[];function es(c){L(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ar(g)},c),c.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),es(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oo=f.JSON.stringify,ts=f.JSON.parse,Xr=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Yr(){}Yr.prototype.h=null;function Jr(c){return c.h||(c.h=c.i())}function ns(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){pe.call(this,"d")}A(lr,pe);function Ti(){pe.call(this,"c")}A(Ti,pe);var An={},Zr=null;function Si(){return Zr=Zr||new dt}An.La="serverreachability";function ao(c){pe.call(this,An.La,c)}A(ao,pe);function O(c){const g=Si();ht(g,new ao(g))}An.STAT_EVENT="statevent";function H(c,g){pe.call(this,An.STAT_EVENT,c),this.stat=g}A(H,pe);function K(c){const g=Si();ht(g,new H(g,c))}An.Ma="timingevent";function oe(c,g){pe.call(this,An.Ma,c),this.size=g}A(oe,pe);function he(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function be(c,g,_,S,q,Z){c.info(function(){if(c.g)if(Z)for(var fe="",ft=Z.split("&"),Bt=0;Bt<ft.length;Bt++){var rt=ft[Bt].split("=");if(1<rt.length){var Yt=rt[0];rt=rt[1];var Ft=Yt.split("_");fe=2<=Ft.length&&Ft[1]=="type"?fe+(Yt+"="+rt+"&"):fe+(Yt+"=redacted&")}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+g+`
`+_+`
`+fe})}function me(c,g,_,S,q,Z,fe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+g+`
`+_+`
`+Z+" "+fe})}function Ee(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Fe(c,_)+(S?" "+S:"")})}function Pe(c,g){c.info(function(){return"TIMEOUT: "+g})}Ie.prototype.info=function(){};function Fe(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var fe=1;fe<q.length;fe++)q[fe]=""}}}}return oo(_)}catch{return g}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ze={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ke;function gt(){}A(gt,Yr),gt.prototype.g=function(){return new XMLHttpRequest},gt.prototype.i=function(){return{}},Ke=new gt;function pt(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qt}function Qt(){this.i=null,this.g="",this.h=!1}var Qe={},ur={};function Nn(c,g,_){c.L=1,c.v=ls(Xn(g)),c.m=_,c.P=!0,kr(c,null)}function kr(c,g){c.F=Date.now(),ot(c),c.A=Xn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),cs(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Qt,c.g=Qu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new mn(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Zi[0]=q.toString()),q=Zi);for(var Z=0;Z<q.length;Z++){var fe=so(_,q[Z],S||g.handleEvent,!1,g.h||g);if(!fe)break;g.g[fe.key]=fe}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),O(),be(c.i,c.u,c.A,c.l,c.R,c.m)}pt.prototype.ca=function(c){c=c.target;const g=this.M;g&&Ln(c)==3?g.j():this.Y(c)},pt.prototype.Y=function(c){try{if(c==this.g)e:{const Ft=Ln(this.g);var g=this.g.Ba();const fr=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||hl(this.g)))){this.J||Ft!=4||g==7||(g==8||0>=fr?O(3):O(2)),Pn(this);var _=this.g.Z();this.X=_;t:if(sn(this)){var S=hl(this.g);c="";var q=S.length,Z=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),Kn(this);var fe="";break t}this.h.i=new f.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(Z&&g==q-1)});S.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,me(this.i,this.u,this.A,this.l,this.R,Ft,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,Bt=this.g;if((ft=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(ft)){var rt=ft;break t}}rt=null}if(_=rt)Ee(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xt(this,_);else{this.o=!1,this.s=3,K(12),We(this),Kn(this);break e}}if(this.P){_=!0;let Jn;for(;!this.J&&this.C<fe.length;)if(Jn=Ii(this,fe),Jn==ur){Ft==4&&(this.s=4,K(14),_=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==Qe){this.s=4,K(15),Ee(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else Ee(this.i,this.l,Jn,null),Xt(this,Jn);if(sn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||fe.length!=0||this.h.h||(this.s=1,K(16),_=!1),this.o=this.o&&_,!_)Ee(this.i,this.l,fe,"[Invalid Chunked Response]"),We(this),Kn(this);else if(0<fe.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),dl(Yt),Yt.M=!0,K(11))}}else Ee(this.i,this.l,fe,null),Xt(this,fe);Ft==4&&We(this),this.o&&!this.J&&(Ft==4?ra(this.j,this):(this.o=!1,ot(this)))}else Jo(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,K(12)):(this.s=0,K(13)),We(this),Kn(this)}}}catch{}finally{}};function sn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ii(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?ur:(_=Number(g.substring(_,S)),isNaN(_)?Qe:(S+=1,S+_>g.length?ur:(g=g.slice(S,S+_),c.C=S+_,g)))}pt.prototype.cancel=function(){this.J=!0,We(this)};function ot(c){c.S=Date.now()+c.I,rs(c,c.I)}function rs(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=he(E(c.ba,c),g)}function Pn(c){c.B&&(f.clearTimeout(c.B),c.B=null)}pt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Pe(this.i,this.A),this.L!=2&&(O(),K(17)),We(this),this.s=2,Kn(this)):rs(this,this.S-c)};function Kn(c){c.j.G==0||c.J||ra(c.j,c)}function We(c){Pn(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,es(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Xt(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||xt(_.h,c))){if(!c.K&&xt(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)na(_),Or(_);else break e;ta(_),K(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=he(E(_.Za,_),6e3));if(1>=Et(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ki(_,11)}else if((c.K||_.g==c)&&na(_),!j(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let rt=q[g];if(_.T=rt[0],rt=rt[1],_.G==2)if(rt[0]=="c"){_.K=rt[1],_.ia=rt[2];const Yt=rt[3];Yt!=null&&(_.la=Yt,_.j.info("VER="+_.la));const Ft=rt[4];Ft!=null&&(_.Aa=Ft,_.j.info("SVER="+_.Aa));const fr=rt[5];fr!=null&&typeof fr=="number"&&0<fr&&(S=1.5*fr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Jn=c.g;if(Jn){const po=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var Z=S.h;Z.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(is(Z,Z.h),Z.h=null))}if(S.D){const sa=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(S.ya=sa,yt(S.I,S.D,sa))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var fe=c;if(S.qa=Ku(S,S.J?S.ia:null,S.W),fe.K){qo(S.h,fe);var ft=fe,Bt=S.L;Bt&&(ft.I=Bt),ft.B&&(Pn(ft),ot(ft)),S.g=fe}else fo(S);0<_.i.length&&ri(_)}else rt[0]!="stop"&&rt[0]!="close"||ki(_,7);else _.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?ki(_,7):ln(_):rt[0]!="noop"&&_.l&&_.l.ta(rt),_.v=0)}}O(4)}catch{}}var Qn=class{constructor(c,g){this.g=c,this.map=g}};function cr(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Et(c){return c.h?1:c.g?c.g.size:0}function xt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function is(c,g){c.g?c.g.add(g):c.h=g}function qo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}cr.prototype.cancel=function(){if(this.i=Vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return D(c.i)}function Go(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function Ko(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function ss(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ko(c),S=Go(c),q=S.length,Z=0;Z<q;Z++)g.call(void 0,S[Z],_&&_[Z],c)}var lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Df(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),q=null;if(0<=S){var Z=c[_].substring(0,S);q=c[_].substring(S+1)}else Z=c[_];g(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ri){this.h=c.h,uo(this,c.j),this.o=c.o,this.g=c.g,os(this,c.s),this.l=c.l;var g=c.i,_=new ei;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),as(this,_),this.m=c.m}else c&&(g=String(c).match(lo))?(this.h=!1,uo(this,g[1]||"",!0),this.o=nt(g[2]||""),this.g=nt(g[3]||"",!0),os(this,g[4]),this.l=nt(g[5]||"",!0),as(this,g[6]||"",!0),this.m=nt(g[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}Ri.prototype.toString=function(){var c=[],g=this.j;g&&c.push(us(g,Qo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(us(g,Qo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(us(_,_.charAt(0)=="/"?zu:Uu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",us(_,ll)),c.join("")};function Xn(c){return new Ri(c)}function uo(c,g,_){c.j=_?nt(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function os(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function as(c,g,_){g instanceof ei?(c.i=g,ti(c.i,c.h)):(_||(g=us(g,ju)),c.i=new ei(g,c.h))}function yt(c,g,_){c.i.set(g,_)}function ls(c){return yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function nt(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function us(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Fu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Fu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Qo=/[#\/\?@]/g,Uu=/[#\?:]/g,zu=/[#\?]/g,ju=/[#\?@]/g,ll=/#/g;function ei(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&Df(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=ei.prototype,n.add=function(c,g){an(this),this.i=null,c=hr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function br(c,g){an(c),g=hr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function xr(c,g){return an(c),g=hr(c,g),c.g.has(g)}n.forEach=function(c,g){an(this),this.g.forEach(function(_,S){_.forEach(function(q){c.call(g,q,S,this)},this)},this)},n.na=function(){an(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const q=c[S];for(let Z=0;Z<q.length;Z++)_.push(g[S])}return _},n.V=function(c){an(this);let g=[];if(typeof c=="string")xr(this,c)&&(g=g.concat(this.g.get(hr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return an(this),this.i=null,c=hr(this,c),xr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function cs(c,g,_){br(c,g),0<_.length&&(c.i=null,c.g.set(hr(c,g),D(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const Z=encodeURIComponent(String(S)),fe=this.V(S);for(S=0;S<fe.length;S++){var q=Z;fe[S]!==""&&(q+="="+encodeURIComponent(String(fe[S]))),c.push(q)}}return this.i=c.join("&")};function hr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ti(c,g){g&&!c.j&&(an(c),c.i=null,c.g.forEach(function(_,S){var q=S.toLowerCase();S!=q&&(br(this,S),cs(this,q,_))},c)),c.j=g}function Nf(c,g){const _=new Ie;if(f.Image){const S=new Image;S.onload=I(On,_,"TestLoadImage: loaded",!0,g,S),S.onerror=I(On,_,"TestLoadImage: error",!1,g,S),S.onabort=I(On,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=I(On,_,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function $u(c,g){const _=new Ie,S=new AbortController,q=setTimeout(()=>{S.abort(),On(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Z=>{clearTimeout(q),Z.ok?On(_,"TestPingServer: ok",!0,g):On(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),On(_,"TestPingServer: error",!1,g)})}function On(c,g,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function Of(){this.g=new Xr}function Bu(c,g,_){const S=_||"";try{ss(c,function(q,Z){let fe=q;p(q)&&(fe=oo(q)),g.push(S+Z+"="+encodeURIComponent(fe))})}catch(q){throw g.push(S+"type="+encodeURIComponent("_badmap")),q}}function Ci(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Ci,Yr),Ci.prototype.g=function(){return new co(this.l,this.j)},Ci.prototype.i=function(c){return function(){return c}}({});function co(c,g){dt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(co,dt),n=co.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Nr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Dr(this):Nr(this),this.readyState==3&&Hu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Dr(this))},n.Qa=function(c){this.g&&(this.response=c,Dr(this))},n.ga=function(){this.g&&Dr(this)};function Dr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Nr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Nr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ai(c){let g="";return L(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function hs(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ai(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):yt(c,g,_))}function Rt(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Rt,dt);var Lf=/^https?$/i,ul=["POST","PUT"];n=Rt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ke.g(),this.v=this.o?Jr(this.o):Jr(Ke),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Z){ho(this,Z);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())_.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ul,g,void 0))||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of _)this.g.setRequestHeader(Z,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yo(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){ho(this,Z)}};function ho(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Xo(c),Yn(c)}function Xo(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ht(this,"complete"),ht(this,"abort"),Yn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cl(this):this.bb())},n.bb=function(){cl(this)};function cl(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Ei(c.Ea,0,c);else if(ht(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=fe===0){var q=String(c.D).match(lo)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),S=!Lf.test(q?q.toLowerCase():"")}_=S}if(_)ht(c,"complete"),ht(c,"success");else{c.m=6;try{var Z=2<Ln(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",Xo(c)}}finally{Yn(c)}}}}function Yn(c,g){if(c.g){Yo(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||ht(c,"ready");try{_.onreadystatechange=S}catch{}}}function Yo(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ts(g)}};function hl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Jo(c){const g={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(j(c[S]))continue;var _=V(c[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=g[q]||[];g[q]=Z,Z.push(_)}k(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ni(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function fl(c){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ni("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ni("baseRetryDelayMs",5e3,c),this.cb=ni("retryDelaySeedMs",1e4,c),this.Wa=ni("forwardChannelMaxRetries",2,c),this.wa=ni("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new cr(c&&c.concurrentRequestLimit),this.Da=new Of,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fl.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){K(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Ku(this,null,this.W),ri(this)};function ln(c){if(Zo(c),c.G==3){var g=c.U++,_=Xn(c.I);if(yt(_,"SID",c.K),yt(_,"RID",g),yt(_,"TYPE","terminate"),Pi(c,_),g=new pt(c,c.j,g),g.L=2,g.v=ls(Xn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=Qu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ot(g)}Gu(c)}function Or(c){c.g&&(dl(c),c.g.cancel(),c.g=null)}function Zo(c){Or(c),c.u&&(f.clearTimeout(c.u),c.u=null),na(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function ri(c){if(!on(c.h)&&!c.s){c.s=!0;var g=c.Ga;Se||le(),re||(Se(),re=!0),ce.add(g,c),c.B=0}}function Mf(c,g){return Et(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=he(E(c.Ga,c,g),qu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new pt(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=R(Z),N(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=fs(this,q,g),_=Xn(this.I),yt(_,"RID",c),yt(_,"CVER",22),this.D&&yt(_,"X-HTTP-Session-Id",this.D),Pi(this,_),Z&&(this.O?g="headers="+encodeURIComponent(String(Ai(Z)))+"&"+g:this.m&&hs(_,this.m,Z)),is(this.h,q),this.Ua&&yt(_,"TYPE","init"),this.P?(yt(_,"$req",g),yt(_,"SID","null"),q.T=!0,Nn(q,_,null)):Nn(q,_,g),this.G=2}}else this.G==3&&(c?ea(this,c):this.i.length==0||on(this.h)||ea(this))};function ea(c,g){var _;g?_=g.l:_=c.U++;const S=Xn(c.I);yt(S,"SID",c.K),yt(S,"RID",_),yt(S,"AID",c.T),Pi(c,S),c.m&&c.o&&hs(S,c.m,c.o),_=new pt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=fs(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),is(c.h,_),Nn(_,S,g)}function Pi(c,g){c.H&&L(c.H,function(_,S){yt(g,S,_)}),c.l&&ss({},function(_,S){yt(g,S,_)})}function fs(c,g,_){_=Math.min(c.i.length,_);var S=c.l?E(c.l.Na,c.l,c):null;e:{var q=c.i;let Z=-1;for(;;){const fe=["count="+_];Z==-1?0<_?(Z=q[0].g,fe.push("ofs="+Z)):Z=0:fe.push("ofs="+Z);let ft=!0;for(let Bt=0;Bt<_;Bt++){let rt=q[Bt].g;const Yt=q[Bt].map;if(rt-=Z,0>rt)Z=Math.max(0,q[Bt].g-100),ft=!1;else try{Bu(Yt,fe,"req"+rt+"_")}catch{S&&S(Yt)}}if(ft){S=fe.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function fo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Se||le(),re||(Se(),re=!0),ce.add(g,c),c.v=0}}function ta(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=he(E(c.Fa,c),qu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=he(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,K(10),Or(this),Wu(this))};function dl(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Wu(c){c.g=new pt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Xn(c.qa);yt(g,"RID","rpc"),yt(g,"SID",c.K),yt(g,"AID",c.T),yt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&yt(g,"TO",c.ja),yt(g,"TYPE","xmlhttp"),Pi(c,g),c.m&&c.o&&hs(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ls(Xn(g)),_.m=null,_.P=!0,kr(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Or(this),ta(this),K(19))};function na(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ra(c,g){var _=null;if(c.g==g){na(c),dl(c),c.g=null;var S=2}else if(xt(c.h,g))_=g.D,qo(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;S=Si(),ht(S,new oe(S,_)),ri(c)}else fo(c);else if(q=g.s,q==3||q==0&&0<g.X||!(S==1&&Mf(c,g)||S==2&&ta(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),q){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function qu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function ki(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),S=c.Xa;const q=!S;S=new Ri(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||uo(S,"https"),ls(S),q?Nf(S.toString(),_):$u(S.toString(),_)}else K(2);c.G=0,c.l&&c.l.sa(g),Gu(c),Zo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),K(2)):(this.j.info("Failed to ping google.com"),K(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const g=Vu(c.h);(g.length!=0||c.i.length!=0)&&(C(c.ka,g),C(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function Ku(c,g,_){var S=_ instanceof Ri?Xn(_):new Ri(_);if(S.g!="")g&&(S.g=g+"."+S.g),os(S,S.s);else{var q=f.location;S=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var Z=new Ri(null);S&&uo(Z,S),g&&(Z.g=g),q&&os(Z,q),_&&(Z.l=_),S=Z}return _=c.D,g=c.ya,_&&g&&yt(S,_,g),yt(S,"VER",c.la),Pi(c,S),S}function Qu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Rt(new Ci({eb:_})):new Rt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pl(){}n=pl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ia(){}ia.prototype.g=function(c,g){return new kn(c,g)};function kn(c,g){dt.call(this),this.g=new fl(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!j(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!j(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ii(this)}A(kn,dt),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){ln(this.g)},kn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=oo(c),c=_);g.i.push(new Qn(g.Ya++,c)),g.G==3&&ri(g)},kn.prototype.N=function(){this.g.l=null,delete this.j,ln(this.g),delete this.g,kn.aa.N.call(this)};function Xu(c){lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}A(Xu,lr);function Yu(){Ti.call(this),this.status=1}A(Yu,Ti);function ii(c){this.g=c}A(ii,pl),ii.prototype.ua=function(){ht(this.g,"a")},ii.prototype.ta=function(c){ht(this.g,new Xu(c))},ii.prototype.sa=function(c){ht(this.g,new Yu)},ii.prototype.ra=function(){ht(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,UT=function(){return new ia},FT=function(){return Si()},VT=An,Xp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,hh=Ce,ze.COMPLETE="complete",MT=ze,ns.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Yl=ns,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,LT=Rt}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore",P0="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new Ym("@firebase/firestore");function Pa(){return Fo.logLevel}function ye(n,...e){if(Fo.logLevel<=Ze.DEBUG){const t=e.map(hg);Fo.debug(`Firestore (${el}): ${n}`,...t)}}function qi(n,...e){if(Fo.logLevel<=Ze.ERROR){const t=e.map(hg);Fo.error(`Firestore (${el}): ${n}`,...t)}}function Ua(n,...e){if(Fo.logLevel<=Ze.WARN){const t=e.map(hg);Fo.warn(`Firestore (${el}): ${n}`,...t)}}function hg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,zT(n,r,t)}function zT(n,e,t){let r=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw qi(r),new Error(r)}function ct(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||zT(e,s,r)}function Be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}}class Mx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vx{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Bi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},f=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new jT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class Fx{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ux{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Fx(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ct(this.o===void 0,3512);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new k0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new k0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=jx(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Ge(n,e){return n<e?-1:n>e?1:0}function Yp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Ge(r,s);{const a=$T(),u=$x(a.encode(b0(n,t)),a.encode(b0(e,t)));return u!==0?u:Ge(r,s)}}t+=r>65535?2:1}return Ge(n.length,e.length)}function b0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function $x(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ge(n[t],e[t]);return Ge(n.length,e.length)}function za(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=-62135596800,D0=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*D0);return new qt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<x0)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-x0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new qt(0,0))}static max(){return new je(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="__name__";class ui{constructor(e,t,r){t===void 0?t=0:t>e.length&&Me(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Me(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ui.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ui?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=ui.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Ge(e.length,t.length)}static compareSegments(e,t){const r=ui.isNumericId(e),s=ui.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ui.extractNumericId(e).compare(ui.extractNumericId(t)):Yp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Us.fromString(e.substring(4,e.length-2))}}class It extends ui{construct(e,t,r){return new It(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new It(t)}static emptyPath(){return new It([])}}const Bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends ui{construct(e,t,r){return new fn(e,t,r)}static isValidIdentifier(e){return Bx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N0}static keyField(){return new fn([N0])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new ve(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ve(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(a(),s++)}if(a(),u)throw new ve(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(t)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(It.fromString(e))}static fromName(e){return new De(It.fromString(e).popFirst(5))}static empty(){return new De(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new It(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function Hx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new qt(t+1,0):new qt(t,r));return new Hs(s,De.empty(),e)}function Wx(n){return new Hs(n.readTime,n.key,pu)}class Hs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hs(je.min(),De.empty(),pu)}static max(){return new Hs(je.max(),De.empty(),pu)}}function qx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==Gx)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let s=0,a=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++a,u&&a===s&&t()},d=>r(d))}),u=!0,a===s&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(s=>s?ne.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,s)=>{const a=e.length,u=new Array(a);let f=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next(v=>{u[p]=v,++f,f===a&&r(u)},v=>s(v))}})}static doWhile(e,t){return new ne((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function Qx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}of.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=-1;function af(n){return n==null}function Oh(n){return n===0&&1/n==-1/0}function Xx(n){return typeof n=="number"&&Number.isInteger(n)&&!Oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="";function Yx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=O0(e)),e=Jx(n.get(t),e);return O0(e)}function Jx(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case HT:t+="";break;default:t+=a}}return t}function O0(n){return n+HT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function eo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function WT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||hn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??hn.RED,this.left=s??hn.EMPTY,this.right=a??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new hn(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return hn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new M0(this.data.getIterator())}getIteratorFrom(e){return new M0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class M0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new ir([])}unionWith(e){let t=new Gt(fn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new qT("Invalid base64 string: "+a):a}}(e);return new dn(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const Zx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(n){if(ct(!!n,39018),typeof n=="string"){let e=0;const t=Zx.exec(n);if(ct(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qs(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="server_timestamp",KT="__type__",QT="__previous_value__",XT="__local_write_time__";function dg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[KT])===null||t===void 0?void 0:t.stringValue)===GT}function lf(n){const e=n.mapValue.fields[QT];return dg(e)?lf(e):e}function mu(n){const e=Ws(n.mapValue.fields[XT].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t,r,s,a,u,f,d,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=v}}const Lh="(default)";class gu{constructor(e,t){this.projectId=e,this.database=t||Lh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="__type__",tD="__max__",Xc={mapValue:{}},JT="__vector__",Mh="value";function Gs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dg(n)?4:rD(n)?9007199254740991:nD(n)?10:11:Me(28295,{value:n})}function yi(n,e){if(n===e)return!0;const t=Gs(n);if(t!==Gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mu(n).isEqual(mu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Ws(s.timestampValue),f=Ws(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return qs(s.bytesValue).isEqual(qs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Mt(s.geoPointValue.latitude)===Mt(a.geoPointValue.latitude)&&Mt(s.geoPointValue.longitude)===Mt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Mt(s.integerValue)===Mt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Mt(s.doubleValue),f=Mt(a.doubleValue);return u===f?Oh(u)===Oh(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return za(n.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},f=a.mapValue.fields||{};if(L0(u)!==L0(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!yi(u[d],f[d])))return!1;return!0}(n,e);default:return Me(52216,{left:n})}}function yu(n,e){return(n.values||[]).find(t=>yi(t,e))!==void 0}function ja(n,e){if(n===e)return 0;const t=Gs(n),r=Gs(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Mt(a.integerValue||a.doubleValue),d=Mt(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(n,e);case 3:return V0(n.timestampValue,e.timestampValue);case 4:return V0(mu(n),mu(e));case 5:return Yp(n.stringValue,e.stringValue);case 6:return function(a,u){const f=qs(a),d=qs(u);return f.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),d=u.split("/");for(let p=0;p<f.length&&p<d.length;p++){const v=Ge(f[p],d[p]);if(v!==0)return v}return Ge(f.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Ge(Mt(a.latitude),Mt(u.latitude));return f!==0?f:Ge(Mt(a.longitude),Mt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return F0(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,d,p,v;const w=a.fields||{},E=u.fields||{},I=(f=w[Mh])===null||f===void 0?void 0:f.arrayValue,A=(d=E[Mh])===null||d===void 0?void 0:d.arrayValue,D=Ge(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((v=A==null?void 0:A.values)===null||v===void 0?void 0:v.length)||0);return D!==0?D:F0(I,A)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Xc.mapValue&&u===Xc.mapValue)return 0;if(a===Xc.mapValue)return 1;if(u===Xc.mapValue)return-1;const f=a.fields||{},d=Object.keys(f),p=u.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let w=0;w<d.length&&w<v.length;++w){const E=Yp(d[w],v[w]);if(E!==0)return E;const I=ja(f[d[w]],p[v[w]]);if(I!==0)return I}return Ge(d.length,v.length)}(n.mapValue,e.mapValue);default:throw Me(23264,{Pe:t})}}function V0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Ws(n),r=Ws(e),s=Ge(t.seconds,r.seconds);return s!==0?s:Ge(t.nanos,r.nanos)}function F0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ja(t[s],r[s]);if(a)return a}return Ge(t.length,r.length)}function $a(n){return Jp(n)}function Jp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ws(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return De.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Jp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Jp(t.fields[u])}`;return s+"}"}(n.mapValue):Me(61005,{value:n})}function fh(n){switch(Gs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(n);return e?16+fh(e):16;case 5:return 2*n.stringValue.length;case 6:return qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+fh(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return eo(r.fields,(a,u)=>{s+=a.length+fh(u)}),s}(n.mapValue);default:throw Me(13486,{value:n})}}function U0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zp(n){return!!n&&"integerValue"in n}function pg(n){return!!n&&"arrayValue"in n}function z0(n){return!!n&&"nullValue"in n}function j0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dh(n){return!!n&&"mapValue"in n}function nD(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[YT])===null||t===void 0?void 0:t.stringValue)===JT}function nu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return eo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(t)}setAll(e){let t=fn.emptyPath(),r={},s=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=f.popLast()}u?r[f.lastSegment()]=nu(u):s.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];dh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){eo(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Hn(nu(this.value))}}function ZT(n){const e=[];return eo(n.fields,(t,r)=>{const s=new fn([t]);if(dh(r)){const a=ZT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,t,r,s,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Tn(e,0,je.min(),je.min(),je.min(),Hn.empty(),0)}static newFoundDocument(e,t,r,s){return new Tn(e,1,t,je.min(),r,s,0)}static newNoDocument(e,t){return new Tn(e,2,t,je.min(),je.min(),Hn.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,je.min(),je.min(),Hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.position=e,this.inclusive=t}}function $0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=De.comparator(De.fromName(u.referenceValue),t.key):r=ja(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function B0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function iD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{}class $t extends eS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new oD(e,t,r):t==="array-contains"?new uD(e,r):t==="in"?new cD(e,r):t==="not-in"?new hD(e,r):t==="array-contains-any"?new fD(e,r):new $t(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new aD(e,r):new lD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ja(t,this.value)):t!==null&&Gs(this.value)===Gs(t)&&this.matchesComparison(ja(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends eS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new qr(e,t)}matches(e){return tS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function tS(n){return n.op==="and"}function nS(n){return sD(n)&&tS(n)}function sD(n){for(const e of n.filters)if(e instanceof qr)return!1;return!0}function em(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+$a(n.value);if(nS(n))return n.filters.map(e=>em(e)).join(",");{const e=n.filters.map(t=>em(t)).join(",");return`${n.op}(${e})`}}function rS(n,e){return n instanceof $t?function(r,s){return s instanceof $t&&r.op===s.op&&r.field.isEqual(s.field)&&yi(r.value,s.value)}(n,e):n instanceof qr?function(r,s){return s instanceof qr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,f)=>a&&rS(u,s.filters[f]),!0):!1}(n,e):void Me(19439)}function iS(n){return n instanceof $t?function(t){return`${t.field.canonicalString()} ${t.op} ${$a(t.value)}`}(n):n instanceof qr?function(t){return t.op.toString()+" {"+t.getFilters().map(iS).join(" ,")+"}"}(n):"Filter"}class oD extends $t{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class aD extends $t{constructor(e,t){super(e,"in",t),this.keys=sS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lD extends $t{constructor(e,t){super(e,"not-in",t),this.keys=sS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class uD extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pg(t)&&yu(t.arrayValue,this.value)}}class cD extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yu(this.value.arrayValue,t)}}class hD extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yu(this.value.arrayValue,t)}}class fD extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t=null,r=[],s=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.Ie=null}}function H0(n,e=null,t=[],r=[],s=null,a=null,u=null){return new dD(n,e,t,r,s,a,u)}function mg(n){const e=Be(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>em(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$a(r)).join(",")),e.Ie=t}return e.Ie}function gg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!B0(n.startAt,e.startAt)&&B0(n.endAt,e.endAt)}function tm(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t=null,r=[],s=[],a=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pD(n,e,t,r,s,a,u,f){return new rl(n,e,t,r,s,a,u,f)}function uf(n){return new rl(n)}function W0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oS(n){return n.collectionGroup!==null}function ru(n){const e=Be(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Gt(fn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new vu(a,r))}),t.has(fn.keyField().canonicalString())||e.Ee.push(new vu(fn.keyField(),r))}return e.Ee}function mi(n){const e=Be(n);return e.de||(e.de=mD(e,ru(n))),e.de}function mD(n,e){if(n.limitType==="F")return H0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new vu(s.field,a)});const t=n.endAt?new Vh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Vh(n.startAt.position,n.startAt.inclusive):null;return H0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function nm(n,e){const t=n.filters.concat([e]);return new rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rm(n,e,t){return new rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cf(n,e){return gg(mi(n),mi(e))&&n.limitType===e.limitType}function aS(n){return`${mg(mi(n))}|lt:${n.limitType}`}function ka(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>iS(s)).join(", ")}]`),af(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>$a(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>$a(s)).join(",")),`Target(${r})`}(mi(n))}; limitType=${n.limitType})`}function hf(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of ru(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,f,d){const p=$0(u,f,d);return u.inclusive?p<=0:p<0}(r.startAt,ru(r),s)||r.endAt&&!function(u,f,d){const p=$0(u,f,d);return u.inclusive?p>=0:p>0}(r.endAt,ru(r),s))}(n,e)}function gD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lS(n){return(e,t)=>{let r=!1;for(const s of ru(n)){const a=yD(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function yD(n,e,t){const r=n.field.isKeyField()?De.comparator(e.key,t.key):function(a,u,f){const d=u.data.field(a),p=f.data.field(a);return d!==null&&p!==null?ja(d,p):Me(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return WT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new bt(De.comparator);function Gi(){return vD}const uS=new bt(De.comparator);function Jl(...n){let e=uS;for(const t of n)e=e.insert(t.key,t);return e}function cS(n){let e=uS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Do(){return iu()}function hS(){return iu()}function iu(){return new Bo(n=>n.toString(),(n,e)=>n.isEqual(e))}const _D=new bt(De.comparator),wD=new Gt(De.comparator);function et(...n){let e=wD;for(const t of n)e=e.add(t);return e}const ED=new Gt(Ge);function TD(){return ED}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function fS(n){return{integerValue:""+n}}function SD(n,e){return Xx(e)?fS(e):yg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function ID(n,e,t){return n instanceof _u?function(s,a){const u={fields:{[KT]:{stringValue:GT},[XT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&dg(a)&&(a=lf(a)),a&&(u.fields[QT]=a),{mapValue:u}}(t,e):n instanceof Ba?pS(n,e):n instanceof wu?mS(n,e):function(s,a){const u=dS(s,a),f=q0(u)+q0(s.Re);return Zp(u)&&Zp(s.Re)?fS(f):yg(s.serializer,f)}(n,e)}function RD(n,e,t){return n instanceof Ba?pS(n,e):n instanceof wu?mS(n,e):t}function dS(n,e){return n instanceof Fh?function(r){return Zp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class _u extends ff{}class Ba extends ff{constructor(e){super(),this.elements=e}}function pS(n,e){const t=gS(e);for(const r of n.elements)t.some(s=>yi(s,r))||t.push(r);return{arrayValue:{values:t}}}class wu extends ff{constructor(e){super(),this.elements=e}}function mS(n,e){let t=gS(e);for(const r of n.elements)t=t.filter(s=>!yi(s,r));return{arrayValue:{values:t}}}class Fh extends ff{constructor(e,t){super(),this.serializer=e,this.Re=t}}function q0(n){return Mt(n.integerValue||n.doubleValue)}function gS(n){return pg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t){this.field=e,this.transform=t}}function CD(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Ba&&s instanceof Ba||r instanceof wu&&s instanceof wu?za(r.elements,s.elements,yi):r instanceof Fh&&s instanceof Fh?yi(r.Re,s.Re):r instanceof _u&&s instanceof _u}(n.transform,e.transform)}class AD{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class df{}function vS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vg(n.key,Er.none()):new xu(n.key,n.data,Er.none());{const t=n.data,r=Hn.empty();let s=new Gt(fn.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new to(n.key,r,new ir(s.toArray()),Er.none())}}function PD(n,e,t){n instanceof xu?function(s,a,u){const f=s.value.clone(),d=K0(s.fieldTransforms,a,u.transformResults);f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof to?function(s,a,u){if(!ph(s.precondition,a))return void a.convertToUnknownDocument(u.version);const f=K0(s.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(_S(s)),d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function su(n,e,t,r){return n instanceof xu?function(a,u,f,d){if(!ph(a.precondition,u))return f;const p=a.value.clone(),v=Q0(a.fieldTransforms,d,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof to?function(a,u,f,d){if(!ph(a.precondition,u))return f;const p=Q0(a.fieldTransforms,d,u),v=u.data;return v.setAll(_S(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,f){return ph(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function kD(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=dS(r.transform,s||null);a!=null&&(t===null&&(t=Hn.empty()),t.set(r.field,a))}return t||null}function G0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&za(r,s,(a,u)=>CD(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xu extends df{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class to extends df{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _S(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function K0(n,e,t){const r=new Map;ct(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,f=e.data.field(a.field);r.set(a.field,RD(u,f,t[s]))}return r}function Q0(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,ID(a,u,e))}return r}class vg extends df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bD extends df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&PD(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=su(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=su(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=hS();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(s.key)?null:f;const d=vS(u,f);d!==null&&r.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),et())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,(t,r)=>G0(t,r))&&za(this.baseMutations,e.baseMutations,(t,r)=>G0(t,r))}}class _g{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ct(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return _D}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new _g(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,it;function OD(n){switch(n){case te.OK:return Me(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Me(15467,{code:n})}}function wS(n){if(n===void 0)return qi("GRPC error has no .code"),te.UNKNOWN;switch(n){case zt.OK:return te.OK;case zt.CANCELLED:return te.CANCELLED;case zt.UNKNOWN:return te.UNKNOWN;case zt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case zt.INTERNAL:return te.INTERNAL;case zt.UNAVAILABLE:return te.UNAVAILABLE;case zt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case zt.NOT_FOUND:return te.NOT_FOUND;case zt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case zt.ABORTED:return te.ABORTED;case zt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case zt.DATA_LOSS:return te.DATA_LOSS;default:return Me(39323,{code:n})}}(it=zt||(zt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Us([4294967295,4294967295],0);function X0(n){const e=$T().encode(n),t=new OT;return t.update(e),new Uint8Array(t.digest())}function Y0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Us([t,r],0),new Us([s,a],0)]}class wg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Zl(`Invalid padding: ${t}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Us.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(Us.fromNumber(r)));return s.compare(LD)===1&&(s=new Us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=X0(e),[r,s]=Y0(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);if(!this.be(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new wg(a,s,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const t=X0(e),[r,s]=Y0(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new pf(je.min(),s,new bt(Ge),Gi(),et())}}class Du{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Du(r,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class ES{constructor(e,t){this.targetId=e,this.Ce=t}}class TS{constructor(e,t,r=dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class J0{constructor(){this.Fe=0,this.Me=Z0(),this.xe=dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),t=et(),r=et();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Me(38017,{changeType:a})}}),new Du(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Z0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class MD{constructor(e){this.ze=e,this.je=new Map,this.He=Gi(),this.Je=Yc(),this.Ye=Yc(),this.Ze=new bt(Ge)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const a=s.target;if(tm(a))if(r===0){const u=new De(a.path);this.tt(t,u,Tn.newNoDocument(u,je.min()))}else ct(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const f=this.ct(e),d=f?this.lt(f,e,u):1;if(d!==0){this.st(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,f;try{u=qs(r).toUint8Array()}catch(d){if(d instanceof qT)return Ua("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new wg(u,s,a)}catch(d){return Ua(d instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.pe===0?null:f}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,a,null),s++)}),s}It(e){const t=new Map;this.je.forEach((a,u)=>{const f=this._t(u);if(f){if(a.current&&tm(f.target)){const d=new De(f.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,Tn.newNoDocument(d,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let r=et();this.Ye.forEach((a,u)=>{let f=!0;u.forEachWhile(d=>{const p=this._t(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const s=new pf(e,t,this.Ze,this.He,r);return this.He=Gi(),this.Je=Yc(),this.Ye=Yc(),this.Ze=new bt(Ge),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new J0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Gt(Ge),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Gt(Ge),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new J0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Yc(){return new bt(De.comparator)}function Z0(){return new bt(De.comparator)}const VD={asc:"ASCENDING",desc:"DESCENDING"},FD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UD={and:"AND",or:"OR"};class zD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function im(n,e){return n.useProto3Json||af(e)?e:{value:e}}function Uh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jD(n,e){return Uh(n,e.toTimestamp())}function gi(n){return ct(!!n,49232),je.fromTimestamp(function(t){const r=Ws(t);return new qt(r.seconds,r.nanos)}(n))}function Eg(n,e){return sm(n,e).canonicalString()}function sm(n,e){const t=function(s){return new It(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function IS(n){const e=It.fromString(n);return ct(kS(e),10190,{key:e.toString()}),e}function om(n,e){return Eg(n.databaseId,e.path)}function _p(n,e){const t=IS(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(CS(t))}function RS(n,e){return Eg(n.databaseId,e)}function $D(n){const e=IS(n);return e.length===4?It.emptyPath():CS(e)}function am(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CS(n){return ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ew(n,e,t){return{name:om(n,e),fields:t.value.mapValue.fields}}function BD(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?(ct(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(ct(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(p){const v=p.code===void 0?te.UNKNOWN:wS(p.code);return new ve(v,p.message||"")}(u);t=new TS(r,s,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=_p(n,r.document.name),a=gi(r.document.updateTime),u=r.document.createTime?gi(r.document.createTime):je.min(),f=new Hn({mapValue:{fields:r.document.fields}}),d=Tn.newFoundDocument(s,a,u,f),p=r.targetIds||[],v=r.removedTargetIds||[];t=new mh(p,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=_p(n,r.document),a=r.readTime?gi(r.readTime):je.min(),u=Tn.newNoDocument(s,a),f=r.removedTargetIds||[];t=new mh([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=_p(n,r.document),a=r.removedTargetIds||[];t=new mh([],a,s,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new ND(s,a),f=r.targetId;t=new ES(f,u)}}return t}function HD(n,e){let t;if(e instanceof xu)t={update:ew(n,e.key,e.value)};else if(e instanceof vg)t={delete:om(n,e.key)};else if(e instanceof to)t={update:ew(n,e.key,e.data),updateMask:ZD(e.fieldMask)};else{if(!(e instanceof bD))return Me(16599,{ft:e.type});t={verify:om(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof _u)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ba)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof wu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Fh)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw Me(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:jD(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)}(n,e.precondition)),t}function WD(n,e){return n&&n.length>0?(ct(e!==void 0,14353),n.map(t=>function(s,a){let u=s.updateTime?gi(s.updateTime):gi(a);return u.isEqual(je.min())&&(u=gi(a)),new AD(u,s.transformResults||[])}(t,e))):[]}function qD(n,e){return{documents:[RS(n,e.path)]}}function GD(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=RS(n,s);const a=function(p){if(p.length!==0)return PS(qr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(E){return{field:ba(E.field),direction:XD(E.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=im(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function KD(n){let e=$D(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ct(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const E=AS(w);return E instanceof qr&&nS(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(A){return new vu(xa(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(w){let E;return E=typeof w=="object"?w.value:w,af(E)?null:E}(t.limit));let d=null;t.startAt&&(d=function(w){const E=!!w.before,I=w.values||[];return new Vh(I,E)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const E=!w.before,I=w.values||[];return new Vh(I,E)}(t.endAt)),pD(e,s,u,a,f,"F",d,p)}function QD(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=xa(t.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xa(t.unaryFilter.field);return $t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=xa(t.unaryFilter.field);return $t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=xa(t.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(n):n.fieldFilter!==void 0?function(t){return $t.create(xa(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return qr.create(t.compositeFilter.filters.map(r=>AS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(t.compositeFilter.op))}(n):Me(30097,{filter:n})}function XD(n){return VD[n]}function YD(n){return FD[n]}function JD(n){return UD[n]}function ba(n){return{fieldPath:n.canonicalString()}}function xa(n){return fn.fromServerFormat(n.fieldPath)}function PS(n){return n instanceof $t?function(t){if(t.op==="=="){if(j0(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NAN"}};if(z0(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(j0(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NOT_NAN"}};if(z0(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(t.field),op:YD(t.op),value:t.value}}}(n):n instanceof qr?function(t){const r=t.getFilters().map(s=>PS(s));return r.length===1?r[0]:{compositeFilter:{op:JD(t.op),filters:r}}}(n):Me(54877,{filter:n})}function ZD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,s,a=je.min(),u=je.min(),f=dn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.wt=e}}function tN(n){const e=KD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.yn=new rN}addToCollectionParentIndex(e,t){return this.yn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Hs.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class rN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Gt(It.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Gt(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bS=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(bS,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ha(0)}static ir(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="LruGarbageCollector",iN=1048576;function rw([n,e],[t,r]){const s=Ge(n,t);return s===0?Ge(e,r):s}class sN{constructor(e){this.cr=e,this.buffer=new Gt(rw),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ye(nw,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){nl(t)?ye(nw,"Ignoring IndexedDB error during garbage collection: ",t):await tl(t)}await this.Ir(3e5)})}}class aN{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(of.le);const r=new sN(t);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(tw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tw):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,s,a,u,f,d,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,f=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),Pa()<=Ze.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${a} targets in `+(d-f)+`ms
	Removed ${w} documents in `+(p-d)+`ms
Total Duration: ${p-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function lN(n,e){return new aN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.changes=new Bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&su(r.mutation,s,ir.empty(),qt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,t,r=et()){const s=Do();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Jl();return a.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Do();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,et()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,s){let a=Gi();const u=iu(),f=function(){return iu()}();return t.forEach((d,p)=>{const v=r.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof to)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),su(v.mutation,p,v.mutation.getFieldMask(),qt.now())):u.set(p.key,ir.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,v)=>u.set(p,v)),t.forEach((p,v)=>{var w;return f.set(p,new cN(v,(w=u.get(p))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const r=iu();let s=new bt((u,f)=>u-f),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let v=r.get(d)||ir.empty();v=f.applyToLocalView(p,v),r.set(d,v);const w=(s.get(f.batchId)||et()).add(d);s=s.insert(f.batchId,w)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),p=d.key,v=d.value,w=hS();v.forEach(E=>{if(!a.has(E)){const I=vS(t.get(E),r.get(E));I!==null&&w.set(E,I),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ne.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return De.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):ne.resolve(Do());let f=pu,d=a;return u.next(p=>ne.forEach(p,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),a.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{d=d.insert(v,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,et())).next(v=>({batchId:f,changes:cS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let s=Jl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Jl();return this.indexManager.getCollectionParents(e,a).next(f=>ne.forEach(f,d=>{const p=function(w,E){return new rl(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(v=>{v.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((d,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Tn.newInvalidDocument(v)))});let f=Jl();return u.forEach((d,p)=>{const v=a.get(d);v!==void 0&&su(v.mutation,p,ir.empty(),qt.now()),hf(t,p)&&(f=f.insert(d,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:gi(s.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:tN(s.bundledQuery),readTime:gi(s.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.overlays=new bt(De.comparator),this.Or=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Do();return ne.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.St(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const s=Do(),a=t.length+1,u=new De(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new bt((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=Do(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Do(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,v)=>f.set(p,v)),!(f.size()>=s)););return ne.resolve(f)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new DD(t,r));let a=this.Or.get(t);a===void 0&&(a=et(),this.Or.set(t,a)),this.Or.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.Nr=new Gt(nn.Br),this.Lr=new Gt(nn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new nn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new nn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new De(new It([])),r=new nn(t,e),s=new nn(t,e+1),a=[];return this.Lr.forEachInRange([r,s],u=>{this.Qr(u),a.push(u.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new De(new It([])),r=new nn(t,e),s=new nn(t,e+1);let a=et();return this.Lr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new nn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return De.comparator(e.key,t.key)||Ge(e.Gr,t.Gr)}static kr(e,t){return Ge(e.Gr,t.Gr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Gt(nn.Br)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new xD(a,t,r,s);this.mutationQueue.push(u);for(const f of s)this.zr=this.zr.add(new nn(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Hr(r),a=s<0?0:s;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?fg:this.Jn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new nn(t,0),s=new nn(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,s],u=>{const f=this.jr(u.Gr);a.push(f)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gt(Ge);return t.forEach(s=>{const a=new nn(s,0),u=new nn(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,u],f=>{r=r.add(f.Gr)})}),ne.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const u=new nn(new De(a),0);let f=new Gt(Ge);return this.zr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(f=f.add(d.Gr)),!0)},u),ne.resolve(this.Jr(f))}Jr(e){const t=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ct(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return ne.forEach(t.mutations,s=>{const a=new nn(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new nn(t,0),s=this.zr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.Zr=e,this.docs=function(){return new bt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let r=Gi();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Tn.newInvalidDocument(s))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Gi();const u=t.path,f=new De(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||qx(Wx(v),r)<=0||(s.has(v.key)||hf(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Me(9500)}Xr(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new yN(this)}getSize(e){return ne.resolve(this.size)}}class yN extends uN{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.persistence=e,this.ei=new Bo(t=>mg(t),gg),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.ti=0,this.ni=new Tg,this.targetCount=0,this.ri=Ha.rr()}forEachTarget(e,t){return this.ei.forEach((r,s)=>t(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),ne.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Ha(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.ar(t),ne.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ei.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.ei.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ne.waitFor(a).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t){this.ii={},this.overlays={},this.si=new of(0),this.oi=!1,this.oi=!0,this._i=new pN,this.referenceDelegate=e(this),this.ai=new vN(this),this.indexManager=new nN,this.remoteDocumentCache=function(s){return new gN(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new eN(t),this.ci=new fN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new mN(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const s=new _N(this.si.next());return this.referenceDelegate.li(),r(s).next(a=>this.referenceDelegate.hi(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Pi(e,t){return ne.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class _N extends Kx{constructor(e){super(),this.currentSequenceNumber=e}}class Sg{constructor(e){this.persistence=e,this.Ti=new Tg,this.Ii=null}static Ei(e){return new Sg(e)}get di(){if(this.Ii)return this.Ii;throw Me(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,r=>{const s=De.fromPath(r);return this.Ai(e,s).next(a=>{a||t.removeEntry(s,je.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ne.or([()=>ne.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class zh{constructor(e,t){this.persistence=e,this.Ri=new Bo(r=>Yx(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=lN(this,t)}static Ei(e,t){return new zh(e,t)}li(){}hi(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return ne.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(a=>a?ne.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Xr(e,u=>this.gr(e,u,t).next(f=>{f||(r++,a.removeEntry(u,je.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ne.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fh(e.data.value)),t}gr(e,t,r){return ne.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=s}static Ps(e,t){let r=et(),s=et();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Ig(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return nP()?8:Qx(In())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Vs(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new wN;return this.fs(e,t,u).next(f=>{if(a.result=f,this.Is)return this.gs(e,t,u,f.size)})}).next(()=>a.result)}gs(e,t,r,s){return r.documentReadCount<this.Es?(Pa()<=Ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",ka(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ne.resolve()):(Pa()<=Ze.DEBUG&&ye("QueryEngine","Query:",ka(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Pa()<=Ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",ka(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(t))):ne.resolve())}Rs(e,t){if(W0(t))return ne.resolve(null);let r=mi(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=rm(t,null,"F"),r=mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=et(...a);return this.As.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.ps(t,f);return this.ys(t,p,u,d.readTime)?this.Rs(e,rm(t,null,"F")):this.ws(e,p,t,d)}))})))}Vs(e,t,r,s){return W0(t)||s.isEqual(je.min())?ne.resolve(null):this.As.getDocuments(e,r).next(a=>{const u=this.ps(t,a);return this.ys(t,u,r,s)?ne.resolve(null):(Pa()<=Ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ka(t)),this.ws(e,u,t,Hx(s,pu)).next(f=>f))})}ps(e,t){let r=new Gt(lS(e));return t.forEach((s,a)=>{hf(e,a)&&(r=r.add(a))}),r}ys(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}fs(e,t,r){return Pa()<=Ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",ka(t)),this.As.getDocumentsMatchingQuery(e,t,Hs.min(),r)}ws(e,t,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="LocalStore",TN=3e8;class SN{constructor(e,t,r,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new bt(Ge),this.Ds=new Bo(a=>mg(a),gg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hN(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function IN(n,e,t,r){return new SN(n,e,t,r)}async function DS(n,e){const t=Be(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let d=et();for(const p of s){u.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}for(const p of a){f.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:f}))})})}function RN(n,e){const t=Be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(f,d,p,v){const w=p.batch,E=w.keys();let I=ne.resolve();return E.forEach(A=>{I=I.next(()=>v.getEntry(d,A)).next(D=>{const C=p.docVersions.get(A);ct(C!==null,48541),D.version.compareTo(C)<0&&(w.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),v.addEntry(D)))})}),I.next(()=>f.mutationQueue.removeMutationBatch(d,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let d=et();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(d=d.add(f.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function NS(n){const e=Be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function CN(n,e){const t=Be(n),r=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const f=[];e.targetChanges.forEach((v,w)=>{const E=s.get(w);if(!E)return;f.push(t.ai.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.ai.addMatchingKeys(a,v.addedDocuments,w)));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(dn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),s=s.insert(w,I),function(D,C,M){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=TN?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(E,I,v)&&f.push(t.ai.updateTargetData(a,I))});let d=Gi(),p=et();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(AN(a,u,e.documentUpdates).next(v=>{d=v.xs,p=v.Os})),!r.isEqual(je.min())){const v=t.ai.getLastRemoteSnapshotVersion(a).next(w=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(v)}return ne.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(t.Ss=s,a))}function AN(n,e,t){let r=et(),s=et();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Gi();return t.forEach((f,d)=>{const p=a.get(f);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(f)),d.isNoDocument()&&d.version.isEqual(je.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):ye(Rg,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),{xs:u,Os:s}})}function PN(n,e){const t=Be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kN(n,e){const t=Be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.ai.getTargetData(r,e).next(a=>a?(s=a,ne.resolve(s)):t.ai.allocateTargetId(r).next(u=>(s=new Os(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function lm(n,e,t){const r=Be(n),s=r.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!nl(u))throw u;ye(Rg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function iw(n,e,t){const r=Be(n);let s=je.min(),a=et();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,v){const w=Be(d),E=w.Ds.get(v);return E!==void 0?ne.resolve(w.Ss.get(E)):w.ai.getTargetData(p,v)}(r,u,mi(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,f.targetId).next(d=>{a=d})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?s:je.min(),t?a:et())).next(f=>(bN(r,gD(e),f),{documents:f,Ns:a})))}function bN(n,e,t){let r=n.vs.get(e)||je.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.vs.set(e,r)}class sw{constructor(){this.activeTargetIds=TD()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xN{constructor(){this.So=new sw,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new sw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="ConnectivityMonitor";class aw{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ye(ow,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ye(ow,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function um(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="RestConnection",NN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ON{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Lh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,t,r,s,a){const u=um(),f=this.$o(e,t.toUriEncodedString());ye(wp,`Sending RPC '${e}' ${u}:`,f,r);const d={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(d,s,a);const{host:p}=new URL(f),v=Ja(p);return this.Ko(e,f,d,r,v).then(w=>(ye(wp,`Received RPC '${e}' ${u}: `,w),w),w=>{throw Ua(wp,`RPC '${e}' ${u} failed with error: `,w,"url: ",f,"request:",r),w})}Wo(e,t,r,s,a,u){return this.Qo(e,t,r,s,a)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}$o(e,t){const r=NN[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class MN extends ON{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,s,a){const u=um();return new Promise((f,d)=>{const p=new LT;p.setWithCredentials(!0),p.listenOnce(MT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case hh.NO_ERROR:const w=p.getResponseJson();ye(wn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),f(w);break;case hh.TIMEOUT:ye(wn,`RPC '${e}' ${u} timed out`),d(new ve(te.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const E=p.getStatus();if(ye(wn,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const A=I==null?void 0:I.error;if(A&&A.status&&A.message){const D=function(M){const j=M.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(j)>=0?j:te.UNKNOWN}(A.status);d(new ve(D,A.message))}else d(new ve(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ve(te.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{ye(wn,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(s);ye(wn,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",v,r,15)})}a_(e,t,r){const s=um(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=UT(),f=FT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Uo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const v=a.join("");ye(wn,`Creating RPC '${e}' stream ${s}: ${v}`,d);const w=u.createWebChannel(v,d);let E=!1,I=!1;const A=new LN({Go:C=>{I?ye(wn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(E||(ye(wn,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),ye(wn,`RPC '${e}' stream ${s} sending:`,C),w.send(C))},zo:()=>w.close()}),D=(C,M,j)=>{C.listen(M,W=>{try{j(W)}catch(X){setTimeout(()=>{throw X},0)}})};return D(w,Yl.EventType.OPEN,()=>{I||(ye(wn,`RPC '${e}' stream ${s} transport opened.`),A.t_())}),D(w,Yl.EventType.CLOSE,()=>{I||(I=!0,ye(wn,`RPC '${e}' stream ${s} transport closed`),A.r_())}),D(w,Yl.EventType.ERROR,C=>{I||(I=!0,Ua(wn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),A.r_(new ve(te.UNAVAILABLE,"The operation could not be completed")))}),D(w,Yl.EventType.MESSAGE,C=>{var M;if(!I){const j=C.data[0];ct(!!j,16349);const W=j,X=(W==null?void 0:W.error)||((M=W[0])===null||M===void 0?void 0:M.error);if(X){ye(wn,`RPC '${e}' stream ${s} received error:`,X);const Y=X.status;let L=function(P){const N=zt[P];if(N!==void 0)return wS(N)}(Y),k=X.message;L===void 0&&(L=te.INTERNAL,k="Unknown error status: "+Y+" with message "+X.message),I=!0,A.r_(new ve(L,k)),w.close()}else ye(wn,`RPC '${e}' stream ${s} received:`,j),A.i_(j)}}),D(f,VT.STAT_EVENT,C=>{C.stat===Xp.PROXY?ye(wn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Xp.NOPROXY&&ye(wn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(n){return new zD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t,r=1e3,s=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=s,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="PersistentStream";class LS{constructor(e,t,r,s,a,u,f,d){this.bi=e,this.R_=r,this.V_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new OS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(qi(t.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===t&&this.B_(r,s)},r=>{e(()=>{const s=new ve(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ye(lw,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ye(lw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VN extends LS{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=BD(this.serializer,e),r=function(a){if(!("targetChange"in a))return je.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?je.min():u.readTime?gi(u.readTime):je.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=am(this.serializer),t.addTarget=function(a,u){let f;const d=u.target;if(f=tm(d)?{documents:qD(a,d)}:{query:GD(a,d).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=SS(a,u.resumeToken);const p=im(a,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(je.min())>0){f.readTime=Uh(a,u.snapshotVersion.toTimestamp());const p=im(a,u.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=QD(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=am(this.serializer),t.removeTarget=e,this.F_(t)}}class FN extends LS{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=WD(e.writeResults,e.commitTime),r=gi(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=am(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>HD(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{}class zN extends UN{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Qo(e,sm(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(te.UNKNOWN,a.toString())})}Wo(e,t,r,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,sm(t,r),s,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(te.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class jN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(qi(t),this.ea=!1):ye("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="RemoteStore";class $N{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(u=>{r.enqueueAndForget(async()=>{Ho(this)&&(ye(Uo,"Restarting streams for network reachability change."),await async function(d){const p=Be(d);p.aa.add(4),await Nu(p),p.la.set("Unknown"),p.aa.delete(4),await gf(p)}(this))})}),this.la=new jN(r,s)}}async function gf(n){if(Ho(n))for(const e of n.ua)await e(!0)}async function Nu(n){for(const e of n.ua)await e(!1)}function MS(n,e){const t=Be(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),kg(t)?Pg(t):il(t).b_()&&Ag(t,e))}function Cg(n,e){const t=Be(n),r=il(t);t._a.delete(e),r.b_()&&VS(t,e),t._a.size===0&&(r.b_()?r.v_():Ho(t)&&t.la.set("Unknown"))}function Ag(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}il(n).U_(e)}function VS(n,e){n.ha.Ke(e),il(n).K_(e)}function Pg(n){n.ha=new MD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),il(n).start(),n.la.ta()}function kg(n){return Ho(n)&&!il(n).w_()&&n._a.size>0}function Ho(n){return Be(n).aa.size===0}function FS(n){n.ha=void 0}async function BN(n){n.la.set("Online")}async function HN(n){n._a.forEach((e,t)=>{Ag(n,e)})}async function WN(n,e){FS(n),kg(n)?(n.la.ia(e),Pg(n)):n.la.set("Unknown")}async function qN(n,e,t){if(n.la.set("Online"),e instanceof TS&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const f of a.targetIds)s._a.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s._a.delete(f),s.ha.removeTarget(f))}(n,e)}catch(r){ye(Uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jh(n,r)}else if(e instanceof mh?n.ha.Xe(e):e instanceof ES?n.ha.ot(e):n.ha.nt(e),!t.isEqual(je.min()))try{const r=await NS(n.localStore);t.compareTo(r)>=0&&await function(a,u){const f=a.ha.It(u);return f.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=a._a.get(p);v&&a._a.set(p,v.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,p)=>{const v=a._a.get(d);if(!v)return;a._a.set(d,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),VS(a,d);const w=new Os(v.target,d,p,v.sequenceNumber);Ag(a,w)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){ye(Uo,"Failed to raise snapshot:",r),await jh(n,r)}}async function jh(n,e,t){if(!nl(e))throw e;n.aa.add(1),await Nu(n),n.la.set("Offline"),t||(t=()=>NS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Uo,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await gf(n)})}function US(n,e){return e().catch(t=>jh(n,t,e))}async function yf(n){const e=Be(n),t=Ks(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:fg;for(;GN(e);)try{const s=await PN(e.localStore,r);if(s===null){e.oa.length===0&&t.v_();break}r=s.batchId,KN(e,s)}catch(s){await jh(e,s)}zS(e)&&jS(e)}function GN(n){return Ho(n)&&n.oa.length<10}function KN(n,e){n.oa.push(e);const t=Ks(n);t.b_()&&t.W_&&t.G_(e.mutations)}function zS(n){return Ho(n)&&!Ks(n).w_()&&n.oa.length>0}function jS(n){Ks(n).start()}async function QN(n){Ks(n).H_()}async function XN(n){const e=Ks(n);for(const t of n.oa)e.G_(t.mutations)}async function YN(n,e,t){const r=n.oa.shift(),s=_g.from(r,e,t);await US(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await yf(n)}async function JN(n,e){e&&Ks(n).W_&&await async function(r,s){if(function(u){return OD(u)&&u!==te.ABORTED}(s.code)){const a=r.oa.shift();Ks(r).D_(),await US(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await yf(r)}}(n,e),zS(n)&&jS(n)}async function uw(n,e){const t=Be(n);t.asyncQueue.verifyOperationInProgress(),ye(Uo,"RemoteStore received new credentials");const r=Ho(t);t.aa.add(3),await Nu(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await gf(t)}async function ZN(n,e){const t=Be(n);e?(t.aa.delete(2),await gf(t)):e||(t.aa.add(2),await Nu(t),t.la.set("Unknown"))}function il(n){return n.Pa||(n.Pa=function(t,r,s){const a=Be(t);return a.Y_(),new VN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{jo:BN.bind(null,n),Jo:HN.bind(null,n),Zo:WN.bind(null,n),Q_:qN.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),kg(n)?Pg(n):n.la.set("Unknown")):(await n.Pa.stop(),FS(n))})),n.Pa}function Ks(n){return n.Ta||(n.Ta=function(t,r,s){const a=Be(t);return a.Y_(),new FN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:QN.bind(null,n),Zo:JN.bind(null,n),z_:XN.bind(null,n),j_:YN.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await yf(n)):(await n.Ta.stop(),n.oa.length>0&&(ye(Uo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,f=new bg(e,t,u,s,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(n,e){if(qi("AsyncQueue",`${e}: ${n}`),nl(n))return new ve(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{static emptySet(e){return new Ma(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=Jl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ma;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.Ia=new bt(De.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Me(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Wa{constructor(e,t,r,s,a,u,f,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Wa(e,t,Ma.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class tO{constructor(){this.queries=hw(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const s=Be(t),a=s.queries;s.queries=hw(),a.forEach((u,f)=>{for(const d of f.Ra)d.onError(r)})})(this,new ve(te.ABORTED,"Firestore shutting down"))}}function hw(){return new Bo(n=>aS(n),cf)}async function Dg(n,e){const t=Be(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Va()&&e.ma()&&(r=2):(a=new eO,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await t.onListen(s,!0);break;case 1:a.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const f=xg(u,`Initialization of query '${ka(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&Og(t)}async function Ng(n,e){const t=Be(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.Ra.indexOf(e);u>=0&&(a.Ra.splice(u,1),a.Ra.length===0?s=e.ma()?0:1:!a.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function nO(n,e){const t=Be(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const f of u.Ra)f.pa(s)&&(r=!0);u.Aa=s}}r&&Og(t)}function rO(n,e,t){const r=Be(n),s=r.queries.get(e);if(s)for(const a of s.Ra)a.onError(t);r.queries.delete(e)}function Og(n){n.fa.forEach(e=>{e.next()})}var cm,fw;(fw=cm||(cm={})).ya="default",fw.Cache="cache";class Lg{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.key=e}}class BS{constructor(e){this.key=e}}class iO{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=et(),this.mutatedKeys=et(),this.Ua=lS(e),this.Ka=new Ma(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new cw,s=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,f=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,w)=>{const E=s.get(v),I=hf(this.query,w)?w:null,A=!!E&&this.mutatedKeys.has(E.key),D=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let C=!1;E&&I?E.data.isEqual(I.data)?A!==D&&(r.track({type:3,doc:I}),C=!0):this.ja(E,I)||(r.track({type:2,doc:I}),C=!0,(d&&this.Ua(I,d)>0||p&&this.Ua(I,p)<0)&&(f=!0)):!E&&I?(r.track({type:0,doc:I}),C=!0):E&&!I&&(r.track({type:1,doc:E}),C=!0,(d||p)&&(f=!0)),C&&(I?(u=u.add(I),a=D?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{Ka:u,za:r,ys:f,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((v,w)=>function(I,A){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:C})}};return D(I)-D(A)}(v.type,w.type)||this.Ua(v.doc,w.doc)),this.Ha(r),s=s!=null&&s;const f=t&&!s?this.Ja():[],d=this.$a.size===0&&this.current&&!s?1:0,p=d!==this.Qa;return this.Qa=d,u.length!==0||p?{snapshot:new Wa(this.query,e.Ka,a,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:f}:{Ya:f}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new cw,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=et(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new BS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new $S(r))}),t}Xa(e){this.qa=e.Ns,this.$a=et();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Wa.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Mg="SyncEngine";class sO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oO{constructor(e){this.key=e,this.tu=!1}}class aO{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Bo(f=>aS(f),cf),this.iu=new Map,this.su=new Set,this.ou=new bt(De.comparator),this._u=new Map,this.au=new Tg,this.uu={},this.cu=new Map,this.lu=Ha.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function lO(n,e,t=!0){const r=QS(n);let s;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.eu()):s=await HS(r,e,t,!0),s}async function uO(n,e){const t=QS(n);await HS(t,e,!0,!1)}async function HS(n,e,t,r){const s=await kN(n.localStore,mi(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await cO(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&MS(n.remoteStore,s),f}async function cO(n,e,t,r,s){n.Pu=(w,E,I)=>async function(D,C,M,j){let W=C.view.Ga(M);W.ys&&(W=await iw(D.localStore,C.query,!1).then(({documents:k})=>C.view.Ga(k,W)));const X=j&&j.targetChanges.get(C.targetId),Y=j&&j.targetMismatches.get(C.targetId)!=null,L=C.view.applyChanges(W,D.isPrimaryClient,X,Y);return pw(D,C.targetId,L.Ya),L.snapshot}(n,w,E,I);const a=await iw(n.localStore,e,!0),u=new iO(e,a.Ns),f=u.Ga(a.documents),d=Du.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(f,n.isPrimaryClient,d);pw(n,t,p.Ya);const v=new sO(e,t,u);return n.ru.set(e,v),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function hO(n,e,t){const r=Be(n),s=r.ru.get(e),a=r.iu.get(s.targetId);if(a.length>1)return r.iu.set(s.targetId,a.filter(u=>!cf(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await lm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Cg(r.remoteStore,s.targetId),hm(r,s.targetId)}).catch(tl)):(hm(r,s.targetId),await lm(r.localStore,s.targetId,!0))}async function fO(n,e){const t=Be(n),r=t.ru.get(e),s=t.iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Cg(t.remoteStore,r.targetId))}async function dO(n,e,t){const r=wO(n);try{const s=await function(u,f){const d=Be(u),p=qt.now(),v=f.reduce((I,A)=>I.add(A.key),et());let w,E;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=Gi(),D=et();return d.Cs.getEntries(I,v).next(C=>{A=C,A.forEach((M,j)=>{j.isValidDocument()||(D=D.add(M))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,A)).next(C=>{w=C;const M=[];for(const j of f){const W=kD(j,w.get(j.key).overlayedDocument);W!=null&&M.push(new to(j.key,W,ZT(W.value.mapValue),Er.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,M,f)}).next(C=>{E=C;const M=C.applyToLocalDocumentSet(w,D);return d.documentOverlayCache.saveOverlays(I,C.batchId,M)})}).then(()=>({batchId:E.batchId,changes:cS(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,f,d){let p=u.uu[u.currentUser.toKey()];p||(p=new bt(Ge)),p=p.insert(f,d),u.uu[u.currentUser.toKey()]=p}(r,s.batchId,t),await Ou(r,s.changes),await yf(r.remoteStore)}catch(s){const a=xg(s,"Failed to persist write");t.reject(a)}}async function WS(n,e){const t=Be(n);try{const r=await CN(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t._u.get(a);u&&(ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.tu=!0:s.modifiedDocuments.size>0?ct(u.tu,14607):s.removedDocuments.size>0&&(ct(u.tu,42227),u.tu=!1))}),await Ou(t,r,e)}catch(r){await tl(r)}}function dw(n,e,t){const r=Be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ru.forEach((a,u)=>{const f=u.view.ga(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const d=Be(u);d.onlineState=f;let p=!1;d.queries.forEach((v,w)=>{for(const E of w.Ra)E.ga(f)&&(p=!0)}),p&&Og(d)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pO(n,e,t){const r=Be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r._u.get(e),a=s&&s.key;if(a){let u=new bt(De.comparator);u=u.insert(a,Tn.newNoDocument(a,je.min()));const f=et().add(a),d=new pf(je.min(),new Map,new bt(Ge),u,f);await WS(r,d),r.ou=r.ou.remove(a),r._u.delete(e),Vg(r)}else await lm(r.localStore,e,!1).then(()=>hm(r,e,t)).catch(tl)}async function mO(n,e){const t=Be(n),r=e.batch.batchId;try{const s=await RN(t.localStore,e);GS(t,r,null),qS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ou(t,s)}catch(s){await tl(s)}}async function gO(n,e,t){const r=Be(n);try{const s=await function(u,f){const d=Be(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return d.mutationQueue.lookupMutationBatch(p,f).next(w=>(ct(w!==null,37113),v=w.keys(),d.mutationQueue.removeMutationBatch(p,w))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>d.localDocuments.getDocuments(p,v))})}(r.localStore,e);GS(r,e,t),qS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ou(r,s)}catch(s){await tl(s)}}function qS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function GS(n,e,t){const r=Be(n);let s=r.uu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function hm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||KS(n,r)})}function KS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Cg(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Vg(n))}function pw(n,e,t){for(const r of t)r instanceof $S?(n.au.addReference(r.key,e),yO(n,r)):r instanceof BS?(ye(Mg,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||KS(n,r.key)):Me(19791,{Iu:r})}function yO(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(ye(Mg,"New document in limbo: "+t),n.su.add(r),Vg(n))}function Vg(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new De(It.fromString(e)),r=n.lu.next();n._u.set(r,new oO(t)),n.ou=n.ou.insert(t,r),MS(n.remoteStore,new Os(mi(uf(t.path)),r,"TargetPurposeLimboResolution",of.le))}}async function Ou(n,e,t){const r=Be(n),s=[],a=[],u=[];r.ru.isEmpty()||(r.ru.forEach((f,d)=>{u.push(r.Pu(d,e,t).then(p=>{var v;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(d.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(d.targetId,w?"current":"not-current")}if(p){s.push(p);const w=Ig.Ps(d.targetId,p);a.push(w)}}))}),await Promise.all(u),r.nu.Q_(s),await async function(d,p){const v=Be(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(p,E=>ne.forEach(E.ls,I=>v.persistence.referenceDelegate.addReference(w,E.targetId,I)).next(()=>ne.forEach(E.hs,I=>v.persistence.referenceDelegate.removeReference(w,E.targetId,I)))))}catch(w){if(!nl(w))throw w;ye(Rg,"Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const I=v.Ss.get(E),A=I.snapshotVersion,D=I.withLastLimboFreeSnapshotVersion(A);v.Ss=v.Ss.insert(E,D)}}}(r.localStore,a))}async function vO(n,e){const t=Be(n);if(!t.currentUser.isEqual(e)){ye(Mg,"User change. New user:",e.toKey());const r=await DS(t.localStore,e);t.currentUser=e,function(a,u){a.cu.forEach(f=>{f.forEach(d=>{d.reject(new ve(te.CANCELLED,u))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ou(t,r.Ms)}}function _O(n,e){const t=Be(n),r=t._u.get(e);if(r&&r.tu)return et().add(r.key);{let s=et();const a=t.iu.get(e);if(!a)return s;for(const u of a){const f=t.ru.get(u);s=s.unionWith(f.view.Wa)}return s}}function QS(n){const e=Be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_O.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pO.bind(null,e),e.nu.Q_=nO.bind(null,e.eventManager),e.nu.Tu=rO.bind(null,e.eventManager),e}function wO(n){const e=Be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gO.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return IN(this.persistence,new EN,e.initialUser,this.serializer)}Ru(e){return new xS(Sg.Ei,this.serializer)}Au(e){return new xN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class EO extends $h{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){ct(this.persistence.referenceDelegate instanceof zh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oN(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new xS(r=>zh.Ei(r,t),this.serializer)}}class fm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vO.bind(null,this.syncEngine),await ZN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tO}()}createDatastore(e){const t=mf(e.databaseInfo.databaseId),r=function(a){return new MN(a)}(e.databaseInfo);return function(a,u,f,d){return new zN(a,u,f,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,f){return new $N(r,s,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>dw(this.syncEngine,t,0),function(){return aw.C()?new aw:new DN}())}createSyncEngine(e,t){return function(s,a,u,f,d,p,v){const w=new aO(s,a,u,f,d,p);return v&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Be(s);ye(Uo,"RemoteStore shutting down."),a.aa.add(5),await Nu(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class TO{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=En.UNAUTHENTICATED,this.clientId=BT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ye(Qs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ye(Qs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=xg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Qs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await DS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function mw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await SO(n);ye(Qs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>uw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>uw(e.remoteStore,s)),n._onlineComponents=e}async function SO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Qs,"Using user provided OfflineComponentProvider");try{await Tp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Ua("Error using user provided cache. Falling back to memory cache: "+t),await Tp(n,new $h)}}else ye(Qs,"Using default OfflineComponentProvider"),await Tp(n,new EO(void 0));return n._offlineComponents}async function XS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Qs,"Using user provided OnlineComponentProvider"),await mw(n,n._uninitializedComponentsProvider._online)):(ye(Qs,"Using default OnlineComponentProvider"),await mw(n,new fm))),n._onlineComponents}function IO(n){return XS(n).then(e=>e.syncEngine)}async function Bh(n){const e=await XS(n),t=e.eventManager;return t.onListen=lO.bind(null,e.syncEngine),t.onUnlisten=hO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fO.bind(null,e.syncEngine),t}function RO(n,e,t={}){const r=new Bi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,d,p){const v=new Fg({next:E=>{v.yu(),u.enqueueAndForget(()=>Ng(a,w));const I=E.docs.has(f);!I&&E.fromCache?p.reject(new ve(te.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&d&&d.source==="server"?p.reject(new ve(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new Lg(uf(f.path),v,{includeMetadataChanges:!0,Fa:!0});return Dg(a,w)}(await Bh(n),n.asyncQueue,e,t,r)),r.promise}function CO(n,e,t={}){const r=new Bi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,d,p){const v=new Fg({next:E=>{v.yu(),u.enqueueAndForget(()=>Ng(a,w)),E.fromCache&&d.source==="server"?p.reject(new ve(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new Lg(f,v,{includeMetadataChanges:!0,Fa:!0});return Dg(a,w)}(await Bh(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(n,e,t){if(!t)throw new ve(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AO(n,e,t,r){if(e===!0&&r===!0)throw new ve(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yw(n){if(!De.isDocumentKey(n))throw new ve(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vw(n){if(De.isDocumentKey(n))throw new ve(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Me(12329,{type:typeof n})}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vf(n);throw new ve(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firestore.googleapis.com",_w=!0;class ww{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZS,this.ssl=_w}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_w;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iN)throw new ve(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ww({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ww(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Lx;switch(r.type){case"firstParty":return new Ux(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=gw.get(t);r&&(ye("ComponentProvider","Removing Datastore"),gw.delete(t),r.terminate())}(this),Promise.resolve()}}function PO(n,e,t,r={}){var s;n=Wn(n,_f);const a=Ja(e),u=n._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;a&&Xm(`https://${d}`),u.host!==ZS&&u.host!==d&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:a,emulatorOptions:r});if(!$s(p,f)&&(n._setSettings(p),r.mockUserToken)){let v,w;if(typeof r.mockUserToken=="string")v=r.mockUserToken,w=En.MOCK_USER;else{v=QE(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new ve(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new En(E)}n._authCredentials=new Mx(new jT(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class Sn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class zs extends no{constructor(e,t,r){super(e,t,uf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new De(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function s4(n,e,...t){if(n=At(n),JS("collection","path",e),n instanceof _f){const r=It.fromString(e,...t);return vw(r),new zs(n,null,r)}{if(!(n instanceof Sn||n instanceof zs))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return vw(r),new zs(n.firestore,null,r)}}function eI(n,e,...t){if(n=At(n),arguments.length===1&&(e=BT.newId()),JS("doc","path",e),n instanceof _f){const r=It.fromString(e,...t);return yw(r),new Sn(n,null,new De(r))}{if(!(n instanceof Sn||n instanceof zs))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return yw(r),new Sn(n.firestore,n instanceof zs?n.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="AsyncQueue";class Tw{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new OS(this,"async_queue_retry"),this.ju=()=>{const r=Ep();r&&ye(Ew,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Ep();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Ep();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Bi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!nl(e))throw e;ye(Ew,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,qi("INTERNAL UNHANDLED ERROR: ",Sw(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=bg.createAndSchedule(this,e,t,r,a=>this.Xu(a));return this.Uu.push(s),s}Ju(){this.Ku&&Me(47125,{ec:Sw(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Sw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ki extends _f{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Tw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tw(e),this._firestoreClient=void 0,await e}}}function kO(n,e){const t=typeof n=="object"?n:Zm(),r=typeof n=="string"?n:Lh,s=tf(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=qE("firestore");a&&PO(s,...a)}return s}function wf(n){if(n._terminated)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bO(n),n._firestoreClient}function bO(n){var e,t,r;const s=n._freezeSettings(),a=function(f,d,p,v){return new eD(f,d,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,YS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new TO(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qa(dn.fromBase64String(e))}catch(t){throw new ve(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qa(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^__.*__$/;class DO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class tI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new to(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{oc:n})}}class Tf{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Tf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Hh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(nI(this.oc)&&xO.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class NO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||mf(e)}dc(e,t,r,s=!1){return new Tf({oc:e,methodName:t,Ec:r,path:fn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sf(n){const e=n._freezeSettings(),t=mf(n._databaseId);return new NO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rI(n,e,t,r,s,a={}){const u=n.dc(a.merge||a.mergeFields?2:0,e,t,s);Bg("Data must be an object, but it was:",u,r);const f=iI(r,u);let d,p;if(a.merge)d=new ir(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const E=dm(e,w,t);if(!u.contains(E))throw new ve(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);oI(v,E)||v.push(E)}d=new ir(v),p=u.fieldTransforms.filter(w=>d.covers(w.field))}else d=null,p=u.fieldTransforms;return new DO(new Hn(f),d,p)}class If extends Lu{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof If}}function OO(n,e,t){return new Tf({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jg extends Lu{_toFieldTransform(e){return new yS(e.path,new _u)}isEqual(e){return e instanceof jg}}class $g extends Lu{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=OO(this,e,!0),r=this.Ac.map(a=>sl(a,t)),s=new Ba(r);return new yS(e.path,s)}isEqual(e){return e instanceof $g&&$s(this.Ac,e.Ac)}}function LO(n,e,t,r){const s=n.dc(1,e,t);Bg("Data must be an object, but it was:",s,r);const a=[],u=Hn.empty();eo(r,(d,p)=>{const v=Hg(e,d,t);p=At(p);const w=s.hc(v);if(p instanceof If)a.push(v);else{const E=sl(p,w);E!=null&&(a.push(v),u.set(v,E))}});const f=new ir(a);return new tI(u,f,s.fieldTransforms)}function MO(n,e,t,r,s,a){const u=n.dc(1,e,t),f=[dm(e,r,t)],d=[s];if(a.length%2!=0)throw new ve(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)f.push(dm(e,a[E])),d.push(a[E+1]);const p=[],v=Hn.empty();for(let E=f.length-1;E>=0;--E)if(!oI(p,f[E])){const I=f[E];let A=d[E];A=At(A);const D=u.hc(I);if(A instanceof If)p.push(I);else{const C=sl(A,D);C!=null&&(p.push(I),v.set(I,C))}}const w=new ir(p);return new tI(v,w,u.fieldTransforms)}function VO(n,e,t,r=!1){return sl(t,n.dc(r?4:3,e))}function sl(n,e){if(sI(n=At(n)))return Bg("Unsupported field value:",e,n),iI(n,e);if(n instanceof Lu)return function(r,s){if(!nI(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const f of r){let d=sl(f,s.Pc(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qt.fromDate(r);return{timestampValue:Uh(s.serializer,a)}}if(r instanceof qt){const a=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uh(s.serializer,a)}}if(r instanceof Ug)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qa)return{bytesValue:SS(s.serializer,r._byteString)};if(r instanceof Sn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Eg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof zg)return function(u,f){return{mapValue:{fields:{[YT]:{stringValue:JT},[Mh]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.Tc("VectorValues must only contain numeric values.");return yg(f.serializer,p)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${vf(r)}`)}(n,e)}function iI(n,e){const t={};return WT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(n,(r,s)=>{const a=sl(s,e.uc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function sI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof Ug||n instanceof qa||n instanceof Sn||n instanceof Lu||n instanceof zg)}function Bg(n,e,t){if(!sI(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=vf(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function dm(n,e,t){if((e=At(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return Hg(n,e);throw Hh("Field path arguments must be of type string or ",n,!1,void 0,t)}const FO=new RegExp("[~\\*/\\[\\]]");function Hg(n,e,t){if(e.search(FO)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ef(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${r}`),u&&(d+=` in document ${s}`),d+=")"),new ve(te.INVALID_ARGUMENT,f+n+d)}function oI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class UO extends aI{data(){return super.data()}}function Rf(n,e){return typeof e=="string"?Hg(n,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wg{}class uI extends Wg{}function o4(n,e,...t){let r=[];e instanceof Wg&&r.push(e),r=r.concat(t),function(a){const u=a.filter(d=>d instanceof qg).length,f=a.filter(d=>d instanceof Cf).length;if(u>1||u>0&&f>0)throw new ve(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Cf extends uI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Cf(e,t,r)}_apply(e){const t=this._parse(e);return cI(e._query,t),new no(e.firestore,e.converter,nm(e._query,t))}_parse(e){const t=Sf(e.firestore);return function(a,u,f,d,p,v,w){let E;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Cw(w,v);const A=[];for(const D of w)A.push(Rw(d,a,D));E={arrayValue:{values:A}}}else E=Rw(d,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Cw(w,v),E=VO(f,u,w,v==="in"||v==="not-in");return $t.create(p,v,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function a4(n,e,t){const r=e,s=Rf("where",n);return Cf._create(s,r,t)}class qg extends Wg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:qr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const f=a.getFlattenedFilters();for(const d of f)cI(u,d),u=nm(u,d)}(e._query,t),new no(e.firestore,e.converter,nm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gg extends uI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gg(e,t)}_apply(e){const t=function(s,a,u){if(s.startAt!==null)throw new ve(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ve(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(a,u)}(e._query,this._field,this._direction);return new no(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new rl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function l4(n,e="asc"){const t=e,r=Rf("orderBy",n);return Gg._create(r,t)}function Rw(n,e,t){if(typeof(t=At(t))=="string"){if(t==="")throw new ve(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oS(e)&&t.indexOf("/")!==-1)throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(It.fromString(t));if(!De.isDocumentKey(r))throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return U0(n,new De(r))}if(t instanceof Sn)return U0(n,t._key);throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(t)}.`)}function Cw(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cI(n,e){const t=function(s,a){for(const u of s)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zO{convertValue(e,t="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return eo(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Mh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Mt(u.doubleValue));return new zg(a)}convertGeoPoint(e){return new Ug(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const t=Ws(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=It.fromString(e);ct(kS(r),9688,{name:e});const s=new gu(r.get(1),r.get(3)),a=new De(r.popFirst(5));return s.isEqual(t)||qi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fI extends aI{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Rf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class gh extends fI{data(e={}){return super.data(e)}}class dI{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new eu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new gh(this._firestore,this._userDataWriter,r.key,r,new eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const d=new gh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new eu(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const d=new gh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new eu(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:jO(f.type),doc:d,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n){n=Wn(n,Sn);const e=Wn(n.firestore,Ki);return RO(wf(e),n._key).then(t=>pI(e,n,t))}class Kg extends zO{constructor(e){super(),this.firestore=e}convertBytes(e){return new qa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}function u4(n){n=Wn(n,no);const e=Wn(n.firestore,Ki),t=wf(e),r=new Kg(e);return lI(n._query),CO(t,n._query).then(s=>new dI(e,r,n,s))}function c4(n,e,t){n=Wn(n,Sn);const r=Wn(n.firestore,Ki),s=hI(n.converter,e);return Af(r,[rI(Sf(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Er.none())])}function h4(n,e,t,...r){n=Wn(n,Sn);const s=Wn(n.firestore,Ki),a=Sf(s);let u;return u=typeof(e=At(e))=="string"||e instanceof Ef?MO(a,"updateDoc",n._key,e,t,r):LO(a,"updateDoc",n._key,e),Af(s,[u.toMutation(n._key,Er.exists(!0))])}function f4(n){return Af(Wn(n.firestore,Ki),[new vg(n._key,Er.none())])}function d4(n,e){const t=Wn(n.firestore,Ki),r=eI(n),s=hI(n.converter,e);return Af(t,[rI(Sf(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then(()=>r)}function p4(n,...e){var t,r,s;n=At(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Iw(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Iw(e[u])){const w=e[u];e[u]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[u+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[u+2]=(s=w.complete)===null||s===void 0?void 0:s.bind(w)}let d,p,v;if(n instanceof Sn)p=Wn(n.firestore,Ki),v=uf(n._key.path),d={next:w=>{e[u]&&e[u](pI(p,n,w))},error:e[u+1],complete:e[u+2]};else{const w=Wn(n,no);p=Wn(w.firestore,Ki),v=w._query;const E=new Kg(p);d={next:I=>{e[u]&&e[u](new dI(p,E,w,I))},error:e[u+1],complete:e[u+2]},lI(n._query)}return function(E,I,A,D){const C=new Fg(D),M=new Lg(I,C,A);return E.asyncQueue.enqueueAndForget(async()=>Dg(await Bh(E),M)),()=>{C.yu(),E.asyncQueue.enqueueAndForget(async()=>Ng(await Bh(E),M))}}(wf(p),v,f,d)}function Af(n,e){return function(r,s){const a=new Bi;return r.asyncQueue.enqueueAndForget(async()=>dO(await IO(r),s,a)),a.promise}(wf(n),e)}function pI(n,e,t){const r=t.docs.get(e._key),s=new Kg(n);return new fI(n,s,e._key,r,new eu(t.hasPendingWrites,t.fromCache),e.converter)}function m4(){return new jg("serverTimestamp")}function g4(...n){return new $g("arrayUnion",n)}(function(e,t=!0){(function(s){el=s})($o),Lo(new Bs("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new Ki(new Vx(r.getProvider("auth-internal")),new zx(u,r.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(p.options.projectId,v)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),di(A0,P0,e),di(A0,P0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebasestorage.googleapis.com",gI="storageBucket",BO=2*60*1e3,HO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends vi{constructor(e,t,r=0){super(Sp(e),`Firebase Storage: ${t} (${Sp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nt||(Nt={}));function Sp(n){return"storage/"+n}function Qg(){const n="An unknown error occurred, please check the error payload for server response.";return new Ot(Nt.UNKNOWN,n)}function WO(n){return new Ot(Nt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function qO(n){return new Ot(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GO(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot(Nt.UNAUTHENTICATED,n)}function KO(){return new Ot(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QO(n){return new Ot(Nt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function XO(){return new Ot(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YO(){return new Ot(Nt.CANCELED,"User canceled the upload/download.")}function JO(n){return new Ot(Nt.INVALID_URL,"Invalid URL '"+n+"'.")}function ZO(n){return new Ot(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function e2(){return new Ot(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gI+"' property when initializing the app?")}function t2(){return new Ot(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function n2(){return new Ot(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function r2(n){return new Ot(Nt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function pm(n){return new Ot(Nt.INVALID_ARGUMENT,n)}function yI(){return new Ot(Nt.APP_DELETED,"The Firebase app was deleted.")}function i2(n){return new Ot(Nt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ou(n,e){return new Ot(Nt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Bl(n){throw new Ot(Nt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=sr.makeFromUrl(e,t)}catch{return new sr(e,"")}if(r.path==="")return r;throw ZO(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+s+u,"i"),d={bucket:1,path:3};function p(X){X.path_=decodeURIComponent(X.path)}const v="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",I=new RegExp(`^https?://${w}/${v}/b/${s}/o${E}`,"i"),A={bucket:1,path:3},D=t===mI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",M=new RegExp(`^https?://${D}/${s}/${C}`,"i"),W=[{regex:f,indices:d,postModify:a},{regex:I,indices:A,postModify:p},{regex:M,indices:{bucket:1,path:2},postModify:p}];for(let X=0;X<W.length;X++){const Y=W[X],L=Y.regex.exec(e);if(L){const k=L[Y.indices.bucket];let R=L[Y.indices.path];R||(R=""),r=new sr(k,R),Y.postModify(r);break}}if(r==null)throw JO(e);return r}}class s2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n,e,t){let r=1,s=null,a=null,u=!1,f=0;function d(){return f===2}let p=!1;function v(...C){p||(p=!0,e.apply(null,C))}function w(C){s=setTimeout(()=>{s=null,n(I,d())},C)}function E(){a&&clearTimeout(a)}function I(C,...M){if(p){E();return}if(C){E(),v.call(null,C,...M);return}if(d()||u){E(),v.call(null,C,...M);return}r<64&&(r*=2);let W;f===1?(f=2,W=0):W=(r+Math.random())*1e3,w(W)}let A=!1;function D(C){A||(A=!0,E(),!p&&(s!==null?(C||(f=2),clearTimeout(s),w(0)):C||(f=1)))}return w(0),a=setTimeout(()=>{u=!0,D(!0)},t),D}function a2(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(n){return n!==void 0}function u2(n){return typeof n=="object"&&!Array.isArray(n)}function Xg(n){return typeof n=="string"||n instanceof String}function Aw(n){return Yg()&&n instanceof Blob}function Yg(){return typeof Blob<"u"}function Pw(n,e,t,r){if(r<e)throw pm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw pm(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function vI(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var No;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(No||(No={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,t,r,s,a,u,f,d,p,v,w,E=!0,I=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=w,this.retry=E,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,D)=>{this.resolve_=A,this.reject_=D,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Zc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const d=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===No.NO_ERROR,d=a.getStatus();if(!f||c2(d,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===No.ABORT;r(!1,new Zc(!1,null,v));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new Zc(p,a))})},t=(r,s)=>{const a=this.resolve_,u=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(f,f.getResponse());l2(d)?a(d):a()}catch(d){u(d)}else if(f!==null){const d=Qg();d.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,d)):u(d)}else if(s.canceled){const d=this.appDelete_?yI():YO();u(d)}else{const d=XO();u(d)}};this.canceled_?t(!1,new Zc(!1,null,!0)):this.backoffId_=o2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&a2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function f2(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function d2(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p2(n,e){e&&(n["X-Firebase-GMPID"]=e)}function m2(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function g2(n,e,t,r,s,a,u=!0,f=!1){const d=vI(n.urlParams),p=n.url+d,v=Object.assign({},n.headers);return p2(v,e),f2(v,t),d2(v,a),m2(v,r),new h2(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function v2(...n){const e=y2();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Yg())return new Blob(n);throw new Ot(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _2(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n){if(typeof atob>"u")throw r2("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ip{constructor(e,t){this.data=e,this.contentType=t||null}}function E2(n,e){switch(n){case hi.RAW:return new Ip(_I(e));case hi.BASE64:case hi.BASE64URL:return new Ip(wI(n,e));case hi.DATA_URL:return new Ip(S2(e),I2(e))}throw Qg()}function _I(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function T2(n){let e;try{e=decodeURIComponent(n)}catch{throw ou(hi.DATA_URL,"Malformed data URL.")}return _I(e)}function wI(n,e){switch(n){case hi.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw ou(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case hi.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw ou(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=w2(e)}catch(s){throw s.message.includes("polyfill")?s:ou(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class EI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw ou(hi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=R2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function S2(n){const e=new EI(n);return e.base64?wI(hi.BASE64,e.rest):T2(e.rest)}function I2(n){return new EI(n).contentType}function R2(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t){let r=0,s="";Aw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Aw(this.data_)){const r=this.data_,s=_2(r,e,t);return s===null?null:new Ns(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ns(r,!0)}}static getBlob(...e){if(Yg()){const t=e.map(r=>r instanceof Ns?r.data_:r);return new Ns(v2.apply(null,t))}else{const t=e.map(u=>Xg(u)?E2(hi.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)s[a++]=u[f]}),new Ns(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n){let e;try{e=JSON.parse(n)}catch{return null}return u2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function A2(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function SI(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(n,e){return e}class Dn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||P2}}let eh=null;function k2(n){return!Xg(n)||n.length<2?n:SI(n)}function II(){if(eh)return eh;const n=[];n.push(new Dn("bucket")),n.push(new Dn("generation")),n.push(new Dn("metageneration")),n.push(new Dn("name","fullPath",!0));function e(a,u){return k2(u)}const t=new Dn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const s=new Dn("size");return s.xform=r,n.push(s),n.push(new Dn("timeCreated")),n.push(new Dn("updated")),n.push(new Dn("md5Hash",null,!0)),n.push(new Dn("cacheControl",null,!0)),n.push(new Dn("contentDisposition",null,!0)),n.push(new Dn("contentEncoding",null,!0)),n.push(new Dn("contentLanguage",null,!0)),n.push(new Dn("contentType",null,!0)),n.push(new Dn("metadata","customMetadata",!0)),eh=n,eh}function b2(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new sr(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function x2(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return b2(r,n),r}function RI(n,e,t){const r=TI(e);return r===null?null:x2(n,r,t)}function D2(n,e,t,r){const s=TI(e);if(s===null||!Xg(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(p=>{const v=n.bucket,w=n.fullPath,E="/b/"+u(v)+"/o/"+u(w),I=Jg(E,t,r),A=vI({alt:"media",token:p});return I+A})[0]}function N2(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class CI{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(n){if(!n)throw Qg()}function O2(n,e){function t(r,s){const a=RI(n,s,e);return AI(a!==null),a}return t}function L2(n,e){function t(r,s){const a=RI(n,s,e);return AI(a!==null),D2(a,s,n.host,n._protocol)}return t}function PI(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=KO():s=GO():t.getStatus()===402?s=qO(n.bucket):t.getStatus()===403?s=QO(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function M2(n){const e=PI(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=WO(n.path)),a.serverResponse=s.serverResponse,a}return t}function V2(n,e,t){const r=e.fullServerUrl(),s=Jg(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new CI(s,a,L2(n,t),u);return f.errorHandler=M2(e),f}function F2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function U2(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=F2(null,e)),r}function z2(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let W="";for(let X=0;X<2;X++)W=W+Math.random().toString().slice(2);return W}const d=f();u["Content-Type"]="multipart/related; boundary="+d;const p=U2(e,r,s),v=N2(p,t),w="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+d+"--",I=Ns.getBlob(w,r,E);if(I===null)throw t2();const A={name:p.fullPath},D=Jg(a,n.host,n._protocol),C="POST",M=n.maxUploadRetryTime,j=new CI(D,C,O2(n,t),M);return j.urlParams=A,j.headers=u,j.body=I.uploadData(),j.errorHandler=PI(e),j}class j2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=No.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=No.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=No.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,a){if(this.sent_)throw Bl("cannot .send() more than once");if(Ja(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $2 extends j2{initXhr(){this.xhr_.responseType="text"}}function kI(){return new $2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t){this._service=e,t instanceof sr?this._location=t:this._location=sr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zo(e,t)}get root(){const e=new sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SI(this._location.path)}get storage(){return this._service}get parent(){const e=C2(this._location.path);if(e===null)return null;const t=new sr(this._location.bucket,e);return new zo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw i2(e)}}function B2(n,e,t){n._throwIfRoot("uploadBytes");const r=z2(n.storage,n._location,II(),new Ns(e,!0),t);return n.storage.makeRequestWithTokens(r,kI).then(s=>({metadata:s,ref:n}))}function H2(n){n._throwIfRoot("getDownloadURL");const e=V2(n.storage,n._location,II());return n.storage.makeRequestWithTokens(e,kI).then(t=>{if(t===null)throw n2();return t})}function W2(n,e){const t=A2(n._location.path,e),r=new sr(n._location.bucket,t);return new zo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(n){return/^[A-Za-z]+:\/\//.test(n)}function G2(n,e){return new zo(n,e)}function bI(n,e){if(n instanceof Zg){const t=n;if(t._bucket==null)throw e2();const r=new zo(t,t._bucket);return e!=null?bI(r,e):r}else return e!==void 0?W2(n,e):n}function K2(n,e){if(e&&q2(e)){if(n instanceof Zg)return G2(n,e);throw pm("To use ref(service, url), the first argument must be a Storage instance.")}else return bI(n,e)}function kw(n,e){const t=e==null?void 0:e[gI];return t==null?null:sr.makeFromBucketSpec(t,n)}function Q2(n,e,t,r={}){n.host=`${e}:${t}`;const s=Ja(e);s&&Xm(`https://${n.host}`),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:QE(a,n.app.options.projectId))}class Zg{constructor(e,t,r,s,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=mI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BO,this._maxUploadRetryTime=HO,this._requests=new Set,s!=null?this._bucket=sr.makeFromBucketSpec(s,this._host):this._bucket=kw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,e):this._bucket=kw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Pw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Pw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zo(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new s2(yI());{const u=g2(e,this._appId,r,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const bw="@firebase/storage",xw="0.13.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="storage";function y4(n,e,t){return n=At(n),B2(n,e,t)}function v4(n){return n=At(n),H2(n)}function _4(n,e){return n=At(n),K2(n,e)}function X2(n=Zm(),e){n=At(n);const r=tf(n,xI).getImmediate({identifier:e}),s=qE("storage");return s&&Y2(r,...s),r}function Y2(n,e,t,r={}){Q2(n,e,t,r)}function J2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Zg(t,r,s,e,$o)}function Z2(){Lo(new Bs(xI,J2,"PUBLIC").setMultipleInstances(!0)),di(bw,xw,""),di(bw,xw,"esm2017")}Z2();const eL={apiKey:"AIzaSyA0KMElLuUoAu_x-8ZzzcXEoMtFJ6BbQP0",authDomain:"realtime-chat-5a748.firebaseapp.com",projectId:"realtime-chat-5a748",storageBucket:"realtime-chat-5a748.firebasestorage.app",messagingSenderId:"961053510211",appId:"1:961053510211:web:1dfe11a84ef6b0db7e62f6"},ey=JE(eL),tL=xx(ey),w4=new Fi,nL=kO(ey),E4=X2(ey),DI=z.createContext({currentUser:null,loading:!0}),rL=({children:n})=>{const[e,t]=z.useState(null),[r,s]=z.useState(!0);z.useEffect(()=>{const u=Eb(tL,f=>{t(f),s(!1)});return()=>u()},[]);const a=z.useMemo(()=>({currentUser:e,loading:r}),[e,r]);return mt.jsx(DI.Provider,{value:a,children:n})},ty=()=>z.useContext(DI);var Rp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Dw;function iL(){return Dw||(Dw=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=s(a,r(f)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)e.call(a,f)&&a[f]&&(u=s(u,f));return u}function s(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Rp)),Rp.exports}var sL=iL();const ji=Um(sL);function mm(){return mm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mm.apply(null,arguments)}function pn(n){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(n)}var oL=Symbol.for("react.element"),aL=Symbol.for("react.transitional.element"),lL=Symbol.for("react.fragment");function uL(n){return n&&pn(n)==="object"&&(n.$$typeof===oL||n.$$typeof===aL)&&n.type===lL}var gm={},cL=function(e){};function hL(n,e){}function fL(n,e){}function dL(){gm={}}function NI(n,e,t){!e&&!gm[t]&&(n(!1,t),gm[t]=!0)}function ny(n,e){NI(hL,n,e)}function pL(n,e){NI(fL,n,e)}ny.preMessage=cL;ny.resetWarned=dL;ny.noteOnce=pL;function mL(n,e){if(pn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(pn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function OI(n){var e=mL(n,"string");return pn(e)=="symbol"?e:e+""}function He(n,e,t){return(e=OI(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function vt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nw(Object(t),!0).forEach(function(r){He(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Nw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Cp={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function gL(){if(Ow)return ut;Ow=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),A;A=Symbol.for("react.module.reference");function D(C){if(typeof C=="object"&&C!==null){var M=C.$$typeof;switch(M){case n:switch(C=C.type,C){case t:case s:case r:case p:case v:return C;default:switch(C=C&&C.$$typeof,C){case f:case u:case d:case E:case w:case a:return C;default:return M}}case e:return M}}}return ut.ContextConsumer=u,ut.ContextProvider=a,ut.Element=n,ut.ForwardRef=d,ut.Fragment=t,ut.Lazy=E,ut.Memo=w,ut.Portal=e,ut.Profiler=s,ut.StrictMode=r,ut.Suspense=p,ut.SuspenseList=v,ut.isAsyncMode=function(){return!1},ut.isConcurrentMode=function(){return!1},ut.isContextConsumer=function(C){return D(C)===u},ut.isContextProvider=function(C){return D(C)===a},ut.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===n},ut.isForwardRef=function(C){return D(C)===d},ut.isFragment=function(C){return D(C)===t},ut.isLazy=function(C){return D(C)===E},ut.isMemo=function(C){return D(C)===w},ut.isPortal=function(C){return D(C)===e},ut.isProfiler=function(C){return D(C)===s},ut.isStrictMode=function(C){return D(C)===r},ut.isSuspense=function(C){return D(C)===p},ut.isSuspenseList=function(C){return D(C)===v},ut.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===t||C===s||C===r||C===p||C===v||C===I||typeof C=="object"&&C!==null&&(C.$$typeof===E||C.$$typeof===w||C.$$typeof===a||C.$$typeof===u||C.$$typeof===d||C.$$typeof===A||C.getModuleId!==void 0)},ut.typeOf=D,ut}var Lw;function yL(){return Lw||(Lw=1,Cp.exports=gL()),Cp.exports}var Ap=yL();function vL(n,e,t){var r=z.useRef({});return(!("value"in r.current)||t(r.current.condition,e))&&(r.current.value=n(),r.current.condition=e),r.current.value}var _L=Number(z.version.split(".")[0]),wL=function(e,t){typeof e=="function"?e(t):pn(e)==="object"&&e&&"current"in e&&(e.current=t)},EL=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=t.filter(Boolean);return s.length<=1?s[0]:function(a){t.forEach(function(u){wL(u,a)})}},T4=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return vL(function(){return EL.apply(void 0,t)},t,function(s,a){return s.length!==a.length||s.every(function(u,f){return u!==a[f]})})},TL=function(e){var t,r;if(!e)return!1;if(ry(e)&&_L>=19)return!0;var s=Ap.isMemo(e)?e.type.type:e.type;return!(typeof s=="function"&&!((t=s.prototype)!==null&&t!==void 0&&t.render)&&s.$$typeof!==Ap.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==Ap.ForwardRef)};function ry(n){return z.isValidElement(n)&&!uL(n)}var S4=function(e){return ry(e)&&TL(e)},I4=function(e){if(e&&ry(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function ro(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Mw(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,OI(r.key),r)}}function io(n,e,t){return e&&Mw(n.prototype,e),t&&Mw(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ym(n,e){return ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},ym(n,e)}function LI(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ym(n,e)}function Wh(n){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wh(n)}function MI(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MI=function(){return!!n})()}function au(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function SL(n,e){if(e&&(pn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return au(n)}function VI(n){var e=MI();return function(){var t,r=Wh(n);if(e){var s=Wh(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return SL(this,t)}}function vm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function IL(n){if(Array.isArray(n))return vm(n)}function RL(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function FI(n,e){if(n){if(typeof n=="string")return vm(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?vm(n,e):void 0}}function CL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ol(n){return IL(n)||RL(n)||FI(n)||CL()}function AL(n){if(Array.isArray(n))return n}function PL(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,a,u,f=[],d=!0,p=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(r=a.call(t)).done)&&(f.push(r.value),f.length!==e);d=!0);}catch(v){p=!0,s=v}finally{try{if(!d&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(p)throw s}}return f}}function kL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(n,e){return AL(n)||PL(n,e)||FI(n,e)||kL()}function Eu(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Mu(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function bL(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var Vw="data-rc-order",Fw="data-rc-priority",xL="rc-util-key",_m=new Map;function UI(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):xL}function Pf(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function DL(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function iy(n){return Array.from((_m.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function zI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Mu())return null;var t=e.csp,r=e.prepend,s=e.priority,a=s===void 0?0:s,u=DL(r),f=u==="prependQueue",d=document.createElement("style");d.setAttribute(Vw,u),f&&a&&d.setAttribute(Fw,"".concat(a)),t!=null&&t.nonce&&(d.nonce=t==null?void 0:t.nonce),d.innerHTML=n;var p=Pf(e),v=p.firstChild;if(r){if(f){var w=(e.styles||iy(p)).filter(function(E){if(!["prepend","prependQueue"].includes(E.getAttribute(Vw)))return!1;var I=Number(E.getAttribute(Fw)||0);return a>=I});if(w.length)return p.insertBefore(d,w[w.length-1].nextSibling),d}p.insertBefore(d,v)}else p.appendChild(d);return d}function jI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Pf(e);return(e.styles||iy(t)).find(function(r){return r.getAttribute(UI(e))===n})}function $I(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=jI(n,e);if(t){var r=Pf(e);r.removeChild(t)}}function NL(n,e){var t=_m.get(n);if(!t||!bL(document,t)){var r=zI("",e),s=r.parentNode;_m.set(n,s),n.removeChild(r)}}function lu(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Pf(t),s=iy(r),a=vt(vt({},t),{},{styles:s});NL(r,a);var u=jI(e,a);if(u){var f,d;if((f=a.csp)!==null&&f!==void 0&&f.nonce&&u.nonce!==((d=a.csp)===null||d===void 0?void 0:d.nonce)){var p;u.nonce=(p=a.csp)===null||p===void 0?void 0:p.nonce}return u.innerHTML!==n&&(u.innerHTML=n),u}var v=zI(n,a);return v.setAttribute(UI(a),e),v}var OL="%";function wm(n){return n.join(OL)}var LL=function(){function n(e){ro(this,n),He(this,"instanceId",void 0),He(this,"cache",new Map),this.instanceId=e}return io(n,[{key:"get",value:function(t){return this.opGet(wm(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,r){return this.opUpdate(wm(t),r)}},{key:"opUpdate",value:function(t,r){var s=this.cache.get(t),a=r(s);a===null?this.cache.delete(t):this.cache.set(t,a)}}]),n}(),Ga="data-token-hash",Hr="data-css-hash",Ls="__cssinjs_instance__";function ML(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Hr,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(s){s[Ls]=s[Ls]||n,s[Ls]===n&&document.head.insertBefore(s,t)});var r={};Array.from(document.querySelectorAll("style[".concat(Hr,"]"))).forEach(function(s){var a=s.getAttribute(Hr);if(r[a]){if(s[Ls]===n){var u;(u=s.parentNode)===null||u===void 0||u.removeChild(s)}}else r[a]=!0})}return new LL(n)}var kf=z.createContext({hashPriority:"low",cache:ML(),defaultCache:!0});function VL(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var sy=function(){function n(){ro(this,n),He(this,"cache",void 0),He(this,"keys",void 0),He(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return io(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var r,s,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u={map:this.cache};return t.forEach(function(f){if(!u)u=void 0;else{var d;u=(d=u)===null||d===void 0||(d=d.map)===null||d===void 0?void 0:d.get(f)}}),(r=u)!==null&&r!==void 0&&r.value&&a&&(u.value[1]=this.cacheCallTimes++),(s=u)===null||s===void 0?void 0:s.value}},{key:"get",value:function(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,r){var s=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var a=this.keys.reduce(function(p,v){var w=_t(p,2),E=w[1];return s.internalGet(v)[1]<E?[v,s.internalGet(v)[1]]:p},[this.keys[0],this.cacheCallTimes]),u=_t(a,1),f=u[0];this.delete(f)}this.keys.push(t)}var d=this.cache;t.forEach(function(p,v){if(v===t.length-1)d.set(p,{value:[r,s.cacheCallTimes++]});else{var w=d.get(p);w?w.map||(w.map=new Map):d.set(p,{map:new Map}),d=d.get(p).map}})}},{key:"deleteByPath",value:function(t,r){var s=t.get(r[0]);if(r.length===1){var a;return s.map?t.set(r[0],{map:s.map}):t.delete(r[0]),(a=s.value)===null||a===void 0?void 0:a[0]}var u=this.deleteByPath(s.map,r.slice(1));return(!s.map||s.map.size===0)&&!s.value&&t.delete(r[0]),u}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(r){return!VL(r,t)}),this.deleteByPath(this.cache,t)}}]),n}();He(sy,"MAX_CACHE_SIZE",20);He(sy,"MAX_CACHE_OFFSET",5);var Uw=0,BI=function(){function n(e){ro(this,n),He(this,"derivatives",void 0),He(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=Uw,e.length===0&&(e.length>0,void 0),Uw+=1}return io(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(r,s){return s(t,r)},void 0)}}]),n}(),Pp=new sy;function FL(n){var e=Array.isArray(n)?n:[n];return Pp.has(e)||Pp.set(e,new BI(e)),Pp.get(e)}var UL=new WeakMap,kp={};function zL(n,e){for(var t=UL,r=0;r<e.length;r+=1){var s=e[r];t.has(s)||t.set(s,new WeakMap),t=t.get(s)}return t.has(kp)||t.set(kp,n()),t.get(kp)}var zw=new WeakMap;function uu(n){var e=zw.get(n)||"";return e||(Object.keys(n).forEach(function(t){var r=n[t];e+=t,r instanceof BI?e+=r.id:r&&pn(r)==="object"?e+=uu(r):e+=r}),e=Eu(e),zw.set(n,e)),e}function jw(n,e){return Eu("".concat(e,"_").concat(uu(n)))}var Em=Mu();function Tm(n){return typeof n=="number"?"".concat(n,"px"):n}function qh(n,e,t){var r,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(a)return n;var u=vt(vt({},s),{},(r={},He(r,Ga,e),He(r,Hr,t),r)),f=Object.keys(u).map(function(d){var p=u[d];return p?"".concat(d,'="').concat(p,'"'):null}).filter(function(d){return d}).join(" ");return"<style ".concat(f,">").concat(n,"</style>")}var yh=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},jL=function(e,t,r){return Object.keys(e).length?".".concat(t).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(s){var a=_t(s,2),u=a[0],f=a[1];return"".concat(u,":").concat(f,";")}).join(""),"}"):""},HI=function(e,t,r){var s={},a={};return Object.entries(e).forEach(function(u){var f,d,p=_t(u,2),v=p[0],w=p[1];if(r!=null&&(f=r.preserve)!==null&&f!==void 0&&f[v])a[v]=w;else if((typeof w=="string"||typeof w=="number")&&!(r!=null&&(d=r.ignore)!==null&&d!==void 0&&d[v])){var E,I=yh(v,r==null?void 0:r.prefix);s[I]=typeof w=="number"&&!(r!=null&&(E=r.unitless)!==null&&E!==void 0&&E[v])?"".concat(w,"px"):String(w),a[v]="var(".concat(I,")")}}),[a,jL(s,t,{scope:r==null?void 0:r.scope})]},$w=Mu()?z.useLayoutEffect:z.useEffect,oy=function(e,t){var r=z.useRef(!0);$w(function(){return e(r.current)},t),$w(function(){return r.current=!1,function(){r.current=!0}},[])},R4=function(e,t){oy(function(r){if(!r)return e()},t)},$L=vt({},dE),Bw=$L.useInsertionEffect,BL=function(e,t,r){z.useMemo(e,r),oy(function(){return t(!0)},r)},HL=Bw?function(n,e,t){return Bw(function(){return n(),e()},t)}:BL,WL=vt({},dE),qL=WL.useInsertionEffect,GL=function(e){var t=[],r=!1;function s(a){r||t.push(a)}return z.useEffect(function(){return r=!1,function(){r=!0,t.length&&t.forEach(function(a){return a()})}},e),s},KL=function(){return function(e){e()}},QL=typeof qL<"u"?GL:KL;function ay(n,e,t,r,s){var a=z.useContext(kf),u=a.cache,f=[n].concat(ol(e)),d=wm(f),p=QL([d]),v=function(A){u.opUpdate(d,function(D){var C=D||[void 0,void 0],M=_t(C,2),j=M[0],W=j===void 0?0:j,X=M[1],Y=X,L=Y||t(),k=[W,L];return A?A(k):k})};z.useMemo(function(){v()},[d]);var w=u.opGet(d),E=w[1];return HL(function(){s==null||s(E)},function(I){return v(function(A){var D=_t(A,2),C=D[0],M=D[1];return I&&C===0&&(s==null||s(E)),[C+1,M]}),function(){u.opUpdate(d,function(A){var D=A||[],C=_t(D,2),M=C[0],j=M===void 0?0:M,W=C[1],X=j-1;return X===0?(p(function(){(I||!u.opGet(d))&&(r==null||r(W,!1))}),null):[j-1,W]})}},[d]),E}var XL={},YL="css",ko=new Map;function JL(n){ko.set(n,(ko.get(n)||0)+1)}function ZL(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(Ga,'="').concat(n,'"]'));t.forEach(function(r){if(r[Ls]===e){var s;(s=r.parentNode)===null||s===void 0||s.removeChild(r)}})}}var eM=0;function tM(n,e){ko.set(n,(ko.get(n)||0)-1);var t=Array.from(ko.keys()),r=t.filter(function(s){var a=ko.get(s)||0;return a<=0});t.length-r.length>eM&&r.forEach(function(s){ZL(s,e),ko.delete(s)})}var nM=function(e,t,r,s){var a=r.getDerivativeToken(e),u=vt(vt({},a),t);return s&&(u=s(u)),u},WI="token";function rM(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=z.useContext(kf),s=r.cache.instanceId,a=r.container,u=t.salt,f=u===void 0?"":u,d=t.override,p=d===void 0?XL:d,v=t.formatToken,w=t.getComputedToken,E=t.cssVar,I=zL(function(){return Object.assign.apply(Object,[{}].concat(ol(e)))},e),A=uu(I),D=uu(p),C=E?uu(E):"",M=ay(WI,[f,n.id,A,D,C],function(){var j,W=w?w(I,p,n):nM(I,p,n,v),X=vt({},W),Y="";if(E){var L=HI(W,E.key,{prefix:E.prefix,ignore:E.ignore,unitless:E.unitless,preserve:E.preserve}),k=_t(L,2);W=k[0],Y=k[1]}var R=jw(W,f);W._tokenKey=R,X._tokenKey=jw(X,f);var P=(j=E==null?void 0:E.key)!==null&&j!==void 0?j:R;W._themeKey=P,JL(P);var N="".concat(YL,"-").concat(Eu(R));return W._hashId=N,[W,N,X,Y,(E==null?void 0:E.key)||""]},function(j){tM(j[0]._themeKey,s)},function(j){var W=_t(j,4),X=W[0],Y=W[3];if(E&&Y){var L=lu(Y,Eu("css-variables-".concat(X._themeKey)),{mark:Hr,prepend:"queue",attachTo:a,priority:-999});L[Ls]=s,L.setAttribute(Ga,X._themeKey)}});return M}var iM=function(e,t,r){var s=_t(e,5),a=s[2],u=s[3],f=s[4],d=r||{},p=d.plain;if(!u)return null;var v=a._tokenKey,w=-999,E={"data-rc-order":"prependQueue","data-rc-priority":"".concat(w)},I=qh(u,f,v,E,p);return[w,v,I]},sM={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qI="comm",GI="rule",KI="decl",oM="@import",aM="@namespace",lM="@keyframes",uM="@layer",QI=Math.abs,ly=String.fromCharCode;function XI(n){return n.trim()}function vh(n,e,t){return n.replace(e,t)}function cM(n,e,t){return n.indexOf(e,t)}function Va(n,e){return n.charCodeAt(e)|0}function Ka(n,e,t){return n.slice(e,t)}function ci(n){return n.length}function hM(n){return n.length}function th(n,e){return e.push(n),n}var bf=1,Qa=1,YI=0,Ir=0,jt=0,al="";function uy(n,e,t,r,s,a,u,f){return{value:n,root:e,parent:t,type:r,props:s,children:a,line:bf,column:Qa,length:u,return:"",siblings:f}}function fM(){return jt}function dM(){return jt=Ir>0?Va(al,--Ir):0,Qa--,jt===10&&(Qa=1,bf--),jt}function Wr(){return jt=Ir<YI?Va(al,Ir++):0,Qa++,jt===10&&(Qa=1,bf++),jt}function Ms(){return Va(al,Ir)}function _h(){return Ir}function xf(n,e){return Ka(al,n,e)}function Tu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pM(n){return bf=Qa=1,YI=ci(al=n),Ir=0,[]}function mM(n){return al="",n}function bp(n){return XI(xf(Ir-1,Sm(n===91?n+2:n===40?n+1:n)))}function gM(n){for(;(jt=Ms())&&jt<33;)Wr();return Tu(n)>2||Tu(jt)>3?"":" "}function yM(n,e){for(;--e&&Wr()&&!(jt<48||jt>102||jt>57&&jt<65||jt>70&&jt<97););return xf(n,_h()+(e<6&&Ms()==32&&Wr()==32))}function Sm(n){for(;Wr();)switch(jt){case n:return Ir;case 34:case 39:n!==34&&n!==39&&Sm(jt);break;case 40:n===41&&Sm(n);break;case 92:Wr();break}return Ir}function vM(n,e){for(;Wr()&&n+jt!==57;)if(n+jt===84&&Ms()===47)break;return"/*"+xf(e,Ir-1)+"*"+ly(n===47?n:Wr())}function _M(n){for(;!Tu(Ms());)Wr();return xf(n,Ir)}function wM(n){return mM(wh("",null,null,null,[""],n=pM(n),0,[0],n))}function wh(n,e,t,r,s,a,u,f,d){for(var p=0,v=0,w=u,E=0,I=0,A=0,D=1,C=1,M=1,j=0,W="",X=s,Y=a,L=r,k=W;C;)switch(A=j,j=Wr()){case 40:if(A!=108&&Va(k,w-1)==58){cM(k+=vh(bp(j),"&","&\f"),"&\f",QI(p?f[p-1]:0))!=-1&&(M=-1);break}case 34:case 39:case 91:k+=bp(j);break;case 9:case 10:case 13:case 32:k+=gM(A);break;case 92:k+=yM(_h()-1,7);continue;case 47:switch(Ms()){case 42:case 47:th(EM(vM(Wr(),_h()),e,t,d),d),(Tu(A||1)==5||Tu(Ms()||1)==5)&&ci(k)&&Ka(k,-1,void 0)!==" "&&(k+=" ");break;default:k+="/"}break;case 123*D:f[p++]=ci(k)*M;case 125*D:case 59:case 0:switch(j){case 0:case 125:C=0;case 59+v:M==-1&&(k=vh(k,/\f/g,"")),I>0&&(ci(k)-w||D===0&&A===47)&&th(I>32?Ww(k+";",r,t,w-1,d):Ww(vh(k," ","")+";",r,t,w-2,d),d);break;case 59:k+=";";default:if(th(L=Hw(k,e,t,p,v,s,f,W,X=[],Y=[],w,a),a),j===123)if(v===0)wh(k,e,L,L,X,a,w,f,Y);else{switch(E){case 99:if(Va(k,3)===110)break;case 108:if(Va(k,2)===97)break;default:v=0;case 100:case 109:case 115:}v?wh(n,L,L,r&&th(Hw(n,L,L,0,0,s,f,W,s,X=[],w,Y),Y),s,Y,w,f,r?X:Y):wh(k,L,L,L,[""],Y,0,f,Y)}}p=v=I=0,D=M=1,W=k="",w=u;break;case 58:w=1+ci(k),I=A;default:if(D<1){if(j==123)--D;else if(j==125&&D++==0&&dM()==125)continue}switch(k+=ly(j),j*D){case 38:M=v>0?1:(k+="\f",-1);break;case 44:f[p++]=(ci(k)-1)*M,M=1;break;case 64:Ms()===45&&(k+=bp(Wr())),E=Ms(),v=w=ci(W=k+=_M(_h())),j++;break;case 45:A===45&&ci(k)==2&&(D=0)}}return a}function Hw(n,e,t,r,s,a,u,f,d,p,v,w){for(var E=s-1,I=s===0?a:[""],A=hM(I),D=0,C=0,M=0;D<r;++D)for(var j=0,W=Ka(n,E+1,E=QI(C=u[D])),X=n;j<A;++j)(X=XI(C>0?I[j]+" "+W:vh(W,/&\f/g,I[j])))&&(d[M++]=X);return uy(n,e,t,s===0?GI:f,d,p,v,w)}function EM(n,e,t,r){return uy(n,e,t,qI,ly(fM()),Ka(n,2,-2),0,r)}function Ww(n,e,t,r,s){return uy(n,e,t,KI,Ka(n,0,r),Ka(n,r+1,-1),r,s)}function Im(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function TM(n,e,t,r){switch(n.type){case uM:if(n.children.length)break;case oM:case aM:case KI:return n.return=n.return||n.value;case qI:return"";case lM:return n.return=n.value+"{"+Im(n.children,r)+"}";case GI:if(!ci(n.value=n.props.join(",")))return""}return ci(t=Im(n.children,r))?n.return=n.value+"{"+t+"}":""}var qw="data-ant-cssinjs-cache-path",JI="_FILE_STYLE__",Oo,ZI=!0;function SM(){if(!Oo&&(Oo={},Mu())){var n=document.createElement("div");n.className=qw,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(s){var a=s.split(":"),u=_t(a,2),f=u[0],d=u[1];Oo[f]=d});var t=document.querySelector("style[".concat(qw,"]"));if(t){var r;ZI=!1,(r=t.parentNode)===null||r===void 0||r.removeChild(t)}document.body.removeChild(n)}}function IM(n){return SM(),!!Oo[n]}function RM(n){var e=Oo[n],t=null;if(e&&Mu())if(ZI)t=JI;else{var r=document.querySelector("style[".concat(Hr,'="').concat(Oo[n],'"]'));r?t=r.innerHTML:delete Oo[n]}return[t,e]}var CM="_skip_check_",eR="_multi_value_";function Eh(n){var e=Im(wM(n),TM);return e.replace(/\{%%%\:[^;];}/g,";")}function AM(n){return pn(n)==="object"&&n&&(CM in n||eR in n)}function Gw(n,e,t){if(!e)return n;var r=".".concat(e),s=t==="low"?":where(".concat(r,")"):r,a=n.split(",").map(function(u){var f,d=u.trim().split(/\s+/),p=d[0]||"",v=((f=p.match(/^\w+/))===null||f===void 0?void 0:f[0])||"";return p="".concat(v).concat(s).concat(p.slice(v.length)),[p].concat(ol(d.slice(1))).join(" ")});return a.join(",")}var PM=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},s=r.root,a=r.injectHash,u=r.parentSelectors,f=t.hashId,d=t.layer;t.path;var p=t.hashPriority,v=t.transformers,w=v===void 0?[]:v;t.linters;var E="",I={};function A(M){var j=M.getName(f);if(!I[j]){var W=n(M.style,t,{root:!1,parentSelectors:u}),X=_t(W,1),Y=X[0];I[j]="@keyframes ".concat(M.getName(f)).concat(Y)}}function D(M){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return M.forEach(function(W){Array.isArray(W)?D(W,j):W&&j.push(W)}),j}var C=D(Array.isArray(e)?e:[e]);return C.forEach(function(M){var j=typeof M=="string"&&!s?{}:M;if(typeof j=="string")E+="".concat(j,`
`);else if(j._keyframe)A(j);else{var W=w.reduce(function(X,Y){var L;return(Y==null||(L=Y.visit)===null||L===void 0?void 0:L.call(Y,X))||X},j);Object.keys(W).forEach(function(X){var Y=W[X];if(pn(Y)==="object"&&Y&&(X!=="animationName"||!Y._keyframe)&&!AM(Y)){var L=!1,k=X.trim(),R=!1;(s||a)&&f?k.startsWith("@")?L=!0:k==="&"?k=Gw("",f,p):k=Gw(X,f,p):s&&!f&&(k==="&"||k==="")&&(k="",R=!0);var P=n(Y,t,{root:R,injectHash:L,parentSelectors:[].concat(ol(u),[k])}),N=_t(P,2),V=N[0],U=N[1];I=vt(vt({},I),U),E+="".concat(k).concat(V)}else{let xe=function(_e,Se){var re=_e.replace(/[A-Z]/g,function(le){return"-".concat(le.toLowerCase())}),ce=Se;!sM[_e]&&typeof ce=="number"&&ce!==0&&(ce="".concat(ce,"px")),_e==="animationName"&&Se!==null&&Se!==void 0&&Se._keyframe&&(A(Se),ce=Se.getName(f)),E+="".concat(re,":").concat(ce,";")};var b,de=(b=Y==null?void 0:Y.value)!==null&&b!==void 0?b:Y;pn(Y)==="object"&&Y!==null&&Y!==void 0&&Y[eR]&&Array.isArray(de)?de.forEach(function(_e){xe(X,_e)}):xe(X,de)}})}}),s?d&&(E&&(E="@layer ".concat(d.name," {").concat(E,"}")),d.dependencies&&(I["@layer ".concat(d.name)]=d.dependencies.map(function(M){return"@layer ".concat(M,", ").concat(d.name,";")}).join(`
`))):E="{".concat(E,"}"),[E,I]};function tR(n,e){return Eu("".concat(n.join("%")).concat(e))}function kM(){return null}var nR="style";function Kw(n,e){var t=n.token,r=n.path,s=n.hashId,a=n.layer,u=n.nonce,f=n.clientOnly,d=n.order,p=d===void 0?0:d,v=z.useContext(kf),w=v.autoClear;v.mock;var E=v.defaultCache,I=v.hashPriority,A=v.container,D=v.ssrInline,C=v.transformers,M=v.linters,j=v.cache,W=v.layer,X=t._tokenKey,Y=[X];W&&Y.push("layer"),Y.push.apply(Y,ol(r));var L=Em,k=ay(nR,Y,function(){var U=Y.join("|");if(IM(U)){var b=RM(U),de=_t(b,2),xe=de[0],_e=de[1];if(xe)return[xe,X,_e,{},f,p]}var Se=e(),re=PM(Se,{hashId:s,hashPriority:I,layer:W?a:void 0,path:r.join("-"),transformers:C,linters:M}),ce=_t(re,2),le=ce[0],B=ce[1],ee=Eh(le),pe=tR(Y,ee);return[ee,X,pe,B,f,p]},function(U,b){var de=_t(U,3),xe=de[2];(b||w)&&Em&&$I(xe,{mark:Hr})},function(U){var b=_t(U,4),de=b[0];b[1];var xe=b[2],_e=b[3];if(L&&de!==JI){var Se={mark:Hr,prepend:W?!1:"queue",attachTo:A,priority:p},re=typeof u=="function"?u():u;re&&(Se.csp={nonce:re});var ce=[],le=[];Object.keys(_e).forEach(function(ee){ee.startsWith("@layer")?ce.push(ee):le.push(ee)}),ce.forEach(function(ee){lu(Eh(_e[ee]),"_layer-".concat(ee),vt(vt({},Se),{},{prepend:!0}))});var B=lu(de,xe,Se);B[Ls]=j.instanceId,B.setAttribute(Ga,X),le.forEach(function(ee){lu(Eh(_e[ee]),"_effect-".concat(ee),Se)})}}),R=_t(k,3),P=R[0],N=R[1],V=R[2];return function(U){var b;if(!D||L||!E)b=z.createElement(kM,null);else{var de;b=z.createElement("style",mm({},(de={},He(de,Ga,N),He(de,Hr,V),de),{dangerouslySetInnerHTML:{__html:P}}))}return z.createElement(z.Fragment,null,b,U)}}var bM=function(e,t,r){var s=_t(e,6),a=s[0],u=s[1],f=s[2],d=s[3],p=s[4],v=s[5],w=r||{},E=w.plain;if(p)return null;var I=a,A={"data-rc-order":"prependQueue","data-rc-priority":"".concat(v)};return I=qh(a,u,f,A,E),d&&Object.keys(d).forEach(function(D){if(!t[D]){t[D]=!0;var C=Eh(d[D]),M=qh(C,u,"_effect-".concat(D),A,E);D.startsWith("@layer")?I=M+I:I+=M}}),[v,f,I]},rR="cssVar",xM=function(e,t){var r=e.key,s=e.prefix,a=e.unitless,u=e.ignore,f=e.token,d=e.scope,p=d===void 0?"":d,v=z.useContext(kf),w=v.cache.instanceId,E=v.container,I=f._tokenKey,A=[].concat(ol(e.path),[r,p,I]),D=ay(rR,A,function(){var C=t(),M=HI(C,r,{prefix:s,unitless:a,ignore:u,scope:p}),j=_t(M,2),W=j[0],X=j[1],Y=tR(A,X);return[W,X,Y,r]},function(C){var M=_t(C,3),j=M[2];Em&&$I(j,{mark:Hr})},function(C){var M=_t(C,3),j=M[1],W=M[2];if(j){var X=lu(j,W,{mark:Hr,prepend:"queue",attachTo:E,priority:-999});X[Ls]=w,X.setAttribute(Ga,r)}});return D},DM=function(e,t,r){var s=_t(e,4),a=s[1],u=s[2],f=s[3],d=r||{},p=d.plain;if(!a)return null;var v=-999,w={"data-rc-order":"prependQueue","data-rc-priority":"".concat(v)},E=qh(a,f,u,w,p);return[v,u,E]},Hl;Hl={},He(Hl,nR,bM),He(Hl,WI,iM),He(Hl,rR,DM);var iR=function(){function n(e,t){ro(this,n),He(this,"name",void 0),He(this,"style",void 0),He(this,"_keyframe",!0),this.name=e,this.style=t}return io(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function Ca(n){return n.notSplit=!0,n}Ca(["borderTop","borderBottom"]),Ca(["borderTop"]),Ca(["borderBottom"]),Ca(["borderLeft","borderRight"]),Ca(["borderLeft"]),Ca(["borderRight"]);const sR={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Gh=Object.assign(Object.assign({},sR),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),tn=Math.round;function xp(n,e){const t=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=t.map(s=>parseFloat(s));for(let s=0;s<3;s+=1)r[s]=e(r[s]||0,t[s]||"",s);return t[3]?r[3]=t[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Qw=(n,e,t)=>t===0?n:n/100;function Wl(n,e){const t=e||255;return n>t?t:n<0?0:n}class rn{constructor(e){He(this,"isValid",!0),He(this,"r",0),He(this,"g",0),He(this,"b",0),He(this,"a",1),He(this,"_h",void 0),He(this,"_s",void 0),He(this,"_l",void 0),He(this,"_v",void 0),He(this,"_max",void 0),He(this,"_min",void 0),He(this,"_brightness",void 0);function t(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let s=function(a){return r.startsWith(a)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):s("rgb")?this.fromRgbString(r):s("hsl")?this.fromHslString(r):(s("hsv")||s("hsb"))&&this.fromHsvString(r)}else if(e instanceof rn)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Wl(e.r),this.g=Wl(e.g),this.b=Wl(e.b),this.a=typeof e.a=="number"?Wl(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else if(t("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(a){const u=a/255;return u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4)}const t=e(this.r),r=e(this.g),s=e(this.b);return .2126*t+.7152*r+.0722*s}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=tn(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const t=this.getHue(),r=this.getSaturation();let s=this.getLightness()-e/100;return s<0&&(s=0),this._c({h:t,s:r,l:s,a:this.a})}lighten(e=10){const t=this.getHue(),r=this.getSaturation();let s=this.getLightness()+e/100;return s>1&&(s=1),this._c({h:t,s:r,l:s,a:this.a})}mix(e,t=50){const r=this._c(e),s=t/100,a=f=>(r[f]-this[f])*s+this[f],u={r:tn(a("r")),g:tn(a("g")),b:tn(a("b")),a:tn(a("a")*100)/100};return this._c(u)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),r=this.a+t.a*(1-this.a),s=a=>tn((this[a]*this.a+t[a]*t.a*(1-this.a))/r);return this._c({r:s("r"),g:s("g"),b:s("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=t.length===2?t:"0"+t;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const s=(this.b||0).toString(16);if(e+=s.length===2?s:"0"+s,typeof this.a=="number"&&this.a>=0&&this.a<1){const a=tn(this.a*255).toString(16);e+=a.length===2?a:"0"+a}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=tn(this.getSaturation()*100),r=tn(this.getLightness()*100);return this.a!==1?`hsla(${e},${t}%,${r}%,${this.a})`:`hsl(${e},${t}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,r){const s=this.clone();return s[e]=Wl(t,r),s}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function r(s,a){return parseInt(t[s]+t[a||s],16)}t.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=t[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=t[6]?r(6,7)/255:1)}fromHsl({h:e,s:t,l:r,a:s}){if(this._h=e%360,this._s=t,this._l=r,this.a=typeof s=="number"?s:1,t<=0){const E=tn(r*255);this.r=E,this.g=E,this.b=E}let a=0,u=0,f=0;const d=e/60,p=(1-Math.abs(2*r-1))*t,v=p*(1-Math.abs(d%2-1));d>=0&&d<1?(a=p,u=v):d>=1&&d<2?(a=v,u=p):d>=2&&d<3?(u=p,f=v):d>=3&&d<4?(u=v,f=p):d>=4&&d<5?(a=v,f=p):d>=5&&d<6&&(a=p,f=v);const w=r-p/2;this.r=tn((a+w)*255),this.g=tn((u+w)*255),this.b=tn((f+w)*255)}fromHsv({h:e,s:t,v:r,a:s}){this._h=e%360,this._s=t,this._v=r,this.a=typeof s=="number"?s:1;const a=tn(r*255);if(this.r=a,this.g=a,this.b=a,t<=0)return;const u=e/60,f=Math.floor(u),d=u-f,p=tn(r*(1-t)*255),v=tn(r*(1-t*d)*255),w=tn(r*(1-t*(1-d))*255);switch(f){case 0:this.g=w,this.b=p;break;case 1:this.r=v,this.b=p;break;case 2:this.r=p,this.b=w;break;case 3:this.r=p,this.g=v;break;case 4:this.r=w,this.g=p;break;case 5:default:this.g=p,this.b=v;break}}fromHsvString(e){const t=xp(e,Qw);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=xp(e,Qw);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=xp(e,(r,s)=>s.includes("%")?tn(r/100*255):r);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var nh=2,Xw=.16,NM=.05,OM=.05,LM=.15,oR=5,aR=4,MM=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Yw(n,e,t){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-nh*e:Math.round(n.h)+nh*e:r=t?Math.round(n.h)+nh*e:Math.round(n.h)-nh*e,r<0?r+=360:r>=360&&(r-=360),r}function Jw(n,e,t){if(n.h===0&&n.s===0)return n.s;var r;return t?r=n.s-Xw*e:e===aR?r=n.s+Xw:r=n.s+NM*e,r>1&&(r=1),t&&e===oR&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function Zw(n,e,t){var r;return t?r=n.v+OM*e:r=n.v-LM*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function lR(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=new rn(n),s=r.toHsv(),a=oR;a>0;a-=1){var u=new rn({h:Yw(s,a,!0),s:Jw(s,a,!0),v:Zw(s,a,!0)});t.push(u)}t.push(r);for(var f=1;f<=aR;f+=1){var d=new rn({h:Yw(s,f),s:Jw(s,f),v:Zw(s,f)});t.push(d)}return e.theme==="dark"?MM.map(function(p){var v=p.index,w=p.amount;return new rn(e.backgroundColor||"#141414").mix(t[v],w).toHexString()}):t.map(function(p){return p.toHexString()})}var Dp={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Rm=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Rm.primary=Rm[5];var Cm=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Cm.primary=Cm[5];var Am=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Am.primary=Am[5];var Pm=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Pm.primary=Pm[5];var km=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];km.primary=km[5];var bm=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];bm.primary=bm[5];var xm=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];xm.primary=xm[5];var Dm=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Dm.primary=Dm[5];var Nm=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Nm.primary=Nm[5];var Om=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Om.primary=Om[5];var Lm=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Lm.primary=Lm[5];var Mm=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Mm.primary=Mm[5];var Vm=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Vm.primary=Vm[5];var Np={red:Rm,volcano:Cm,orange:Am,gold:Pm,yellow:km,lime:bm,green:xm,cyan:Dm,blue:Nm,geekblue:Om,purple:Lm,magenta:Mm,grey:Vm};function VM(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:r}=e;const{colorSuccess:s,colorWarning:a,colorError:u,colorInfo:f,colorPrimary:d,colorBgBase:p,colorTextBase:v}=n,w=t(d),E=t(s),I=t(a),A=t(u),D=t(f),C=r(p,v),M=n.colorLink||n.colorInfo,j=t(M),W=new rn(A[1]).mix(new rn(A[3]),50).toHexString();return Object.assign(Object.assign({},C),{colorPrimaryBg:w[1],colorPrimaryBgHover:w[2],colorPrimaryBorder:w[3],colorPrimaryBorderHover:w[4],colorPrimaryHover:w[5],colorPrimary:w[6],colorPrimaryActive:w[7],colorPrimaryTextHover:w[8],colorPrimaryText:w[9],colorPrimaryTextActive:w[10],colorSuccessBg:E[1],colorSuccessBgHover:E[2],colorSuccessBorder:E[3],colorSuccessBorderHover:E[4],colorSuccessHover:E[4],colorSuccess:E[6],colorSuccessActive:E[7],colorSuccessTextHover:E[8],colorSuccessText:E[9],colorSuccessTextActive:E[10],colorErrorBg:A[1],colorErrorBgHover:A[2],colorErrorBgFilledHover:W,colorErrorBgActive:A[3],colorErrorBorder:A[3],colorErrorBorderHover:A[4],colorErrorHover:A[5],colorError:A[6],colorErrorActive:A[7],colorErrorTextHover:A[8],colorErrorText:A[9],colorErrorTextActive:A[10],colorWarningBg:I[1],colorWarningBgHover:I[2],colorWarningBorder:I[3],colorWarningBorderHover:I[4],colorWarningHover:I[4],colorWarning:I[6],colorWarningActive:I[7],colorWarningTextHover:I[8],colorWarningText:I[9],colorWarningTextActive:I[10],colorInfoBg:D[1],colorInfoBgHover:D[2],colorInfoBorder:D[3],colorInfoBorderHover:D[4],colorInfoHover:D[4],colorInfo:D[6],colorInfoActive:D[7],colorInfoTextHover:D[8],colorInfoText:D[9],colorInfoTextActive:D[10],colorLinkHover:j[4],colorLink:j[6],colorLinkActive:j[7],colorBgMask:new rn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const FM=n=>{let e=n,t=n,r=n,s=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?s=4:n>=8&&(s=6),{borderRadius:n,borderRadiusXS:r,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:s}};function UM(n){const{motionUnit:e,motionBase:t,borderRadius:r,lineWidth:s}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:s+1},FM(r))}const zM=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function jM(n){return(n+8)/n}function $M(n){const e=Array.from({length:10}).map((t,r)=>{const s=r-1,a=n*Math.pow(Math.E,s/5),u=r>1?Math.floor(a):Math.ceil(a);return Math.floor(u/2)*2});return e[1]=n,e.map(t=>({size:t,lineHeight:jM(t)}))}const BM=n=>{const e=$M(n),t=e.map(v=>v.size),r=e.map(v=>v.lineHeight),s=t[1],a=t[0],u=t[2],f=r[1],d=r[0],p=r[2];return{fontSizeSM:a,fontSize:s,fontSizeLG:u,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:f,lineHeightLG:p,lineHeightSM:d,fontHeight:Math.round(f*s),fontHeightLG:Math.round(p*u),fontHeightSM:Math.round(d*a),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function HM(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const _r=(n,e)=>new rn(n).setA(e).toRgbString(),ql=(n,e)=>new rn(n).darken(e).toHexString(),WM=n=>{const e=lR(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},qM=(n,e)=>{const t=n||"#fff",r=e||"#000";return{colorBgBase:t,colorTextBase:r,colorText:_r(r,.88),colorTextSecondary:_r(r,.65),colorTextTertiary:_r(r,.45),colorTextQuaternary:_r(r,.25),colorFill:_r(r,.15),colorFillSecondary:_r(r,.06),colorFillTertiary:_r(r,.04),colorFillQuaternary:_r(r,.02),colorBgSolid:_r(r,1),colorBgSolidHover:_r(r,.75),colorBgSolidActive:_r(r,.95),colorBgLayout:ql(t,4),colorBgContainer:ql(t,0),colorBgElevated:ql(t,0),colorBgSpotlight:_r(r,.85),colorBgBlur:"transparent",colorBorder:ql(t,15),colorBorderSecondary:ql(t,6)}};function GM(n){Dp.pink=Dp.magenta,Np.pink=Np.magenta;const e=Object.keys(sR).map(t=>{const r=n[t]===Dp[t]?Np[t]:lR(n[t]);return Array.from({length:10},()=>1).reduce((s,a,u)=>(s[`${t}-${u+1}`]=r[u],s[`${t}${u+1}`]=r[u],s),{})}).reduce((t,r)=>(t=Object.assign(Object.assign({},t),r),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),VM(n,{generateColorPalettes:WM,generateNeutralColorPalettes:qM})),BM(n.fontSize)),HM(n)),zM(n)),UM(n))}const KM=FL(GM),QM={token:Gh,override:{override:Gh},hashed:!0},XM=$r.createContext(QM),eE="ant",uR="anticon",C4=["outlined","borderless","filled","underlined"],YM=(n,e)=>e||(n?`${eE}-${n}`:eE),Kh=z.createContext({getPrefixCls:YM,iconPrefixCls:uR}),{Consumer:A4}=Kh,tE={};function JM(n){const e=z.useContext(Kh),{getPrefixCls:t,direction:r,getPopupContainer:s}=e,a=e[n];return Object.assign(Object.assign({classNames:tE,styles:tE},a),{getPrefixCls:t,direction:r,getPopupContainer:s})}var cR=io(function n(){ro(this,n)}),hR="CALC_UNIT",ZM=new RegExp(hR,"g");function Op(n){return typeof n=="number"?"".concat(n).concat(hR):n}var eV=function(n){LI(t,n);var e=VI(t);function t(r,s){var a;ro(this,t),a=e.call(this),He(au(a),"result",""),He(au(a),"unitlessCssVar",void 0),He(au(a),"lowPriority",void 0);var u=pn(r);return a.unitlessCssVar=s,r instanceof t?a.result="(".concat(r.result,")"):u==="number"?a.result=Op(r):u==="string"&&(a.result=r),a}return io(t,[{key:"add",value:function(s){return s instanceof t?this.result="".concat(this.result," + ").concat(s.getResult()):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," + ").concat(Op(s))),this.lowPriority=!0,this}},{key:"sub",value:function(s){return s instanceof t?this.result="".concat(this.result," - ").concat(s.getResult()):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," - ").concat(Op(s))),this.lowPriority=!0,this}},{key:"mul",value:function(s){return this.lowPriority&&(this.result="(".concat(this.result,")")),s instanceof t?this.result="".concat(this.result," * ").concat(s.getResult(!0)):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," * ").concat(s)),this.lowPriority=!1,this}},{key:"div",value:function(s){return this.lowPriority&&(this.result="(".concat(this.result,")")),s instanceof t?this.result="".concat(this.result," / ").concat(s.getResult(!0)):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," / ").concat(s)),this.lowPriority=!1,this}},{key:"getResult",value:function(s){return this.lowPriority||s?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(s){var a=this,u=s||{},f=u.unit,d=!0;return typeof f=="boolean"?d=f:Array.from(this.unitlessCssVar).some(function(p){return a.result.includes(p)})&&(d=!1),this.result=this.result.replace(ZM,d?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(cR),tV=function(n){LI(t,n);var e=VI(t);function t(r){var s;return ro(this,t),s=e.call(this),He(au(s),"result",0),r instanceof t?s.result=r.result:typeof r=="number"&&(s.result=r),s}return io(t,[{key:"add",value:function(s){return s instanceof t?this.result+=s.result:typeof s=="number"&&(this.result+=s),this}},{key:"sub",value:function(s){return s instanceof t?this.result-=s.result:typeof s=="number"&&(this.result-=s),this}},{key:"mul",value:function(s){return s instanceof t?this.result*=s.result:typeof s=="number"&&(this.result*=s),this}},{key:"div",value:function(s){return s instanceof t?this.result/=s.result:typeof s=="number"&&(this.result/=s),this}},{key:"equal",value:function(){return this.result}}]),t}(cR),nV=function(e,t){var r=e==="css"?eV:tV;return function(s){return new r(s,t)}},nE=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function rE(n,e,t,r){var s=vt({},e[n]);if(r!=null&&r.deprecatedTokens){var a=r.deprecatedTokens;a.forEach(function(f){var d=_t(f,2),p=d[0],v=d[1];if(s!=null&&s[p]||s!=null&&s[v]){var w;(w=s[v])!==null&&w!==void 0||(s[v]=s==null?void 0:s[p])}})}var u=vt(vt({},t),s);return Object.keys(u).forEach(function(f){u[f]===e[f]&&delete u[f]}),u}var fR=typeof CSSINJS_STATISTIC<"u",Fm=!0;function cy(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!fR)return Object.assign.apply(Object,[{}].concat(e));Fm=!1;var r={};return e.forEach(function(s){if(pn(s)==="object"){var a=Object.keys(s);a.forEach(function(u){Object.defineProperty(r,u,{configurable:!0,enumerable:!0,get:function(){return s[u]}})})}}),Fm=!0,r}var iE={};function rV(){}var iV=function(e){var t,r=e,s=rV;return fR&&typeof Proxy<"u"&&(t=new Set,r=new Proxy(e,{get:function(u,f){if(Fm){var d;(d=t)===null||d===void 0||d.add(f)}return u[f]}}),s=function(u,f){var d;iE[u]={global:Array.from(t),component:vt(vt({},(d=iE[u])===null||d===void 0?void 0:d.component),f)}}),{token:r,keys:t,flush:s}};function sE(n,e,t){if(typeof t=="function"){var r;return t(cy(e,(r=e[n])!==null&&r!==void 0?r:{}))}return t??{}}function sV(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return"max(".concat(r.map(function(a){return Tm(a)}).join(","),")")},min:function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return"min(".concat(r.map(function(a){return Tm(a)}).join(","),")")}}}var oV=1e3*60*10,aV=function(){function n(){ro(this,n),He(this,"map",new Map),He(this,"objectIDMap",new WeakMap),He(this,"nextID",0),He(this,"lastAccessBeat",new Map),He(this,"accessBeat",0)}return io(n,[{key:"set",value:function(t,r){this.clear();var s=this.getCompositeKey(t);this.map.set(s,r),this.lastAccessBeat.set(s,Date.now())}},{key:"get",value:function(t){var r=this.getCompositeKey(t),s=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,s}},{key:"getCompositeKey",value:function(t){var r=this,s=t.map(function(a){return a&&pn(a)==="object"?"obj_".concat(r.getObjectID(a)):"".concat(pn(a),"_").concat(a)});return s.join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);var r=this.nextID;return this.objectIDMap.set(t,r),this.nextID+=1,r}},{key:"clear",value:function(){var t=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(s,a){r-s>oV&&(t.map.delete(a),t.lastAccessBeat.delete(a))}),this.accessBeat=0}}}]),n}(),oE=new aV;function lV(n,e){return $r.useMemo(function(){var t=oE.get(e);if(t)return t;var r=n();return oE.set(e,r),r},e)}var uV=function(){return{}};function cV(n){var e=n.useCSP,t=e===void 0?uV:e,r=n.useToken,s=n.usePrefix,a=n.getResetStyles,u=n.getCommonStyle,f=n.getCompUnitless;function d(E,I,A,D){var C=Array.isArray(E)?E[0]:E;function M(R){return"".concat(String(C)).concat(R.slice(0,1).toUpperCase()).concat(R.slice(1))}var j=(D==null?void 0:D.unitless)||{},W=typeof f=="function"?f(E):{},X=vt(vt({},W),{},He({},M("zIndexPopup"),!0));Object.keys(j).forEach(function(R){X[M(R)]=j[R]});var Y=vt(vt({},D),{},{unitless:X,prefixToken:M}),L=v(E,I,A,Y),k=p(C,A,Y);return function(R){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R,N=L(R,P),V=_t(N,2),U=V[1],b=k(P),de=_t(b,2),xe=de[0],_e=de[1];return[xe,U,_e]}}function p(E,I,A){var D=A.unitless,C=A.injectStyle,M=C===void 0?!0:C,j=A.prefixToken,W=A.ignore,X=function(k){var R=k.rootCls,P=k.cssVar,N=P===void 0?{}:P,V=r(),U=V.realToken;return xM({path:[E],prefix:N.prefix,key:N.key,unitless:D,ignore:W,token:U,scope:R},function(){var b=sE(E,U,I),de=rE(E,U,b,{deprecatedTokens:A==null?void 0:A.deprecatedTokens});return Object.keys(b).forEach(function(xe){de[j(xe)]=de[xe],delete de[xe]}),de}),null},Y=function(k){var R=r(),P=R.cssVar;return[function(N){return M&&P?$r.createElement($r.Fragment,null,$r.createElement(X,{rootCls:k,cssVar:P,component:E}),N):N},P==null?void 0:P.key]};return Y}function v(E,I,A){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},C=Array.isArray(E)?E:[E,E],M=_t(C,1),j=M[0],W=C.join("-"),X=n.layer||{name:"antd"};return function(Y){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y,k=r(),R=k.theme,P=k.realToken,N=k.hashId,V=k.token,U=k.cssVar,b=s(),de=b.rootPrefixCls,xe=b.iconPrefixCls,_e=t(),Se=U?"css":"js",re=lV(function(){var ke=new Set;return U&&Object.keys(D.unitless||{}).forEach(function(Ve){ke.add(yh(Ve,U.prefix)),ke.add(yh(Ve,nE(j,U.prefix)))}),nV(Se,ke)},[Se,j,U==null?void 0:U.prefix]),ce=sV(Se),le=ce.max,B=ce.min,ee={theme:R,token:V,hashId:N,nonce:function(){return _e.nonce},clientOnly:D.clientOnly,layer:X,order:D.order||-999};typeof a=="function"&&Kw(vt(vt({},ee),{},{clientOnly:!1,path:["Shared",de]}),function(){return a(V,{prefix:{rootPrefixCls:de,iconPrefixCls:xe},csp:_e})});var pe=Kw(vt(vt({},ee),{},{path:[W,Y,xe]}),function(){if(D.injectStyle===!1)return[];var ke=iV(V),Ve=ke.token,$e=ke.flush,qe=sE(j,P,A),tt=".".concat(Y),lt=rE(j,P,qe,{deprecatedTokens:D.deprecatedTokens});U&&qe&&pn(qe)==="object"&&Object.keys(qe).forEach(function(qn){qe[qn]="var(".concat(yh(qn,nE(j,U.prefix)),")")});var Je=cy(Ve,{componentCls:tt,prefixCls:Y,iconCls:".".concat(xe),antCls:".".concat(de),calc:re,max:le,min:B},U?qe:lt),Kt=I(Je,{hashId:N,prefixCls:Y,rootPrefixCls:de,iconPrefixCls:xe});$e(j,lt);var Cr=typeof u=="function"?u(Je,Y,L,D.resetFont):null;return[D.resetStyle===!1?null:Cr,Kt]});return[pe,N]}}function w(E,I,A){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},C=v(E,I,A,vt({resetStyle:!1,order:-998},D)),M=function(W){var X=W.prefixCls,Y=W.rootCls,L=Y===void 0?X:Y;return C(X,L),null};return M}return{genStyleHooks:d,genSubStyleComponent:w,genComponentStyleHook:v}}const hV="5.25.1";function Lp(n){return n>=0&&n<=255}function rh(n,e){const{r:t,g:r,b:s,a}=new rn(n).toRgb();if(a<1)return n;const{r:u,g:f,b:d}=new rn(e).toRgb();for(let p=.01;p<=1;p+=.01){const v=Math.round((t-u*(1-p))/p),w=Math.round((r-f*(1-p))/p),E=Math.round((s-d*(1-p))/p);if(Lp(v)&&Lp(w)&&Lp(E))return new rn({r:v,g:w,b:E,a:Math.round(p*100)/100}).toRgbString()}return new rn({r:t,g:r,b:s,a:1}).toRgbString()}var fV=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function dR(n){const{override:e}=n,t=fV(n,["override"]),r=Object.assign({},e);Object.keys(Gh).forEach(E=>{delete r[E]});const s=Object.assign(Object.assign({},t),r),a=480,u=576,f=768,d=992,p=1200,v=1600;if(s.motion===!1){const E="0s";s.motionDurationFast=E,s.motionDurationMid=E,s.motionDurationSlow=E}return Object.assign(Object.assign(Object.assign({},s),{colorFillContent:s.colorFillSecondary,colorFillContentHover:s.colorFill,colorFillAlter:s.colorFillQuaternary,colorBgContainerDisabled:s.colorFillTertiary,colorBorderBg:s.colorBgContainer,colorSplit:rh(s.colorBorderSecondary,s.colorBgContainer),colorTextPlaceholder:s.colorTextQuaternary,colorTextDisabled:s.colorTextQuaternary,colorTextHeading:s.colorText,colorTextLabel:s.colorTextSecondary,colorTextDescription:s.colorTextTertiary,colorTextLightSolid:s.colorWhite,colorHighlight:s.colorError,colorBgTextHover:s.colorFillSecondary,colorBgTextActive:s.colorFill,colorIcon:s.colorTextTertiary,colorIconHover:s.colorText,colorErrorOutline:rh(s.colorErrorBg,s.colorBgContainer),colorWarningOutline:rh(s.colorWarningBg,s.colorBgContainer),fontSizeIcon:s.fontSizeSM,lineWidthFocus:s.lineWidth*3,lineWidth:s.lineWidth,controlOutlineWidth:s.lineWidth*2,controlInteractiveSize:s.controlHeight/2,controlItemBgHover:s.colorFillTertiary,controlItemBgActive:s.colorPrimaryBg,controlItemBgActiveHover:s.colorPrimaryBgHover,controlItemBgActiveDisabled:s.colorFill,controlTmpOutline:s.colorFillQuaternary,controlOutline:rh(s.colorPrimaryBg,s.colorBgContainer),lineType:s.lineType,borderRadius:s.borderRadius,borderRadiusXS:s.borderRadiusXS,borderRadiusSM:s.borderRadiusSM,borderRadiusLG:s.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:s.sizeXXS,paddingXS:s.sizeXS,paddingSM:s.sizeSM,padding:s.size,paddingMD:s.sizeMD,paddingLG:s.sizeLG,paddingXL:s.sizeXL,paddingContentHorizontalLG:s.sizeLG,paddingContentVerticalLG:s.sizeMS,paddingContentHorizontal:s.sizeMS,paddingContentVertical:s.sizeSM,paddingContentHorizontalSM:s.size,paddingContentVerticalSM:s.sizeXS,marginXXS:s.sizeXXS,marginXS:s.sizeXS,marginSM:s.sizeSM,margin:s.size,marginMD:s.sizeMD,marginLG:s.sizeLG,marginXL:s.sizeXL,marginXXL:s.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:a,screenXSMin:a,screenXSMax:u-1,screenSM:u,screenSMMin:u,screenSMMax:f-1,screenMD:f,screenMDMin:f,screenMDMax:d-1,screenLG:d,screenLGMin:d,screenLGMax:p-1,screenXL:p,screenXLMin:p,screenXLMax:v-1,screenXXL:v,screenXXLMin:v,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new rn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new rn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new rn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var aE=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const pR={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},dV={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},pV={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},mR=(n,e,t)=>{const r=t.getDerivativeToken(n),{override:s}=e,a=aE(e,["override"]);let u=Object.assign(Object.assign({},r),{override:s});return u=dR(u),a&&Object.entries(a).forEach(f=>{let[d,p]=f;const{theme:v}=p,w=aE(p,["theme"]);let E=w;v&&(E=mR(Object.assign(Object.assign({},u),w),{override:w},v)),u[d]=E}),u};function mV(){const{token:n,hashed:e,theme:t,override:r,cssVar:s}=$r.useContext(XM),a=`${hV}-${e||""}`,u=t||KM,[f,d,p]=rM(u,[Gh,n],{salt:a,override:r,getComputedToken:mR,formatToken:dR,cssVar:s&&{prefix:s.prefix,key:s.key,unitless:pR,ignore:dV,preserve:pV}});return[u,p,e?d:"",f,s]}const P4={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},gV=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},yV=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),k4=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),vV=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active, &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),_V=(n,e,t,r)=>{const s=`[class^="${e}"], [class*=" ${e}"]`,a=t?`.${t}`:s,u={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let f={};return r!==!1&&(f={fontFamily:n.fontFamily,fontSize:n.fontSize}),{[a]:Object.assign(Object.assign(Object.assign({},f),u),{[s]:u})}},wV=(n,e)=>({outline:`${Tm(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),b4=(n,e)=>({"&:focus-visible":Object.assign({},wV(n,e))}),EV=n=>({[`.${n}`]:Object.assign(Object.assign({},yV()),{[`.${n} .${n}-icon`]:{display:"block"}})}),{genStyleHooks:TV,genComponentStyleHook:x4,genSubStyleComponent:D4}=cV({usePrefix:()=>{const{getPrefixCls:n,iconPrefixCls:e}=z.useContext(Kh);return{rootPrefixCls:n(),iconPrefixCls:e}},useToken:()=>{const[n,e,t,r,s]=mV();return{theme:n,realToken:e,hashId:t,token:r,cssVar:s}},useCSP:()=>{const{csp:n}=z.useContext(Kh);return n??{}},getResetStyles:(n,e)=>{var t;const r=vV(n);return[r,{"&":r},EV((t=e==null?void 0:e.prefix.iconPrefixCls)!==null&&t!==void 0?t:uR)]},getCommonStyle:_V,getCompUnitless:()=>pR});function N4(n){return n&&$r.isValidElement(n)&&n.type===$r.Fragment}const SV=(n,e,t)=>$r.isValidElement(n)?$r.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e;function IV(n,e){return SV(n,n,e)}function RV(n,e,t){var r=t||{},s=r.noTrailing,a=s===void 0?!1:s,u=r.noLeading,f=u===void 0?!1:u,d=r.debounceMode,p=d===void 0?void 0:d,v,w=!1,E=0;function I(){v&&clearTimeout(v)}function A(C){var M=C||{},j=M.upcomingOnly,W=j===void 0?!1:j;I(),w=!W}function D(){for(var C=arguments.length,M=new Array(C),j=0;j<C;j++)M[j]=arguments[j];var W=this,X=Date.now()-E;if(w)return;function Y(){E=Date.now(),e.apply(W,M)}function L(){v=void 0}!f&&p&&!v&&Y(),I(),p===void 0&&X>n?f?(E=Date.now(),a||(v=setTimeout(p?L:Y,n))):Y():a!==!0&&(v=setTimeout(p?L:Y,p===void 0?n-X:n))}return D.cancel=A,D}function CV(n,e,t){var r={},s=r.atBegin,a=s===void 0?!1:s;return RV(n,e,{debounceMode:a!==!1})}const Qh=100,gR=Qh/5,yR=Qh/2-gR/2,Mp=yR*2*Math.PI,lE=50,uE=n=>{const{dotClassName:e,style:t,hasCircleCls:r}=n;return z.createElement("circle",{className:ji(`${e}-circle`,{[`${e}-circle-bg`]:r}),r:yR,cx:lE,cy:lE,strokeWidth:gR,style:t})},AV=n=>{let{percent:e,prefixCls:t}=n;const r=`${t}-dot`,s=`${r}-holder`,a=`${s}-hidden`,[u,f]=z.useState(!1);oy(()=>{e!==0&&f(!0)},[e!==0]);const d=Math.max(Math.min(e,100),0);if(!u)return null;const p={strokeDashoffset:`${Mp/4}`,strokeDasharray:`${Mp*d/100} ${Mp*(100-d)/100}`};return z.createElement("span",{className:ji(s,`${r}-progress`,d<=0&&a)},z.createElement("svg",{viewBox:`0 0 ${Qh} ${Qh}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":d},z.createElement(uE,{dotClassName:r,hasCircleCls:!0}),z.createElement(uE,{dotClassName:r,style:p})))};function PV(n){const{prefixCls:e,percent:t=0}=n,r=`${e}-dot`,s=`${r}-holder`,a=`${s}-hidden`;return z.createElement(z.Fragment,null,z.createElement("span",{className:ji(s,t>0&&a)},z.createElement("span",{className:ji(r,`${e}-dot-spin`)},[1,2,3,4].map(u=>z.createElement("i",{className:`${e}-dot-item`,key:u})))),z.createElement(AV,{prefixCls:e,percent:t}))}function kV(n){const{prefixCls:e,indicator:t,percent:r}=n,s=`${e}-dot`;return t&&z.isValidElement(t)?IV(t,{className:ji(t.props.className,s),percent:r}):z.createElement(PV,{prefixCls:e,percent:r})}const bV=new iR("antSpinMove",{to:{opacity:1}}),xV=new iR("antRotate",{to:{transform:"rotate(405deg)"}}),DV=n=>{const{componentCls:e,calc:t}=n;return{[e]:Object.assign(Object.assign({},gV(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:n.fontSize,paddingTop:t(t(n.dotSize).sub(n.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:n.colorBgMask,zIndex:n.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${n.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:n.colorWhite},[`${e}-text`]:{color:n.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(n.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(n.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeSM).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(n.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeLG).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:n.dotSize,display:"inline-block",transition:`transform ${n.motionDurationSlow} ease, opacity ${n.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:n.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),height:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:bV,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:xV,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${n.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:n.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal(),height:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal(),height:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},NV=n=>{const{controlHeightLG:e,controlHeight:t}=n;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},OV=TV("Spin",n=>{const e=cy(n,{spinDotDefault:n.colorTextDescription});return[DV(e)]},NV),LV=200,cE=[[30,.05],[70,.03],[96,.01]];function MV(n,e){const[t,r]=z.useState(0),s=z.useRef(null),a=e==="auto";return z.useEffect(()=>(a&&n&&(r(0),s.current=setInterval(()=>{r(u=>{const f=100-u;for(let d=0;d<cE.length;d+=1){const[p,v]=cE[d];if(u<=p)return u+f*v}return u})},LV)),()=>{clearInterval(s.current)}),[a,n]),a?t:e}var VV=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let vR;function FV(n,e){return!!n&&!!e&&!Number.isNaN(Number(e))}const hy=n=>{var e;const{prefixCls:t,spinning:r=!0,delay:s=0,className:a,rootClassName:u,size:f="default",tip:d,wrapperClassName:p,style:v,children:w,fullscreen:E=!1,indicator:I,percent:A}=n,D=VV(n,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:C,direction:M,className:j,style:W,indicator:X}=JM("spin"),Y=C("spin",t),[L,k,R]=OV(Y),[P,N]=z.useState(()=>r&&!FV(r,s)),V=MV(P,A);z.useEffect(()=>{if(r){const re=CV(s,()=>{N(!0)});return re(),()=>{var ce;(ce=re==null?void 0:re.cancel)===null||ce===void 0||ce.call(re)}}N(!1)},[s,r]);const U=z.useMemo(()=>typeof w<"u"&&!E,[w,E]),b=ji(Y,j,{[`${Y}-sm`]:f==="small",[`${Y}-lg`]:f==="large",[`${Y}-spinning`]:P,[`${Y}-show-text`]:!!d,[`${Y}-rtl`]:M==="rtl"},a,!E&&u,k,R),de=ji(`${Y}-container`,{[`${Y}-blur`]:P}),xe=(e=I??X)!==null&&e!==void 0?e:vR,_e=Object.assign(Object.assign({},W),v),Se=z.createElement("div",Object.assign({},D,{style:_e,className:b,"aria-live":"polite","aria-busy":P}),z.createElement(kV,{prefixCls:Y,indicator:xe,percent:V}),d&&(U||E)?z.createElement("div",{className:`${Y}-text`},d):null);return L(U?z.createElement("div",Object.assign({},D,{className:ji(`${Y}-nested-loading`,p,k,R)}),P&&z.createElement("div",{key:"loading"},Se),z.createElement("div",{className:de,key:"container"},w)):E?z.createElement("div",{className:ji(`${Y}-fullscreen`,{[`${Y}-fullscreen-show`]:P},u,k,R)},Se):Se)};hy.setDefaultIndicator=n=>{vR=n};function UV({children:n}){const{currentUser:e,loading:t}=ty();return t?mt.jsx("div",{className:"h-screen flex items-center justify-center",children:mt.jsx(hy,{size:"large"})}):e?mt.jsx(mt.Fragment,{children:n}):mt.jsx(LE,{to:"/login",replace:!0})}function hE({children:n}){const{currentUser:e,loading:t}=ty();return t?mt.jsx("div",{className:"h-screen flex items-center justify-center",children:mt.jsx(hy,{size:"large"})}):e?mt.jsx(LE,{to:"/",replace:!0}):mt.jsx(mt.Fragment,{children:n})}const zV=z.lazy(()=>Ya(()=>import("./App-bW8q6EOQ.js"),[])),jV=z.lazy(()=>Ya(()=>import("./Login-xM9Q1PSH.js"),__vite__mapDeps([0,1,2,3]))),$V=z.lazy(()=>Ya(()=>import("./Register-D6j9RZDm.js"),__vite__mapDeps([4,1,2,3]))),BV=z.lazy(()=>Ya(()=>import("./Home-B1JAywd8.js"),__vite__mapDeps([5,6,2,3]))),HV=z.lazy(()=>Ya(()=>import("./ChatRoom-p66oCXiC.js"),__vite__mapDeps([7,6,2]))),WV=z.lazy(()=>Ya(()=>import("./NotFound-CPRpmwYr.js"),[])),qV=R1([{path:"/",element:mt.jsx(UV,{children:mt.jsx(zV,{})}),children:[{path:"",element:mt.jsx(BV,{})},{path:"chat/:chatId",element:mt.jsx(HV,{})}]},{path:"login",element:mt.jsx(hE,{children:mt.jsx(jV,{})})},{path:"register",element:mt.jsx(hE,{children:mt.jsx($V,{})})},{path:"*",element:mt.jsx(WV,{})}]);function GV(){return mt.jsx("div",{className:"flex justify-center items-center h-screen text-xl text-blue-500",children:"Đang tải nội dung..."})}const _R=z.createContext({user:null}),KV=({children:n})=>{const{currentUser:e}=ty(),[t,r]=z.useState(null);z.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid)){r(null);return}try{const u=await $O(eI(nL,"users",e.uid));u.exists()?r(u.data()):(console.warn("Không tìm thấy user trong Firestore."),r(null))}catch(u){console.error("Lỗi khi lấy user từ Firestore:",u),r(null)}})()},[e]);const s=z.useMemo(()=>({user:t}),[t]);return mt.jsx(_R.Provider,{value:s,children:n})},O4=()=>z.useContext(_R);bC.createRoot(document.getElementById("root")).render(mt.jsx(z.StrictMode,{children:mt.jsx(rL,{children:mt.jsx(KV,{children:mt.jsx(z.Suspense,{fallback:mt.jsx(GV,{}),children:mt.jsx(F1,{router:qV})})})})}));export{Dp as $,Mu as A,k4 as B,Kh as C,vt as D,_t as E,vi as F,Qm as G,He as H,vL as I,ny as J,iR as K,zE as L,T4 as M,LI as N,YV as O,VI as P,ro as Q,$r as R,io as S,pn as T,S4 as U,wV as V,P4 as W,rn as X,yV as Y,b4 as Z,ol as _,oy as a,au as a0,Nm as a1,Um as a2,_4 as a3,y4 as a4,v4 as a5,E4 as a6,h4 as a7,g4 as a8,f4 as a9,EV as aA,dE as aB,QM as aC,uR as aD,kf as aE,FL as aF,KM as aG,Gh as aH,XM as aI,eE as aJ,JV as aK,x4 as aL,jM as aM,rh as aN,$I as aO,MI as aP,ym as aQ,Wh as aR,C4 as aS,n4 as aa,t4 as ab,s4 as ac,o4 as ad,a4 as ae,u4 as af,O4 as ag,p4 as ah,d4 as ai,m4 as aj,wL as ak,N4 as al,QV as am,Ys as an,l4 as ao,bL as ap,V1 as aq,uL as ar,AL as as,RL as at,FI as au,kL as av,lu as aw,lR as ax,R4 as ay,Kw as az,gV as b,ji as c,Tm as d,JM as e,I4 as f,TV as g,EL as h,D4 as i,mt as j,mm as k,IV as l,cy as m,r4 as n,eI as o,nL as p,$O as q,z as r,TL as s,c4 as t,mV as u,w4 as v,tL as w,NE as x,e4 as y,ZV as z};
